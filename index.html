<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToolBox - 개발자 도구 모음</title>
    <meta name="description" content="개발하면서 자주 쓰는 도구들 모아봤습니다. QR코드, 글자수 세기, PDF 변환 등 무료로 사용하세요.">
    <meta property="og:title" content="ToolBox - 개발자 도구 모음">
    <meta property="og:description" content="QR코드, PDF 병합, 글자수 세기 등 무료 온라인 도구">
    <meta property="og:type" content="website">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='15' fill='%23222'/><text x='50' y='65' font-size='45' text-anchor='middle' fill='%23888' font-family='Arial' font-weight='bold'>T</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8968767404465379" crossorigin="anonymous"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, sans-serif; background: #0a0a0a; min-height: 100vh; color: #999; line-height: 1.5; }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        nav { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 1px solid #1a1a1a; margin-bottom: 40px; }
        .logo { font-size: 1.1rem; font-weight: 600; color: #fff; letter-spacing: -0.5px; }
        .nav-right { display: flex; align-items: center; gap: 15px; }
        nav a { color: #555; text-decoration: none; font-size: 0.85rem; }
        nav a:hover { color: #888; }
        .lang-btn { background: none; border: 1px solid #333; color: #666; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.8rem; display: flex; align-items: center; gap: 5px; }
        .lang-btn:hover { border-color: #444; color: #888; }
        .donate-btn { background: #1a1a1a; border: 1px solid #333; color: #888; padding: 6px 12px; border-radius: 5px; cursor: pointer; font-size: 0.8rem; text-decoration: none; }
        .donate-btn:hover { background: #222; color: #aaa; }
        header { text-align: center; padding: 30px 0 40px; }
        header h1 { font-size: 1.5rem; color: #ddd; font-weight: 600; margin-bottom: 8px; }
        header p { color: #555; font-size: 0.9rem; }
        .section-title { color: #444; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 2px; margin: 35px 0 12px; font-weight: 500; }
        .tools-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; }
        .tool-card { background: #111; border-radius: 8px; padding: 16px 18px; cursor: pointer; border: 1px solid #1a1a1a; transition: all 0.15s; }
        .tool-card:hover { background: #161616; border-color: #252525; }
        .tool-card h3 { font-size: 0.9rem; color: #ccc; font-weight: 500; margin-bottom: 3px; }
        .tool-card p { color: #555; font-size: 0.75rem; }
        .tool-section { display: none; background: #111; border-radius: 10px; padding: 25px; margin: 20px 0; border: 1px solid #1a1a1a; }
        .tool-section.active { display: block; }
        .tool-section h2 { font-size: 1.1rem; color: #ddd; font-weight: 500; margin-bottom: 20px; }
        .back-btn { background: transparent; border: 1px solid #222; color: #666; padding: 6px 12px; border-radius: 5px; cursor: pointer; margin-bottom: 15px; font-size: 0.8rem; }
        .back-btn:hover { border-color: #333; color: #888; }
        input, textarea, select { width: 100%; padding: 12px 14px; border-radius: 6px; border: 1px solid #222; background: #0a0a0a; color: #ccc; font-size: 0.9rem; margin-bottom: 10px; font-family: inherit; }
        input:focus, textarea:focus { outline: none; border-color: #333; }
        textarea { min-height: 100px; resize: vertical; }
        input[type="file"] { padding: 10px; }
        input[type="color"] { padding: 5px; height: 45px; }
        input[type="range"] { padding: 0; }
        .btn { background: #1a1a1a; border: 1px solid #2a2a2a; color: #aaa; padding: 10px 18px; border-radius: 6px; cursor: pointer; font-size: 0.85rem; font-weight: 500; transition: all 0.15s; margin-right: 6px; margin-bottom: 6px; }
        .btn:hover { background: #222; border-color: #333; color: #ccc; }
        .btn-primary { background: #2a2a2a; border-color: #333; color: #ddd; }
        .btn-danger { background: #3a2020; border-color: #442828; color: #c88; }
        .result-box { background: #0a0a0a; border-radius: 6px; padding: 15px; margin-top: 15px; border: 1px solid #1a1a1a; word-break: break-all; font-size: 0.85rem; }
        #qrcode { display: flex; justify-content: center; margin: 15px 0; }
        #qrcode canvas { border-radius: 6px; }
        .stats-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 8px; margin-top: 15px; }
        .stat-box { background: #0a0a0a; padding: 12px; border-radius: 6px; text-align: center; border: 1px solid #1a1a1a; }
        .stat-box .number { font-size: 1.3rem; font-weight: 600; color: #ddd; }
        .stat-box .label { color: #555; font-size: 0.7rem; margin-top: 2px; }
        .copy-btn { background: #1a1a1a; border: none; color: #666; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 0.75rem; margin-top: 8px; }
        .copy-btn:hover { color: #999; }
        .row { display: flex; gap: 10px; flex-wrap: wrap; }
        .row > * { flex: 1; min-width: 150px; }
        .file-list { margin: 10px 0; }
        .file-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; background: #0f0f0f; border-radius: 5px; margin-bottom: 5px; font-size: 0.8rem; }
        .file-item button { background: none; border: none; color: #555; cursor: pointer; font-size: 0.9rem; }
        .file-item button:hover { color: #888; }
        .info-box { background: #0f0f0f; border-left: 2px solid #333; padding: 12px 15px; margin: 15px 0; font-size: 0.8rem; color: #666; line-height: 1.6; }
        .color-preview { width: 100%; height: 60px; border-radius: 6px; margin-bottom: 10px; }
        .color-info { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .color-info div { background: #0a0a0a; padding: 10px; border-radius: 5px; text-align: center; border: 1px solid #1a1a1a; font-size: 0.8rem; }
        .color-info .label { color: #555; font-size: 0.65rem; display: block; margin-bottom: 3px; }
        .options { display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 12px; }
        .options label { display: flex; align-items: center; gap: 5px; color: #666; font-size: 0.85rem; cursor: pointer; }
        .options input[type="checkbox"], .options input[type="radio"] { width: auto; margin: 0; }
        .password-display { font-family: 'SF Mono', 'Consolas', monospace; font-size: 1.1rem; text-align: center; padding: 15px; background: #0a0a0a; border-radius: 6px; margin: 15px 0; border: 1px solid #1a1a1a; color: #ddd; letter-spacing: 1px; }
        .img-preview { max-width: 100%; max-height: 300px; border-radius: 6px; margin: 10px 0; }
        .slider-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .slider-row input[type="range"] { flex: 1; }
        .slider-row span { color: #888; font-size: 0.85rem; min-width: 50px; }
        .markdown-preview { background: #0f0f0f; padding: 15px; border-radius: 6px; border: 1px solid #1a1a1a; color: #ccc; line-height: 1.8; }
        .markdown-preview h1, .markdown-preview h2, .markdown-preview h3 { color: #ddd; margin: 15px 0 10px; }
        .markdown-preview code { background: #1a1a1a; padding: 2px 6px; border-radius: 3px; }
        .markdown-preview pre { background: #1a1a1a; padding: 10px; border-radius: 5px; overflow-x: auto; }
        .markdown-preview a { color: #6a9fb5; }
        .markdown-preview ul, .markdown-preview ol { margin-left: 20px; }
        .timer-display { font-size: 3rem; font-weight: 600; color: #ddd; text-align: center; padding: 30px; font-family: 'SF Mono', monospace; }
        .timer-controls { display: flex; justify-content: center; gap: 10px; margin-top: 15px; }
        .gradient-preview { width: 100%; height: 100px; border-radius: 8px; margin: 15px 0; }
        .shadow-preview { width: 150px; height: 150px; background: #333; margin: 20px auto; border-radius: 10px; }
        .strength-bar { height: 8px; border-radius: 4px; background: #1a1a1a; margin-top: 10px; overflow: hidden; }
        .strength-fill { height: 100%; transition: all 0.3s; }
        .diff-result { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .diff-result > div { padding: 10px; border-radius: 6px; font-size: 0.8rem; white-space: pre-wrap; font-family: monospace; }
        .diff-old { background: #2a1515; }
        .diff-new { background: #152a15; }
        footer { text-align: center; padding: 40px 0 30px; border-top: 1px solid #111; margin-top: 50px; }
        footer p { color: #333; font-size: 0.8rem; }
        footer a { color: #444; text-decoration: none; margin: 0 8px; font-size: 0.8rem; }
        footer a:hover { color: #666; }
        .lang-modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; }
        .lang-modal.active { display: flex; }
        .lang-modal-content { background: #111; border: 1px solid #222; border-radius: 10px; padding: 25px; min-width: 200px; }
        .lang-modal h3 { color: #ddd; margin-bottom: 15px; font-size: 1rem; }
        .lang-option { display: block; width: 100%; padding: 10px 15px; background: #1a1a1a; border: 1px solid #222; border-radius: 6px; color: #ccc; cursor: pointer; margin-bottom: 8px; font-size: 0.9rem; text-align: left; }
        .lang-option:hover { background: #222; }
        @media (max-width: 600px) { .tools-grid { grid-template-columns: 1fr 1fr; } nav { flex-direction: column; gap: 12px; } .timer-display { font-size: 2rem; } }
    </style>
</head>
<body>
    <div class="container">
        <nav>
            <div class="logo" onclick="showMain()" style="cursor:pointer;">ToolBox</div>
            <div class="nav-right">
                <a href="#" onclick="showMain(); return false;" data-i18n="nav.tools">도구</a>
                <a href="#" onclick="showTool('about'); return false;" data-i18n="nav.about">소개</a>
                <button class="lang-btn" onclick="toggleLangModal()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                    <span id="current-lang">KO</span>
                </button>
                <a href="https://buymeacoffee.com/wings1008" target="_blank" class="donate-btn" data-i18n="nav.donate">후원하기</a>
            </div>
        </nav>

        <div class="lang-modal" id="lang-modal" onclick="if(event.target===this)toggleLangModal()">
            <div class="lang-modal-content">
                <h3>Language / 언어</h3>
                <button class="lang-option" onclick="setLang('ko')">🇰🇷 한국어</button>
                <button class="lang-option" onclick="setLang('en')">🇺🇸 English</button>
            </div>
        </div>

        <header id="main-header">
            <h1 data-i18n="header.title">개발할 때 필요한 도구들</h1>
            <p data-i18n="header.subtitle">그냥 편하게 쓰세요</p>
        </header>

        <div id="main-grid">
            <div class="section-title">PDF</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('pdf-merge')"><h3>PDF 병합</h3><p>여러 PDF를 하나로</p></div>
                <div class="tool-card" onclick="showTool('pdf-convert')"><h3>PDF 변환</h3><p>이미지 → PDF</p></div>
            </div>

            <div class="section-title">생성</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('qr')"><h3>QR코드</h3><p>링크, 텍스트</p></div>
                <div class="tool-card" onclick="showTool('password')"><h3>비밀번호</h3><p>랜덤 생성</p></div>
                <div class="tool-card" onclick="showTool('uuid')"><h3>UUID</h3><p>고유 식별자</p></div>
                <div class="tool-card" onclick="showTool('lorem')"><h3>Lorem Ipsum</h3><p>더미 텍스트</p></div>
                <div class="tool-card" onclick="showTool('random')"><h3>랜덤 숫자</h3><p>숫자/추첨</p></div>
                <div class="tool-card" onclick="showTool('fake')"><h3>가짜 데이터</h3><p>이름, 이메일 등</p></div>
                <div class="tool-card" onclick="showTool('gradient')"><h3>그라데이션</h3><p>CSS 생성</p></div>
                <div class="tool-card" onclick="showTool('shadow')"><h3>박스 쉐도우</h3><p>CSS 생성</p></div>
            </div>

            <div class="section-title">텍스트</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('text')"><h3>글자수</h3><p>공백, 바이트, 읽기시간</p></div>
                <div class="tool-card" onclick="showTool('case')"><h3>대소문자</h3><p>변환</p></div>
                <div class="tool-card" onclick="showTool('replace')"><h3>치환</h3><p>찾아 바꾸기</p></div>
                <div class="tool-card" onclick="showTool('markdown')"><h3>Markdown</h3><p>미리보기</p></div>
                <div class="tool-card" onclick="showTool('duplicate')"><h3>중복 제거</h3><p>중복 줄 삭제</p></div>
                <div class="tool-card" onclick="showTool('sort')"><h3>줄 정렬</h3><p>가나다순, 역순</p></div>
                <div class="tool-card" onclick="showTool('diff')"><h3>텍스트 비교</h3><p>차이점 찾기</p></div>
                <div class="tool-card" onclick="showTool('ocr')"><h3>OCR</h3><p>이미지→텍스트</p></div>
                <div class="tool-card" onclick="showTool('vertical')"><h3>세로쓰기</h3><p>글자 변환</p></div>
                <div class="tool-card" onclick="showTool('special')"><h3>특수문자</h3><p>모음/복사</p></div>
                <div class="tool-card" onclick="showTool('unicode')"><h3>유니코드</h3><p>변환기</p></div>
                <div class="tool-card" onclick="showTool('lorem-kr')"><h3>한글 Lorem</h3><p>더미 텍스트</p></div>
                <div class="tool-card" onclick="showTool('encrypt')"><h3>텍스트 암호화</h3><p>AES 암호화</p></div>
                <div class="tool-card" onclick="showTool('reverse')"><h3>문장 뒤집기</h3><p>텍스트 반전</p></div>
                <div class="tool-card" onclick="showTool('linebreak')"><h3>줄바꿈</h3><p>추가/제거</p></div>
                <div class="tool-card" onclick="showTool('whitespace')"><h3>공백/탭</h3><p>변환</p></div>
                <div class="tool-card" onclick="showTool('escape')"><h3>이스케이프</h3><p>문자 변환</p></div>
                <div class="tool-card" onclick="showTool('ascii')"><h3>ASCII Art</h3><p>텍스트 변환</p></div>
            </div>

            <div class="section-title">이미지</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('img-resize')"><h3>이미지 리사이즈</h3><p>크기 조절</p></div>
                <div class="tool-card" onclick="showTool('img-compress')"><h3>이미지 압축</h3><p>용량 줄이기</p></div>
                <div class="tool-card" onclick="showTool('img-convert')"><h3>이미지 변환</h3><p>JPG, PNG, WebP</p></div>
                <div class="tool-card" onclick="showTool('img-base64')"><h3>이미지 Base64</h3><p>인코딩</p></div>
                <div class="tool-card" onclick="showTool('img-crop')"><h3>이미지 자르기</h3><p>크롭</p></div>
                <div class="tool-card" onclick="showTool('favicon')"><h3>파비콘 생성</h3><p>ICO, PNG</p></div>
                <div class="tool-card" onclick="showTool('bg-remove')"><h3>누끼</h3><p>배경 제거</p></div>
                <div class="tool-card" onclick="showTool('placeholder')"><h3>플레이스홀더</h3><p>더미 이미지</p></div>
                <div class="tool-card" onclick="showTool('img-rotate')"><h3>회전/뒤집기</h3><p>이미지 변형</p></div>
                <div class="tool-card" onclick="showTool('img-filter')"><h3>이미지 필터</h3><p>흑백, 세피아</p></div>
                <div class="tool-card" onclick="showTool('img-watermark')"><h3>워터마크</h3><p>텍스트 삽입</p></div>
                <div class="tool-card" onclick="showTool('color-extract')"><h3>색상 추출</h3><p>이미지에서</p></div>
            </div>

            <div class="section-title">인코딩</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('base64')"><h3>Base64</h3><p>인코딩/디코딩</p></div>
                <div class="tool-card" onclick="showTool('url')"><h3>URL</h3><p>인코딩/디코딩</p></div>
                <div class="tool-card" onclick="showTool('hash')"><h3>해시</h3><p>MD5, SHA</p></div>
                <div class="tool-card" onclick="showTool('html')"><h3>HTML</h3><p>이스케이프</p></div>
                <div class="tool-card" onclick="showTool('jwt')"><h3>JWT</h3><p>디코더</p></div>
            </div>

            <div class="section-title">개발</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('json')"><h3>JSON</h3><p>정리/압축</p></div>
                <div class="tool-card" onclick="showTool('json-xml')"><h3>JSON ↔ XML</h3><p>변환</p></div>
                <div class="tool-card" onclick="showTool('minify')"><h3>코드 압축</h3><p>JS, CSS, HTML</p></div>
                <div class="tool-card" onclick="showTool('timestamp')"><h3>타임스탬프</h3><p>Unix ↔ Date</p></div>
                <div class="tool-card" onclick="showTool('color')"><h3>색상</h3><p>HEX, RGB, HSL</p></div>
                <div class="tool-card" onclick="showTool('regex')"><h3>정규식</h3><p>테스트</p></div>
                <div class="tool-card" onclick="showTool('cron')"><h3>Cron</h3><p>표현식 생성</p></div>
                <div class="tool-card" onclick="showTool('meta')"><h3>메타 태그</h3><p>SEO 생성기</p></div>
                <div class="tool-card" onclick="showTool('css-unit')"><h3>CSS 단위</h3><p>px, rem, em</p></div>
                <div class="tool-card" onclick="showTool('http-status')"><h3>HTTP 상태코드</h3><p>코드 조회</p></div>
                <div class="tool-card" onclick="showTool('ip-info')"><h3>내 IP</h3><p>IP 주소 조회</p></div>
                <div class="tool-card" onclick="showTool('useragent')"><h3>User-Agent</h3><p>브라우저 정보</p></div>
                <div class="tool-card" onclick="showTool('slug')"><h3>Slug 생성</h3><p>URL 친화적</p></div>
                <div class="tool-card" onclick="showTool('sql')"><h3>SQL 포맷터</h3><p>정리/압축</p></div>
                <div class="tool-card" onclick="showTool('env')"><h3>.env 파서</h3><p>환경변수 파싱</p></div>
                <div class="tool-card" onclick="showTool('md-html')"><h3>MD→HTML</h3><p>마크다운 변환</p></div>
                <div class="tool-card" onclick="showTool('html-md')"><h3>HTML→MD</h3><p>마크다운 변환</p></div>
                <div class="tool-card" onclick="showTool('flexbox')"><h3>Flexbox</h3><p>CSS 생성기</p></div>
                <div class="tool-card" onclick="showTool('grid')"><h3>Grid</h3><p>CSS 생성기</p></div>
                <div class="tool-card" onclick="showTool('regex-gen')"><h3>정규식 생성</h3><p>패턴 선택</p></div>
                <div class="tool-card" onclick="showTool('barcode')"><h3>바코드</h3><p>생성기</p></div>
                <div class="tool-card" onclick="showTool('yaml-json')"><h3>YAML ↔ JSON</h3><p>변환</p></div>
                <div class="tool-card" onclick="showTool('csv-json')"><h3>CSV ↔ JSON</h3><p>변환</p></div>
                <div class="tool-card" onclick="showTool('html-table')"><h3>HTML 테이블</h3><p>생성기</p></div>
                <div class="tool-card" onclick="showTool('border-radius')"><h3>Border Radius</h3><p>CSS 생성</p></div>
                <div class="tool-card" onclick="showTool('text-shadow')"><h3>Text Shadow</h3><p>CSS 생성</p></div>
            </div>

            <div class="section-title">계산</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('calculator')"><h3>종합 계산기</h3><p>모든 계산 도구</p></div>
                <div class="tool-card" onclick="showTool('unit')"><h3>단위 변환</h3><p>길이, 무게, 온도</p></div>
                <div class="tool-card" onclick="showTool('number')"><h3>진법 변환</h3><p>2, 8, 10, 16</p></div>
                <div class="tool-card" onclick="showTool('date')"><h3>날짜 계산</h3><p>D-Day, 기간</p></div>
                <div class="tool-card" onclick="showTool('roman')"><h3>로마숫자</h3><p>변환</p></div>
                <div class="tool-card" onclick="showTool('filesize')"><h3>파일 크기</h3><p>KB/MB/GB</p></div>
            </div>

            <div class="section-title">유틸리티</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('pomodoro')"><h3>뽀모도로</h3><p>집중 타이머</p></div>
                <div class="tool-card" onclick="showTool('stopwatch')"><h3>스톱워치</h3><p>시간 측정</p></div>
                <div class="tool-card" onclick="showTool('pwcheck')"><h3>비밀번호 강도</h3><p>안전성 검사</p></div>
                <div class="tool-card" onclick="showTool('countdown')"><h3>카운트다운</h3><p>타이머</p></div>
                <div class="tool-card" onclick="showTool('worldclock')"><h3>세계 시간</h3><p>타임존 변환</p></div>
                <div class="tool-card" onclick="showTool('notepad')"><h3>메모장</h3><p>로컬 저장</p></div>
                <div class="tool-card" onclick="showTool('palette')"><h3>색상 팔레트</h3><p>컬러 조합</p></div>
                <div class="tool-card" onclick="showTool('emoji')"><h3>이모지</h3><p>검색/복사</p></div>
                <div class="tool-card" onclick="showTool('engkor')"><h3>한↔영 변환</h3><p>오타 교정</p></div>
                <div class="tool-card" onclick="showTool('screen')"><h3>화면 정보</h3><p>해상도/크기</p></div>
                <div class="tool-card" onclick="showTool('keyboard')"><h3>키보드 테스트</h3><p>키 확인</p></div>
                <div class="tool-card" onclick="showTool('cps')"><h3>CPS 테스트</h3><p>클릭 속도</p></div>
                <div class="tool-card" onclick="showTool('reaction')"><h3>반응속도</h3><p>테스트</p></div>
                <div class="tool-card" onclick="showTool('typing')"><h3>타이핑</h3><p>속도 테스트</p></div>
                <div class="tool-card" onclick="showTool('randcolor')"><h3>랜덤 색상</h3><p>생성기</p></div>
                <div class="tool-card" onclick="showTool('storage')"><h3>로컬 저장소</h3><p>뷰어</p></div>
                <div class="tool-card" onclick="showTool('speedtest')"><h3>네트워크 속도</h3><p>테스트</p></div>
                <div class="tool-card" onclick="showTool('camera')"><h3>카메라</h3><p>테스트</p></div>
                <div class="tool-card" onclick="showTool('mic')"><h3>마이크</h3><p>테스트</p></div>
                <div class="tool-card" onclick="showTool('tts')"><h3>TTS</h3><p>텍스트→음성</p></div>
                <div class="tool-card" onclick="showTool('qr-scan')"><h3>QR 스캔</h3><p>카메라로 인식</p></div>
            </div>
        </div>

        <!-- Tool Sections -->
        <!-- PDF Merge -->
        <div class="tool-section" id="tool-pdf-merge">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>PDF 병합</h2>
            <input type="file" id="pdf-files" accept=".pdf" multiple>
            <div class="file-list" id="pdf-file-list"></div>
            <button class="btn btn-primary" onclick="mergePDFs()">병합하기</button>
            <div id="pdf-merge-status"></div>
        </div>

        <!-- PDF Convert -->
        <div class="tool-section" id="tool-pdf-convert">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>PDF 변환</h2>
            <div class="info-box"><strong>지원:</strong> JPG, PNG<br><strong>HWP, Word, Excel, PPT:</strong> 서비스 준비중</div>
            <input type="file" id="convert-files" accept="image/*" multiple>
            <div class="file-list" id="convert-file-list"></div>
            <button class="btn btn-primary" onclick="convertToPDF()">변환</button>
            <div id="convert-status"></div>
        </div>

        <!-- QR -->
        <div class="tool-section" id="tool-qr">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>QR코드 생성</h2>
            <input type="text" id="qr-input" placeholder="URL 또는 텍스트">
            <button class="btn btn-primary" onclick="generateQR()">생성</button>
            <div id="qrcode"></div>
            <div style="text-align:center;"><button class="copy-btn" onclick="downloadQR()" style="display:none;" id="download-qr">다운로드</button></div>
        </div>

        <!-- Password -->
        <div class="tool-section" id="tool-password">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>비밀번호 생성</h2>
            <input type="number" id="pw-length" value="16" min="4" max="128">
            <div class="options">
                <label><input type="checkbox" id="pw-upper" checked> 대문자</label>
                <label><input type="checkbox" id="pw-lower" checked> 소문자</label>
                <label><input type="checkbox" id="pw-number" checked> 숫자</label>
                <label><input type="checkbox" id="pw-symbol" checked> 특수문자</label>
            </div>
            <button class="btn btn-primary" onclick="generatePassword()">생성</button>
            <div class="password-display" id="password-result">-</div>
            <div style="text-align:center;"><button class="copy-btn" onclick="copyText('password-result')">복사</button></div>
        </div>

        <!-- UUID -->
        <div class="tool-section" id="tool-uuid">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>UUID</h2>
            <input type="number" id="uuid-count" value="5" min="1" max="100">
            <button class="btn btn-primary" onclick="generateUUID()">생성</button>
            <div class="result-box"><pre id="uuid-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('uuid-result')">복사</button>
        </div>

        <!-- Lorem -->
        <div class="tool-section" id="tool-lorem">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Lorem Ipsum</h2>
            <input type="number" id="lorem-count" value="3" min="1" max="20">
            <button class="btn btn-primary" onclick="generateLorem()">생성</button>
            <div class="result-box"><div id="lorem-result">-</div></div>
            <button class="copy-btn" onclick="copyText('lorem-result')">복사</button>
        </div>

        <!-- Random -->
        <div class="tool-section" id="tool-random">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>랜덤 숫자</h2>
            <div class="row">
                <input type="number" id="random-min" value="1" placeholder="최소">
                <input type="number" id="random-max" value="100" placeholder="최대">
                <input type="number" id="random-count" value="1" placeholder="개수" min="1" max="100">
            </div>
            <div class="options">
                <label><input type="checkbox" id="random-unique"> 중복 제외</label>
            </div>
            <button class="btn btn-primary" onclick="generateRandom()">생성</button>
            <div class="password-display" id="random-result">-</div>
        </div>

        <!-- Fake Data -->
        <div class="tool-section" id="tool-fake">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>가짜 데이터 생성</h2>
            <div class="options">
                <label><input type="checkbox" id="fake-name" checked> 이름</label>
                <label><input type="checkbox" id="fake-email" checked> 이메일</label>
                <label><input type="checkbox" id="fake-phone" checked> 전화번호</label>
                <label><input type="checkbox" id="fake-address"> 주소</label>
            </div>
            <input type="number" id="fake-count" value="5" min="1" max="50" placeholder="개수">
            <button class="btn btn-primary" onclick="generateFake()">생성</button>
            <div class="result-box"><pre id="fake-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('fake-result')">복사</button>
        </div>

        <!-- Gradient -->
        <div class="tool-section" id="tool-gradient">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>그라데이션 생성</h2>
            <div class="row">
                <input type="color" id="grad-color1" value="#667eea">
                <input type="color" id="grad-color2" value="#764ba2">
            </div>
            <select id="grad-direction" onchange="updateGradient()">
                <option value="to right">→ 오른쪽</option>
                <option value="to left">← 왼쪽</option>
                <option value="to bottom">↓ 아래</option>
                <option value="to top">↑ 위</option>
                <option value="to bottom right">↘ 대각선</option>
                <option value="135deg">135°</option>
            </select>
            <div class="gradient-preview" id="grad-preview"></div>
            <div class="result-box"><code id="grad-result">-</code></div>
            <button class="copy-btn" onclick="copyText('grad-result')">복사</button>
        </div>

        <!-- Shadow -->
        <div class="tool-section" id="tool-shadow">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>박스 쉐도우</h2>
            <div class="slider-row"><span>X:</span><input type="range" id="shadow-x" min="-50" max="50" value="5" oninput="updateShadow()"><span id="shadow-x-val">5px</span></div>
            <div class="slider-row"><span>Y:</span><input type="range" id="shadow-y" min="-50" max="50" value="5" oninput="updateShadow()"><span id="shadow-y-val">5px</span></div>
            <div class="slider-row"><span>Blur:</span><input type="range" id="shadow-blur" min="0" max="100" value="15" oninput="updateShadow()"><span id="shadow-blur-val">15px</span></div>
            <div class="slider-row"><span>Spread:</span><input type="range" id="shadow-spread" min="-50" max="50" value="0" oninput="updateShadow()"><span id="shadow-spread-val">0px</span></div>
            <input type="color" id="shadow-color" value="#000000" onchange="updateShadow()">
            <div class="shadow-preview" id="shadow-preview"></div>
            <div class="result-box"><code id="shadow-result">-</code></div>
            <button class="copy-btn" onclick="copyText('shadow-result')">복사</button>
        </div>

        <!-- Text -->
        <div class="tool-section" id="tool-text">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>글자수 세기</h2>
            <textarea id="text-input" oninput="analyzeText()"></textarea>
            <div class="stats-row">
                <div class="stat-box"><div class="number" id="char-count">0</div><div class="label">글자(공백포함)</div></div>
                <div class="stat-box"><div class="number" id="char-no-space">0</div><div class="label">글자(공백제외)</div></div>
                <div class="stat-box"><div class="number" id="word-count">0</div><div class="label">단어</div></div>
                <div class="stat-box"><div class="number" id="line-count">0</div><div class="label">줄</div></div>
                <div class="stat-box"><div class="number" id="byte-count">0</div><div class="label">바이트</div></div>
                <div class="stat-box"><div class="number" id="read-time">0</div><div class="label">읽기(분)</div></div>
            </div>
        </div>

        <!-- Case -->
        <div class="tool-section" id="tool-case">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>대소문자 변환</h2>
            <textarea id="case-input"></textarea>
            <div>
                <button class="btn" onclick="convertCase('upper')">대문자</button>
                <button class="btn" onclick="convertCase('lower')">소문자</button>
                <button class="btn" onclick="convertCase('title')">Title</button>
                <button class="btn" onclick="convertCase('toggle')">토글</button>
            </div>
            <div class="result-box"><div id="case-result">-</div></div>
            <button class="copy-btn" onclick="copyText('case-result')">복사</button>
        </div>

        <!-- Replace -->
        <div class="tool-section" id="tool-replace">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>텍스트 치환</h2>
            <textarea id="replace-input"></textarea>
            <div class="row">
                <input type="text" id="replace-find" placeholder="찾을 텍스트">
                <input type="text" id="replace-with" placeholder="바꿀 텍스트">
            </div>
            <button class="btn btn-primary" onclick="replaceText()">치환</button>
            <div class="result-box"><div id="replace-result">-</div></div>
            <button class="copy-btn" onclick="copyText('replace-result')">복사</button>
        </div>

        <!-- Markdown -->
        <div class="tool-section" id="tool-markdown">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Markdown Preview</h2>
            <textarea id="markdown-input" oninput="renderMarkdown()" placeholder="# Hello World"></textarea>
            <div class="markdown-preview" id="markdown-result"></div>
        </div>

        <!-- Duplicate -->
        <div class="tool-section" id="tool-duplicate">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>중복 줄 제거</h2>
            <textarea id="dup-input" placeholder="각 줄에 하나씩 입력"></textarea>
            <button class="btn btn-primary" onclick="removeDuplicates()">중복 제거</button>
            <div class="result-box"><pre id="dup-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('dup-result')">복사</button>
        </div>

        <!-- Sort -->
        <div class="tool-section" id="tool-sort">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>줄 정렬</h2>
            <textarea id="sort-input" placeholder="각 줄에 하나씩 입력"></textarea>
            <div>
                <button class="btn" onclick="sortLines('asc')">오름차순</button>
                <button class="btn" onclick="sortLines('desc')">내림차순</button>
                <button class="btn" onclick="sortLines('reverse')">역순</button>
                <button class="btn" onclick="sortLines('shuffle')">섞기</button>
            </div>
            <div class="result-box"><pre id="sort-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('sort-result')">복사</button>
        </div>

        <!-- Diff -->
        <div class="tool-section" id="tool-diff">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>텍스트 비교</h2>
            <div class="row">
                <textarea id="diff-input1" placeholder="원본 텍스트"></textarea>
                <textarea id="diff-input2" placeholder="비교 텍스트"></textarea>
            </div>
            <button class="btn btn-primary" onclick="compareText()">비교</button>
            <div class="diff-result" id="diff-result" style="display:none;">
                <div class="diff-old" id="diff-old"></div>
                <div class="diff-new" id="diff-new"></div>
            </div>
        </div>

        <!-- Image Tools -->
        <div class="tool-section" id="tool-img-resize">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 리사이즈</h2>
            <input type="file" id="resize-file" accept="image/*" onchange="loadResizeImage(this)">
            <canvas id="resize-canvas" style="display:none;"></canvas>
            <img id="resize-preview" class="img-preview" style="display:none;">
            <div class="row" style="margin-top:10px;">
                <input type="number" id="resize-width" placeholder="Width" oninput="updateResizeHeight()">
                <input type="number" id="resize-height" placeholder="Height" oninput="updateResizeWidth()">
            </div>
            <label style="color:#666;font-size:0.8rem;"><input type="checkbox" id="resize-ratio" checked> 비율 유지</label>
            <div style="margin-top:10px;">
                <button class="btn btn-primary" onclick="resizeImage()">리사이즈</button>
                <a id="resize-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
            </div>
        </div>

        <div class="tool-section" id="tool-img-compress">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 압축</h2>
            <input type="file" id="compress-file" accept="image/*" onchange="loadCompressImage(this)">
            <img id="compress-preview" class="img-preview" style="display:none;">
            <div class="slider-row"><span>품질:</span><input type="range" id="compress-quality" min="10" max="100" value="80" oninput="updateQualityLabel()"><span id="quality-label">80%</span></div>
            <div id="compress-info" style="color:#666;font-size:0.85rem;margin:10px 0;"></div>
            <button class="btn btn-primary" onclick="compressImage()">압축</button>
            <a id="compress-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <div class="tool-section" id="tool-img-convert">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 변환</h2>
            <input type="file" id="imgconv-file" accept="image/*" onchange="loadConvertImage(this)">
            <img id="imgconv-preview" class="img-preview" style="display:none;">
            <select id="imgconv-format">
                <option value="image/jpeg">JPG</option>
                <option value="image/png">PNG</option>
                <option value="image/webp">WebP</option>
            </select>
            <button class="btn btn-primary" onclick="convertImage()">변환</button>
            <a id="imgconv-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <div class="tool-section" id="tool-img-base64">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 → Base64</h2>
            <input type="file" id="imgb64-file" accept="image/*" onchange="imageToBase64(this)">
            <img id="imgb64-preview" class="img-preview" style="display:none;">
            <div class="result-box" style="max-height:200px;overflow:auto;"><div id="imgb64-result" style="word-break:break-all;">-</div></div>
            <button class="copy-btn" onclick="copyText('imgb64-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-img-crop">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 자르기</h2>
            <input type="file" id="crop-file" accept="image/*" onchange="loadCropImage(this)">
            <img id="crop-preview" class="img-preview" style="display:none;">
            <div class="row" style="margin-top:10px;">
                <input type="number" id="crop-x" placeholder="X" value="0">
                <input type="number" id="crop-y" placeholder="Y" value="0">
                <input type="number" id="crop-w" placeholder="Width">
                <input type="number" id="crop-h" placeholder="Height">
            </div>
            <button class="btn btn-primary" onclick="cropImage()">자르기</button>
            <a id="crop-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <div class="tool-section" id="tool-favicon">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>파비콘 생성</h2>
            <input type="file" id="favicon-file" accept="image/*" onchange="loadFaviconImage(this)">
            <img id="favicon-preview" class="img-preview" style="display:none;">
            <div class="info-box">이미지를 16x16, 32x32, 48x48 크기로 변환합니다.</div>
            <button class="btn btn-primary" onclick="generateFavicons()">생성</button>
            <div id="favicon-downloads"></div>
        </div>

        <!-- Background Remove -->
        <div class="tool-section" id="tool-bg-remove">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>누끼 (배경 제거)</h2>
            <div class="info-box">AI를 사용해 이미지 배경을 자동으로 제거합니다. 처리 시간이 걸릴 수 있습니다.</div>
            <input type="file" id="bgremove-file" accept="image/*" onchange="loadBgRemoveImage(this)">
            <div style="display:flex;gap:20px;flex-wrap:wrap;margin-top:15px;">
                <div style="flex:1;min-width:200px;"><div style="color:#555;font-size:0.8rem;margin-bottom:5px;">원본</div><img id="bgremove-preview" class="img-preview" style="display:none;max-width:100%;"></div>
                <div style="flex:1;min-width:200px;"><div style="color:#555;font-size:0.8rem;margin-bottom:5px;">결과</div><img id="bgremove-result" class="img-preview" style="display:none;max-width:100%;background:url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22><rect width=%2210%22 height=%2210%22 fill=%22%23333%22/><rect x=%2210%22 y=%2210%22 width=%2210%22 height=%2210%22 fill=%22%23333%22/><rect x=%2210%22 width=%2210%22 height=%2210%22 fill=%22%23222%22/><rect y=%2210%22 width=%2210%22 height=%2210%22 fill=%22%23222%22/></svg>');"></div>
            </div>
            <div id="bgremove-status" style="text-align:center;margin:15px 0;color:#666;"></div>
            <button class="btn btn-primary" onclick="removeBackground()" id="bgremove-btn">배경 제거</button>
            <a id="bgremove-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <!-- Placeholder Image -->
        <div class="tool-section" id="tool-placeholder">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>플레이스홀더 이미지</h2>
            <div class="row">
                <input type="number" id="ph-width" value="400" placeholder="Width">
                <input type="number" id="ph-height" value="300" placeholder="Height">
            </div>
            <div class="row">
                <input type="color" id="ph-bg" value="#333333">
                <input type="color" id="ph-text" value="#666666">
            </div>
            <input type="text" id="ph-label" placeholder="텍스트 (비우면 크기 표시)">
            <button class="btn btn-primary" onclick="generatePlaceholder()">생성</button>
            <canvas id="ph-canvas" style="display:none;"></canvas>
            <img id="ph-preview" class="img-preview" style="display:none;margin-top:15px;">
            <a id="ph-download" class="btn" style="display:none;text-decoration:none;margin-top:10px;">다운로드</a>
        </div>

        <!-- Encoding -->
        <div class="tool-section" id="tool-base64">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Base64</h2>
            <textarea id="base64-input"></textarea>
            <button class="btn" onclick="encodeBase64()">인코딩</button>
            <button class="btn" onclick="decodeBase64()">디코딩</button>
            <div class="result-box"><div id="base64-result">-</div></div>
            <button class="copy-btn" onclick="copyText('base64-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-url">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>URL Encode/Decode</h2>
            <textarea id="url-input"></textarea>
            <button class="btn" onclick="encodeURL()">인코딩</button>
            <button class="btn" onclick="decodeURL()">디코딩</button>
            <div class="result-box"><div id="url-result">-</div></div>
            <button class="copy-btn" onclick="copyText('url-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-hash">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>해시 생성</h2>
            <textarea id="hash-input" oninput="generateHash()"></textarea>
            <div class="result-box">
                <div style="margin-bottom:8px;"><span style="color:#555;">MD5:</span> <span id="md5-result">-</span></div>
                <div style="margin-bottom:8px;"><span style="color:#555;">SHA-1:</span> <span id="sha1-result">-</span></div>
                <div><span style="color:#555;">SHA-256:</span> <span id="sha256-result">-</span></div>
            </div>
        </div>

        <div class="tool-section" id="tool-html">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>HTML Escape</h2>
            <textarea id="html-input"></textarea>
            <button class="btn" onclick="escapeHTML()">Escape</button>
            <button class="btn" onclick="unescapeHTML()">Unescape</button>
            <div class="result-box"><div id="html-result">-</div></div>
            <button class="copy-btn" onclick="copyText('html-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-jwt">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>JWT 디코더</h2>
            <textarea id="jwt-input" placeholder="eyJhbGciOiJIUzI1NiIs..."></textarea>
            <button class="btn btn-primary" onclick="decodeJWT()">디코딩</button>
            <div class="result-box">
                <div style="margin-bottom:10px;"><strong style="color:#6a9fb5;">Header:</strong><pre id="jwt-header" style="margin:5px 0;white-space:pre-wrap;">-</pre></div>
                <div style="margin-bottom:10px;"><strong style="color:#6a9fb5;">Payload:</strong><pre id="jwt-payload" style="margin:5px 0;white-space:pre-wrap;">-</pre></div>
            </div>
        </div>

        <!-- Dev Tools -->
        <div class="tool-section" id="tool-json">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>JSON Formatter</h2>
            <textarea id="json-input" placeholder='{"key": "value"}'></textarea>
            <button class="btn" onclick="formatJSON()">정리</button>
            <button class="btn" onclick="minifyJSON()">압축</button>
            <div class="result-box"><pre id="json-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('json-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-json-xml">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>JSON ↔ XML</h2>
            <textarea id="jsonxml-input" placeholder="JSON 또는 XML 입력"></textarea>
            <button class="btn" onclick="jsonToXml()">JSON → XML</button>
            <button class="btn" onclick="xmlToJson()">XML → JSON</button>
            <div class="result-box"><pre id="jsonxml-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('jsonxml-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-minify">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>코드 압축/정리</h2>
            <select id="minify-type">
                <option value="js">JavaScript</option>
                <option value="css">CSS</option>
                <option value="html">HTML</option>
            </select>
            <textarea id="minify-input" placeholder="코드 입력"></textarea>
            <button class="btn" onclick="minifyCode()">압축</button>
            <button class="btn" onclick="beautifyCode()">정리</button>
            <div class="result-box"><pre id="minify-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('minify-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-timestamp">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>타임스탬프</h2>
            <div class="row">
                <div><input type="number" id="ts-unix" placeholder="Unix Timestamp"><button class="btn" onclick="unixToDate()">→ Date</button></div>
                <div><input type="datetime-local" id="ts-date"><button class="btn" onclick="dateToUnix()">→ Unix</button></div>
            </div>
            <div class="result-box">
                <div>현재: <span id="current-ts">-</span></div>
                <div style="margin-top:8px;" id="ts-result"></div>
            </div>
        </div>

        <div class="tool-section" id="tool-color">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>색상 변환</h2>
            <input type="color" id="color-picker" value="#888888" onchange="convertColor()">
            <div class="color-preview" id="color-preview" style="background:#888;"></div>
            <div class="color-info">
                <div><span class="label">HEX</span><span id="hex-value">#888888</span></div>
                <div><span class="label">RGB</span><span id="rgb-value">rgb(136,136,136)</span></div>
                <div><span class="label">HSL</span><span id="hsl-value">hsl(0,0%,53%)</span></div>
            </div>
        </div>

        <div class="tool-section" id="tool-regex">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>정규식 테스트</h2>
            <div class="row">
                <input type="text" id="regex-pattern" placeholder="Pattern" oninput="testRegex()">
                <input type="text" id="regex-flags" value="g" placeholder="Flags" style="max-width:80px;" oninput="testRegex()">
            </div>
            <textarea id="regex-text" placeholder="Test text" oninput="testRegex()"></textarea>
            <div class="result-box"><div id="regex-result">-</div></div>
        </div>

        <div class="tool-section" id="tool-cron">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Cron 표현식</h2>
            <div class="row">
                <input type="text" id="cron-min" value="*" placeholder="분">
                <input type="text" id="cron-hour" value="*" placeholder="시">
                <input type="text" id="cron-day" value="*" placeholder="일">
                <input type="text" id="cron-month" value="*" placeholder="월">
                <input type="text" id="cron-week" value="*" placeholder="요일">
            </div>
            <div class="info-box">분(0-59) 시(0-23) 일(1-31) 월(1-12) 요일(0-6, 0=일요일)<br>* = 매번, */5 = 5마다, 1,15 = 1과 15</div>
            <button class="btn btn-primary" onclick="generateCron()">생성</button>
            <div class="password-display" id="cron-result">* * * * *</div>
            <div id="cron-desc" style="text-align:center;color:#666;font-size:0.85rem;"></div>
            <button class="copy-btn" onclick="copyText('cron-result')" style="display:block;margin:10px auto;">복사</button>
        </div>

        <div class="tool-section" id="tool-meta">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>메타 태그 생성기</h2>
            <input type="text" id="meta-title" placeholder="제목">
            <textarea id="meta-desc" placeholder="설명 (150자 권장)"></textarea>
            <input type="text" id="meta-url" placeholder="URL">
            <input type="text" id="meta-image" placeholder="이미지 URL">
            <button class="btn btn-primary" onclick="generateMeta()">생성</button>
            <div class="result-box"><pre id="meta-result" style="white-space:pre-wrap;margin:0;font-size:0.75rem;">-</pre></div>
            <button class="copy-btn" onclick="copyText('meta-result')">복사</button>
        </div>

        <!-- CSS Unit -->
        <div class="tool-section" id="tool-css-unit">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>CSS 단위 변환</h2>
            <div class="info-box">기본 폰트 크기: 16px (브라우저 기본값)</div>
            <div class="row">
                <input type="number" id="css-value" value="16" placeholder="값" oninput="convertCssUnit()">
                <select id="css-from" onchange="convertCssUnit()">
                    <option value="px">px</option>
                    <option value="rem">rem</option>
                    <option value="em">em</option>
                    <option value="pt">pt</option>
                    <option value="vw">vw</option>
                    <option value="vh">vh</option>
                </select>
            </div>
            <input type="number" id="css-base" value="16" placeholder="기준 폰트 크기 (px)" oninput="convertCssUnit()">
            <div class="result-box" id="css-unit-result">-</div>
        </div>

        <!-- HTTP Status -->
        <div class="tool-section" id="tool-http-status">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>HTTP 상태 코드</h2>
            <input type="number" id="http-code" placeholder="상태 코드 입력 (예: 404)" oninput="lookupHttpStatus()">
            <div class="result-box" id="http-status-result">-</div>
            <div style="margin-top:20px;">
                <div style="color:#555;font-size:0.8rem;margin-bottom:10px;">자주 쓰는 코드</div>
                <div style="display:flex;flex-wrap:wrap;gap:5px;">
                    <button class="btn" onclick="document.getElementById('http-code').value='200';lookupHttpStatus()">200</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='201';lookupHttpStatus()">201</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='301';lookupHttpStatus()">301</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='400';lookupHttpStatus()">400</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='401';lookupHttpStatus()">401</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='403';lookupHttpStatus()">403</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='404';lookupHttpStatus()">404</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='500';lookupHttpStatus()">500</button>
                </div>
            </div>
        </div>

        <!-- IP Info -->
        <div class="tool-section" id="tool-ip-info">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>내 IP 주소</h2>
            <button class="btn btn-primary" onclick="getMyIP()">IP 조회</button>
            <div class="stats-row" id="ip-result" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="ip-address" style="font-size:1rem;">-</div><div class="label">IP 주소</div></div>
            </div>
            <div class="result-box" id="ip-details" style="display:none;margin-top:15px;"></div>
        </div>

        <!-- User Agent -->
        <div class="tool-section" id="tool-useragent">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>User-Agent 정보</h2>
            <div class="result-box" style="word-break:break-all;"><div id="ua-string">-</div></div>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="ua-browser" style="font-size:0.9rem;">-</div><div class="label">브라우저</div></div>
                <div class="stat-box"><div class="number" id="ua-os" style="font-size:0.9rem;">-</div><div class="label">OS</div></div>
                <div class="stat-box"><div class="number" id="ua-device" style="font-size:0.9rem;">-</div><div class="label">기기</div></div>
            </div>
            <button class="copy-btn" onclick="copyText('ua-string')" style="margin-top:10px;">복사</button>
        </div>

        <!-- Slug -->
        <div class="tool-section" id="tool-slug">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Slug 생성기</h2>
            <textarea id="slug-input" placeholder="제목이나 텍스트 입력" oninput="generateSlug()"></textarea>
            <div class="options">
                <label><input type="checkbox" id="slug-lower" checked onchange="generateSlug()"> 소문자</label>
                <label><input type="checkbox" id="slug-korean" onchange="generateSlug()"> 한글 유지</label>
            </div>
            <div class="result-box"><div id="slug-result">-</div></div>
            <button class="copy-btn" onclick="copyText('slug-result')">복사</button>
        </div>

        <!-- Calculate -->
        <div class="tool-section" id="tool-percent">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>퍼센트 계산</h2>
            <div style="margin-bottom:15px;">
                <div style="color:#555;font-size:0.8rem;margin-bottom:5px;">A의 B%는?</div>
                <div class="row" style="align-items:center;">
                    <input type="number" id="p1-a" placeholder="A">
                    <span style="color:#444;">×</span>
                    <input type="number" id="p1-b" placeholder="B">
                    <span style="color:#444;">% =</span>
                    <span id="p1-result" style="color:#ddd;font-weight:600;">?</span>
                </div>
            </div>
            <div style="margin-bottom:15px;">
                <div style="color:#555;font-size:0.8rem;margin-bottom:5px;">A는 B의 몇%?</div>
                <div class="row" style="align-items:center;">
                    <input type="number" id="p2-a" placeholder="A">
                    <span style="color:#444;">÷</span>
                    <input type="number" id="p2-b" placeholder="B">
                    <span style="color:#444;">=</span>
                    <span id="p2-result" style="color:#ddd;font-weight:600;">?</span>
                    <span style="color:#444;">%</span>
                </div>
            </div>
            <button class="btn btn-primary" onclick="calcPercent()">계산</button>
        </div>

        <div class="tool-section" id="tool-unit">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>단위 변환</h2>
            <select id="unit-type" onchange="updateUnitOptions()">
                <option value="length">길이</option>
                <option value="weight">무게</option>
                <option value="temp">온도</option>
                <option value="data">데이터</option>
            </select>
            <div class="row" style="align-items:center;">
                <input type="number" id="unit-value" placeholder="Value" oninput="convertUnit()">
                <select id="unit-from" onchange="convertUnit()"></select>
                <span style="color:#444;">=</span>
                <span id="unit-result" style="color:#ddd;font-weight:600;font-size:1.1rem;">?</span>
                <select id="unit-to" onchange="convertUnit()"></select>
            </div>
        </div>

        <div class="tool-section" id="tool-number">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>진법 변환</h2>
            <div class="row">
                <input type="text" id="num-input" placeholder="Number" oninput="convertBase()">
                <select id="num-base" onchange="convertBase()">
                    <option value="10">Decimal</option>
                    <option value="2">Binary</option>
                    <option value="8">Octal</option>
                    <option value="16">Hex</option>
                </select>
            </div>
            <div class="result-box">
                <div style="margin-bottom:5px;"><span style="color:#555;">Binary:</span> <span id="bin-result">-</span></div>
                <div style="margin-bottom:5px;"><span style="color:#555;">Octal:</span> <span id="oct-result">-</span></div>
                <div style="margin-bottom:5px;"><span style="color:#555;">Decimal:</span> <span id="dec-result">-</span></div>
                <div><span style="color:#555;">Hex:</span> <span id="hex-result">-</span></div>
            </div>
        </div>

        <div class="tool-section" id="tool-date">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>날짜 계산</h2>
            <div style="margin-bottom:20px;">
                <div style="color:#555;font-size:0.8rem;margin-bottom:5px;">D-Day</div>
                <input type="date" id="date-target">
                <div id="dday-result" style="color:#ddd;font-size:1.2rem;font-weight:600;margin-top:8px;"></div>
            </div>
            <div>
                <div style="color:#555;font-size:0.8rem;margin-bottom:5px;">두 날짜 사이</div>
                <div class="row">
                    <input type="date" id="date-from">
                    <input type="date" id="date-to">
                </div>
                <button class="btn" onclick="calcDateDiff()">계산</button>
                <div id="date-diff-result" style="color:#ddd;margin-top:8px;"></div>
            </div>
        </div>

        <div class="tool-section" id="tool-age">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>나이 계산</h2>
            <div class="options">
                <label><input type="radio" name="age-type" value="solar" checked> 양력</label>
                <label><input type="radio" name="age-type" value="lunar"> 음력</label>
            </div>
            <input type="date" id="age-birth" placeholder="생년월일">
            <button class="btn btn-primary" onclick="calcAge()">계산</button>
            <div class="stats-row" id="age-result" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="age-korean">-</div><div class="label">한국 나이</div></div>
                <div class="stat-box"><div class="number" id="age-full">-</div><div class="label">만 나이</div></div>
                <div class="stat-box"><div class="number" id="age-days">-</div><div class="label">살아온 날</div></div>
            </div>
            <div class="result-box" id="age-lunar-info" style="display:none;margin-top:15px;">
                <div>양력 변환: <span id="age-solar-date">-</span></div>
            </div>
        </div>

        <!-- BMI -->
        <div class="tool-section" id="tool-bmi">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>BMI 계산기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">키 (cm)</label><input type="number" id="bmi-height" placeholder="170"></div>
                <div><label style="color:#666;font-size:0.8rem;">몸무게 (kg)</label><input type="number" id="bmi-weight" placeholder="65"></div>
            </div>
            <button class="btn btn-primary" onclick="calcBMI()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="bmi-value">-</div><div class="label">BMI</div></div>
                <div class="stat-box"><div class="number" id="bmi-status" style="font-size:1rem;">-</div><div class="label">상태</div></div>
            </div>
            <div class="info-box" style="margin-top:15px;">저체중: ~18.5 | 정상: 18.5~23 | 과체중: 23~25 | 비만: 25~</div>
        </div>

        <!-- Loan -->
        <div class="tool-section" id="tool-loan">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>대출 이자 계산기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">대출금 (원)</label><input type="number" id="loan-amount" placeholder="10000000"></div>
                <div><label style="color:#666;font-size:0.8rem;">연이율 (%)</label><input type="number" id="loan-rate" placeholder="5" step="0.1"></div>
            </div>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">기간 (개월)</label><input type="number" id="loan-months" placeholder="12"></div>
                <select id="loan-type">
                    <option value="equal">원리금균등</option>
                    <option value="principal">원금균등</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="calcLoan()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="loan-monthly" style="font-size:1rem;">-</div><div class="label">월 상환금</div></div>
                <div class="stat-box"><div class="number" id="loan-total" style="font-size:1rem;">-</div><div class="label">총 상환금</div></div>
                <div class="stat-box"><div class="number" id="loan-interest" style="font-size:1rem;">-</div><div class="label">총 이자</div></div>
            </div>
        </div>

        <!-- Discount -->
        <div class="tool-section" id="tool-discount">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>할인율 계산기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">원가</label><input type="number" id="disc-original" placeholder="100000"></div>
                <div><label style="color:#666;font-size:0.8rem;">할인율 (%)</label><input type="number" id="disc-rate" placeholder="30"></div>
            </div>
            <button class="btn btn-primary" onclick="calcDiscount()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="disc-price">-</div><div class="label">할인가</div></div>
                <div class="stat-box"><div class="number" id="disc-save">-</div><div class="label">절약</div></div>
            </div>
        </div>

        <!-- Tip -->
        <div class="tool-section" id="tool-tip">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>팁/더치페이 계산</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">금액</label><input type="number" id="tip-amount" placeholder="50000"></div>
                <div><label style="color:#666;font-size:0.8rem;">팁 (%)</label><input type="number" id="tip-rate" value="10"></div>
            </div>
            <div><label style="color:#666;font-size:0.8rem;">인원</label><input type="number" id="tip-people" value="1" min="1"></div>
            <button class="btn btn-primary" onclick="calcTip()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="tip-total">-</div><div class="label">총액 (팁 포함)</div></div>
                <div class="stat-box"><div class="number" id="tip-each">-</div><div class="label">1인당</div></div>
                <div class="stat-box"><div class="number" id="tip-tipamt">-</div><div class="label">팁</div></div>
            </div>
        </div>

        <!-- VAT -->
        <div class="tool-section" id="tool-vat">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>부가세 계산기</h2>
            <input type="number" id="vat-amount" placeholder="금액">
            <div class="options">
                <label><input type="radio" name="vat-type" value="exclude" checked> 부가세 별도 (공급가)</label>
                <label><input type="radio" name="vat-type" value="include"> 부가세 포함 (총액)</label>
            </div>
            <input type="number" id="vat-rate" value="10" placeholder="세율 (%)">
            <button class="btn btn-primary" onclick="calcVAT()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="vat-supply">-</div><div class="label">공급가액</div></div>
                <div class="stat-box"><div class="number" id="vat-tax">-</div><div class="label">부가세</div></div>
                <div class="stat-box"><div class="number" id="vat-total">-</div><div class="label">총액</div></div>
            </div>
        </div>

        <!-- Utility -->
        <div class="tool-section" id="tool-pomodoro">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>뽀모도로 타이머</h2>
            <div class="timer-display" id="pomo-display">25:00</div>
            <div class="timer-controls">
                <button class="btn btn-primary" id="pomo-start" onclick="startPomodoro()">시작</button>
                <button class="btn" onclick="resetPomodoro()">리셋</button>
            </div>
            <div style="text-align:center;margin-top:15px;">
                <button class="btn" onclick="setPomoTime(25)">25분</button>
                <button class="btn" onclick="setPomoTime(5)">5분</button>
                <button class="btn" onclick="setPomoTime(15)">15분</button>
            </div>
        </div>

        <div class="tool-section" id="tool-stopwatch">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>스톱워치</h2>
            <div class="timer-display" id="sw-display">00:00.00</div>
            <div class="timer-controls">
                <button class="btn btn-primary" id="sw-start" onclick="toggleStopwatch()">시작</button>
                <button class="btn" onclick="lapStopwatch()">랩</button>
                <button class="btn btn-danger" onclick="resetStopwatch()">리셋</button>
            </div>
            <div id="sw-laps" style="margin-top:15px;"></div>
        </div>

        <div class="tool-section" id="tool-pwcheck">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>비밀번호 강도 검사</h2>
            <input type="text" id="pwcheck-input" placeholder="비밀번호 입력" oninput="checkPwStrength()">
            <div class="strength-bar"><div class="strength-fill" id="pw-strength-fill"></div></div>
            <div id="pw-strength-text" style="text-align:center;margin-top:10px;font-size:0.9rem;"></div>
            <div class="result-box" id="pw-strength-tips" style="font-size:0.8rem;"></div>
        </div>

        <!-- Countdown -->
        <div class="tool-section" id="tool-countdown">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>카운트다운 타이머</h2>
            <div class="row">
                <input type="number" id="cd-hours" value="0" min="0" placeholder="시">
                <input type="number" id="cd-minutes" value="5" min="0" max="59" placeholder="분">
                <input type="number" id="cd-seconds" value="0" min="0" max="59" placeholder="초">
            </div>
            <div class="timer-display" id="cd-display">00:05:00</div>
            <div class="timer-controls">
                <button class="btn btn-primary" id="cd-start" onclick="toggleCountdown()">시작</button>
                <button class="btn" onclick="resetCountdown()">리셋</button>
            </div>
        </div>

        <!-- World Clock -->
        <div class="tool-section" id="tool-worldclock">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>세계 시간</h2>
            <div id="world-clocks" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px;"></div>
        </div>

        <!-- Notepad -->
        <div class="tool-section" id="tool-notepad">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>메모장</h2>
            <div class="info-box">브라우저 로컬 저장소에 자동 저장됩니다.</div>
            <textarea id="notepad-input" style="min-height:300px;" oninput="saveNotepad()"></textarea>
            <div style="display:flex;justify-content:space-between;margin-top:10px;">
                <span style="color:#555;font-size:0.8rem;" id="notepad-status">저장됨</span>
                <button class="btn btn-danger" onclick="clearNotepad()">삭제</button>
            </div>
        </div>

        <!-- Palette -->
        <div class="tool-section" id="tool-palette">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>색상 팔레트 생성</h2>
            <input type="color" id="palette-base" value="#667eea" onchange="generatePalette()">
            <div class="options">
                <label><input type="radio" name="palette-type" value="analogous" checked onchange="generatePalette()"> 유사색</label>
                <label><input type="radio" name="palette-type" value="complementary" onchange="generatePalette()"> 보색</label>
                <label><input type="radio" name="palette-type" value="triadic" onchange="generatePalette()"> 삼원색</label>
                <label><input type="radio" name="palette-type" value="shades" onchange="generatePalette()"> 명암</label>
            </div>
            <div id="palette-result" style="display:flex;gap:5px;margin-top:15px;flex-wrap:wrap;"></div>
        </div>

        <!-- Emoji -->
        <div class="tool-section" id="tool-emoji">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이모지 검색</h2>
            <input type="text" id="emoji-search" placeholder="검색 (예: smile, heart, fire)" oninput="searchEmoji()">
            <div id="emoji-result" style="display:flex;flex-wrap:wrap;gap:5px;margin-top:15px;font-size:1.5rem;"></div>
            <div id="emoji-copied" style="text-align:center;color:#5a5;margin-top:10px;display:none;">복사됨!</div>
        </div>

        <!-- Eng-Kor -->
        <div class="tool-section" id="tool-engkor">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>한↔영 변환 (오타 교정)</h2>
            <div class="info-box">영문 자판으로 한글을 치거나, 한글 자판으로 영문을 쳤을 때 변환합니다.</div>
            <textarea id="engkor-input" placeholder="ㅗ디ㅣㅐ or gksrmfdl"></textarea>
            <div>
                <button class="btn" onclick="convertEngToKor()">영→한</button>
                <button class="btn" onclick="convertKorToEng()">한→영</button>
            </div>
            <div class="result-box"><div id="engkor-result">-</div></div>
            <button class="copy-btn" onclick="copyText('engkor-result')">복사</button>
        </div>

        <!-- OCR -->
        <div class="tool-section" id="tool-ocr">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>OCR (이미지→텍스트)</h2>
            <div class="info-box">이미지에서 텍스트를 추출합니다. 처리 시간이 걸릴 수 있습니다.</div>
            <input type="file" id="ocr-file" accept="image/*" onchange="loadOcrImage(this)">
            <img id="ocr-preview" class="img-preview" style="display:none;">
            <div id="ocr-status" style="margin:10px 0;color:#666;"></div>
            <button class="btn btn-primary" onclick="runOcr()">텍스트 추출</button>
            <div class="result-box"><pre id="ocr-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('ocr-result')">복사</button>
        </div>

        <!-- Vertical Text -->
        <div class="tool-section" id="tool-vertical">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>세로쓰기 변환</h2>
            <textarea id="vertical-input" placeholder="텍스트 입력" oninput="convertVertical()"></textarea>
            <div class="result-box"><pre id="vertical-result" style="white-space:pre-wrap;margin:0;writing-mode:vertical-rl;">-</pre></div>
            <button class="copy-btn" onclick="copyText('vertical-result')">복사</button>
        </div>

        <!-- Special Characters -->
        <div class="tool-section" id="tool-special">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>특수문자 모음</h2>
            <div id="special-chars" style="display:flex;flex-wrap:wrap;gap:5px;"></div>
            <div id="special-copied" style="text-align:center;color:#5a5;margin-top:10px;display:none;">복사됨!</div>
        </div>

        <!-- Unicode -->
        <div class="tool-section" id="tool-unicode">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>유니코드 변환기</h2>
            <textarea id="unicode-input" placeholder="텍스트 또는 유니코드" oninput="convertUnicode()"></textarea>
            <div class="result-box">
                <div style="margin-bottom:10px;"><span style="color:#555;">텍스트:</span> <span id="unicode-text">-</span></div>
                <div><span style="color:#555;">유니코드:</span> <span id="unicode-code">-</span></div>
            </div>
            <button class="copy-btn" onclick="copyText('unicode-code')">유니코드 복사</button>
        </div>

        <!-- Korean Lorem -->
        <div class="tool-section" id="tool-lorem-kr">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>한글 Lorem Ipsum</h2>
            <input type="number" id="lorem-kr-count" value="3" min="1" max="20">
            <button class="btn btn-primary" onclick="generateLoremKr()">생성</button>
            <div class="result-box"><div id="lorem-kr-result">-</div></div>
            <button class="copy-btn" onclick="copyText('lorem-kr-result')">복사</button>
        </div>

        <!-- SQL Formatter -->
        <div class="tool-section" id="tool-sql">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>SQL 포맷터</h2>
            <textarea id="sql-input" placeholder="SELECT * FROM users WHERE id = 1"></textarea>
            <button class="btn" onclick="formatSql()">정리</button>
            <button class="btn" onclick="minifySql()">압축</button>
            <div class="result-box"><pre id="sql-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('sql-result')">복사</button>
        </div>

        <!-- ENV Parser -->
        <div class="tool-section" id="tool-env">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>.env 파서</h2>
            <textarea id="env-input" placeholder="KEY=value&#10;DATABASE_URL=postgres://..."></textarea>
            <button class="btn" onclick="parseEnv()">JSON으로</button>
            <button class="btn" onclick="envToText()">텍스트로</button>
            <div class="result-box"><pre id="env-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('env-result')">복사</button>
        </div>

        <!-- MD to HTML -->
        <div class="tool-section" id="tool-md-html">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Markdown → HTML</h2>
            <textarea id="mdhtml-input" placeholder="# Title&#10;**bold** *italic*"></textarea>
            <button class="btn btn-primary" onclick="mdToHtml()">변환</button>
            <div class="result-box"><pre id="mdhtml-result" style="white-space:pre-wrap;margin:0;font-size:0.75rem;">-</pre></div>
            <button class="copy-btn" onclick="copyText('mdhtml-result')">복사</button>
        </div>

        <!-- HTML to MD -->
        <div class="tool-section" id="tool-html-md">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>HTML → Markdown</h2>
            <textarea id="htmlmd-input" placeholder="<h1>Title</h1><p><strong>bold</strong></p>"></textarea>
            <button class="btn btn-primary" onclick="htmlToMd()">변환</button>
            <div class="result-box"><pre id="htmlmd-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('htmlmd-result')">복사</button>
        </div>

        <!-- Flexbox Generator -->
        <div class="tool-section" id="tool-flexbox">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Flexbox 생성기</h2>
            <div class="row">
                <select id="flex-direction" onchange="updateFlexbox()">
                    <option value="row">row</option>
                    <option value="column">column</option>
                    <option value="row-reverse">row-reverse</option>
                    <option value="column-reverse">column-reverse</option>
                </select>
                <select id="flex-justify" onchange="updateFlexbox()">
                    <option value="flex-start">flex-start</option>
                    <option value="center">center</option>
                    <option value="flex-end">flex-end</option>
                    <option value="space-between">space-between</option>
                    <option value="space-around">space-around</option>
                    <option value="space-evenly">space-evenly</option>
                </select>
            </div>
            <div class="row">
                <select id="flex-align" onchange="updateFlexbox()">
                    <option value="stretch">stretch</option>
                    <option value="flex-start">flex-start</option>
                    <option value="center">center</option>
                    <option value="flex-end">flex-end</option>
                </select>
                <select id="flex-wrap" onchange="updateFlexbox()">
                    <option value="nowrap">nowrap</option>
                    <option value="wrap">wrap</option>
                    <option value="wrap-reverse">wrap-reverse</option>
                </select>
            </div>
            <input type="number" id="flex-gap" value="10" placeholder="gap (px)" onchange="updateFlexbox()">
            <div id="flex-preview" style="display:flex;background:#1a1a1a;padding:20px;border-radius:8px;min-height:100px;margin:15px 0;"><div style="background:#333;padding:10px 20px;border-radius:4px;">1</div><div style="background:#333;padding:10px 20px;border-radius:4px;">2</div><div style="background:#333;padding:10px 20px;border-radius:4px;">3</div></div>
            <div class="result-box"><code id="flex-result">-</code></div>
            <button class="copy-btn" onclick="copyText('flex-result')">복사</button>
        </div>

        <!-- Grid Generator -->
        <div class="tool-section" id="tool-grid">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Grid 생성기</h2>
            <div class="row">
                <input type="number" id="grid-cols" value="3" min="1" max="12" placeholder="columns" onchange="updateGrid()">
                <input type="number" id="grid-rows" value="2" min="1" max="12" placeholder="rows" onchange="updateGrid()">
                <input type="number" id="grid-gap" value="10" placeholder="gap (px)" onchange="updateGrid()">
            </div>
            <div id="grid-preview" style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;background:#1a1a1a;padding:20px;border-radius:8px;margin:15px 0;"></div>
            <div class="result-box"><code id="grid-result">-</code></div>
            <button class="copy-btn" onclick="copyText('grid-result')">복사</button>
        </div>

        <!-- Regex Generator -->
        <div class="tool-section" id="tool-regex-gen">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>정규식 생성기</h2>
            <div class="info-box">자주 쓰는 패턴을 선택하세요</div>
            <select id="regex-pattern-select" onchange="selectRegexPattern()">
                <option value="">-- 선택 --</option>
                <option value="email">이메일</option>
                <option value="phone">전화번호 (한국)</option>
                <option value="url">URL</option>
                <option value="ip">IP 주소</option>
                <option value="date">날짜 (YYYY-MM-DD)</option>
                <option value="time">시간 (HH:MM)</option>
                <option value="korean">한글만</option>
                <option value="number">숫자만</option>
                <option value="alphanumeric">영문+숫자</option>
                <option value="password">비밀번호 (8자+, 대소문자+숫자+특수)</option>
            </select>
            <div class="result-box"><code id="regex-gen-result">-</code></div>
            <div id="regex-gen-desc" style="color:#666;font-size:0.8rem;margin-top:10px;"></div>
            <button class="copy-btn" onclick="copyText('regex-gen-result')">복사</button>
        </div>

        <!-- Barcode -->
        <div class="tool-section" id="tool-barcode">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>바코드 생성기</h2>
            <input type="text" id="barcode-input" placeholder="텍스트 또는 숫자">
            <select id="barcode-type">
                <option value="CODE128">CODE128</option>
                <option value="EAN13">EAN-13</option>
                <option value="UPC">UPC</option>
                <option value="CODE39">CODE39</option>
            </select>
            <button class="btn btn-primary" onclick="generateBarcode()">생성</button>
            <div style="text-align:center;margin:15px 0;"><svg id="barcode-svg"></svg></div>
            <button class="copy-btn" onclick="downloadBarcode()">다운로드</button>
        </div>

        <!-- Currency -->
        <div class="tool-section" id="tool-currency">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>환율 계산기</h2>
            <div class="info-box">실시간 환율 정보를 사용합니다</div>
            <div class="row">
                <input type="number" id="currency-amount" value="1000" placeholder="금액">
                <select id="currency-from">
                    <option value="KRW">KRW (원)</option>
                    <option value="USD">USD ($)</option>
                    <option value="EUR">EUR (€)</option>
                    <option value="JPY">JPY (¥)</option>
                    <option value="CNY">CNY (¥)</option>
                    <option value="GBP">GBP (£)</option>
                </select>
            </div>
            <div class="row">
                <select id="currency-to">
                    <option value="USD">USD ($)</option>
                    <option value="KRW">KRW (원)</option>
                    <option value="EUR">EUR (€)</option>
                    <option value="JPY">JPY (¥)</option>
                    <option value="CNY">CNY (¥)</option>
                    <option value="GBP">GBP (£)</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="convertCurrency()">변환</button>
            <div class="password-display" id="currency-result">-</div>
        </div>

        <!-- Salary -->
        <div class="tool-section" id="tool-salary">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>연봉 ↔ 월급 계산기</h2>
            <input type="number" id="salary-amount" placeholder="연봉 (원)">
            <div class="options">
                <label><input type="checkbox" id="salary-tax" checked> 세금/4대보험 공제</label>
            </div>
            <button class="btn btn-primary" onclick="calcSalary()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="salary-yearly">-</div><div class="label">연봉</div></div>
                <div class="stat-box"><div class="number" id="salary-monthly">-</div><div class="label">월급</div></div>
                <div class="stat-box"><div class="number" id="salary-net">-</div><div class="label">실수령(월)</div></div>
            </div>
        </div>

        <!-- Severance -->
        <div class="tool-section" id="tool-severance">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>퇴직금 계산기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">입사일</label><input type="date" id="sev-start"></div>
                <div><label style="color:#666;font-size:0.8rem;">퇴사일</label><input type="date" id="sev-end"></div>
            </div>
            <div><label style="color:#666;font-size:0.8rem;">월 평균 급여 (원)</label><input type="number" id="sev-salary" placeholder="3000000"></div>
            <button class="btn btn-primary" onclick="calcSeverance()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="sev-years">-</div><div class="label">근속 기간</div></div>
                <div class="stat-box"><div class="number" id="sev-amount">-</div><div class="label">퇴직금</div></div>
            </div>
        </div>

        <!-- Savings -->
        <div class="tool-section" id="tool-savings">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>적금 이자 계산기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">월 납입액 (원)</label><input type="number" id="sav-amount" placeholder="500000"></div>
                <div><label style="color:#666;font-size:0.8rem;">연이율 (%)</label><input type="number" id="sav-rate" placeholder="5" step="0.1"></div>
            </div>
            <div><label style="color:#666;font-size:0.8rem;">기간 (개월)</label><input type="number" id="sav-months" placeholder="12"></div>
            <div class="options">
                <label><input type="radio" name="sav-type" value="simple"> 단리</label>
                <label><input type="radio" name="sav-type" value="compound" checked> 복리</label>
            </div>
            <button class="btn btn-primary" onclick="calcSavings()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="sav-principal">-</div><div class="label">원금 합계</div></div>
                <div class="stat-box"><div class="number" id="sav-interest">-</div><div class="label">이자</div></div>
                <div class="stat-box"><div class="number" id="sav-total">-</div><div class="label">만기금액</div></div>
            </div>
        </div>

        <!-- Stock -->
        <div class="tool-section" id="tool-stock">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>주식 수익률 계산기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">매수가</label><input type="number" id="stock-buy" placeholder="50000"></div>
                <div><label style="color:#666;font-size:0.8rem;">매도가</label><input type="number" id="stock-sell" placeholder="60000"></div>
            </div>
            <div><label style="color:#666;font-size:0.8rem;">수량</label><input type="number" id="stock-qty" value="1"></div>
            <button class="btn btn-primary" onclick="calcStock()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="stock-profit">-</div><div class="label">수익금</div></div>
                <div class="stat-box"><div class="number" id="stock-rate">-</div><div class="label">수익률</div></div>
            </div>
        </div>

        <!-- Calorie -->
        <div class="tool-section" id="tool-calorie">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>칼로리 계산기</h2>
            <div id="calorie-list"></div>
            <div class="row" style="margin-top:10px;">
                <input type="text" id="cal-food" placeholder="음식명">
                <input type="number" id="cal-kcal" placeholder="칼로리(kcal)">
                <button class="btn" onclick="addCalorie()">추가</button>
            </div>
            <div class="info-box" style="margin-top:10px;">자주 쓰는 음식: 밥(300), 라면(500), 치킨(700), 피자(270/조각), 콜라(140)</div>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="cal-total">0</div><div class="label">총 칼로리</div></div>
            </div>
            <button class="btn btn-danger" onclick="clearCalories()">초기화</button>
        </div>

        <!-- Screen Info -->
        <div class="tool-section" id="tool-screen">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>화면 정보</h2>
            <div class="stats-row" id="screen-info"></div>
        </div>

        <!-- Keyboard Test -->
        <div class="tool-section" id="tool-keyboard">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>키보드 테스트</h2>
            <div class="info-box">아무 키나 눌러보세요</div>
            <div class="password-display" id="key-display">-</div>
            <div class="stats-row">
                <div class="stat-box"><div class="number" id="key-code">-</div><div class="label">Key Code</div></div>
                <div class="stat-box"><div class="number" id="key-key">-</div><div class="label">Key</div></div>
                <div class="stat-box"><div class="number" id="key-which">-</div><div class="label">Which</div></div>
            </div>
        </div>

        <!-- CPS Test -->
        <div class="tool-section" id="tool-cps">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>CPS 테스트 (클릭 속도)</h2>
            <div id="cps-area" style="background:#1a1a1a;border-radius:10px;padding:50px;text-align:center;cursor:pointer;user-select:none;" onclick="cpsClick()">
                <div style="font-size:2rem;color:#ddd;" id="cps-count">0</div>
                <div style="color:#666;margin-top:10px;" id="cps-status">클릭하여 시작</div>
            </div>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="cps-result">-</div><div class="label">CPS</div></div>
                <div class="stat-box"><div class="number" id="cps-time">10</div><div class="label">남은 시간</div></div>
            </div>
            <button class="btn" onclick="resetCps()">리셋</button>
        </div>

        <!-- Reaction Test -->
        <div class="tool-section" id="tool-reaction">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>반응속도 테스트</h2>
            <div id="reaction-area" style="background:#c55;border-radius:10px;padding:80px;text-align:center;cursor:pointer;user-select:none;" onclick="reactionClick()">
                <div style="font-size:1.2rem;color:#fff;" id="reaction-text">클릭하여 시작</div>
            </div>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="reaction-result">-</div><div class="label">반응속도 (ms)</div></div>
            </div>
        </div>

        <!-- Typing Test -->
        <div class="tool-section" id="tool-typing">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>타이핑 속도 테스트</h2>
            <div id="typing-text" style="background:#1a1a1a;padding:15px;border-radius:8px;font-size:1.1rem;color:#888;line-height:1.8;margin-bottom:15px;"></div>
            <textarea id="typing-input" placeholder="위 문장을 타이핑하세요" oninput="checkTyping()" style="min-height:80px;"></textarea>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="typing-wpm">-</div><div class="label">WPM</div></div>
                <div class="stat-box"><div class="number" id="typing-accuracy">-</div><div class="label">정확도</div></div>
                <div class="stat-box"><div class="number" id="typing-time">-</div><div class="label">시간 (초)</div></div>
            </div>
            <button class="btn" onclick="resetTyping()">다시 시작</button>
        </div>

        <!-- Random Color -->
        <div class="tool-section" id="tool-randcolor">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>랜덤 색상 생성기</h2>
            <div id="randcolor-preview" style="width:100%;height:150px;border-radius:10px;background:#667eea;margin-bottom:15px;"></div>
            <div class="password-display" id="randcolor-hex">#667EEA</div>
            <button class="btn btn-primary" onclick="generateRandomColor()">새 색상</button>
            <button class="copy-btn" onclick="copyText('randcolor-hex')">복사</button>
        </div>

        <!-- Text Encrypt -->
        <div class="tool-section" id="tool-encrypt">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>텍스트 암호화</h2>
            <textarea id="encrypt-input" placeholder="텍스트 입력"></textarea>
            <input type="password" id="encrypt-key" placeholder="암호 키">
            <button class="btn" onclick="encryptText()">암호화</button>
            <button class="btn" onclick="decryptText()">복호화</button>
            <div class="result-box"><div id="encrypt-result">-</div></div>
            <button class="copy-btn" onclick="copyText('encrypt-result')">복사</button>
        </div>

        <!-- Text Reverse -->
        <div class="tool-section" id="tool-reverse">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>문장 뒤집기</h2>
            <textarea id="reverse-input" placeholder="텍스트 입력" oninput="reverseText()"></textarea>
            <div class="options">
                <label><input type="radio" name="reverse-type" value="char" checked onchange="reverseText()"> 글자 단위</label>
                <label><input type="radio" name="reverse-type" value="word" onchange="reverseText()"> 단어 단위</label>
                <label><input type="radio" name="reverse-type" value="line" onchange="reverseText()"> 줄 단위</label>
            </div>
            <div class="result-box"><div id="reverse-result">-</div></div>
            <button class="copy-btn" onclick="copyText('reverse-result')">복사</button>
        </div>

        <!-- Line Break -->
        <div class="tool-section" id="tool-linebreak">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>줄바꿈 추가/제거</h2>
            <textarea id="linebreak-input" placeholder="텍스트 입력"></textarea>
            <button class="btn" onclick="addLineBreaks()">줄바꿈 추가</button>
            <button class="btn" onclick="removeLineBreaks()">줄바꿈 제거</button>
            <button class="btn" onclick="trimLines()">빈 줄 제거</button>
            <div class="result-box"><pre id="linebreak-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('linebreak-result')">복사</button>
        </div>

        <!-- Whitespace -->
        <div class="tool-section" id="tool-whitespace">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>공백/탭 변환</h2>
            <textarea id="ws-input" placeholder="텍스트 입력"></textarea>
            <button class="btn" onclick="spacesToTabs()">공백→탭</button>
            <button class="btn" onclick="tabsToSpaces()">탭→공백</button>
            <button class="btn" onclick="removeExtraSpaces()">연속 공백 제거</button>
            <div class="result-box"><pre id="ws-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('ws-result')">복사</button>
        </div>

        <!-- Escape -->
        <div class="tool-section" id="tool-escape">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이스케이프 문자 변환</h2>
            <textarea id="esc-input" placeholder="텍스트 입력"></textarea>
            <button class="btn" onclick="escapeChars()">이스케이프</button>
            <button class="btn" onclick="unescapeChars()">언이스케이프</button>
            <div class="result-box"><pre id="esc-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('esc-result')">복사</button>
        </div>

        <!-- ASCII Art -->
        <div class="tool-section" id="tool-ascii">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>ASCII Art 생성</h2>
            <input type="text" id="ascii-input" placeholder="텍스트 입력" oninput="generateAsciiArt()">
            <div class="result-box"><pre id="ascii-result" style="white-space:pre;margin:0;font-size:0.6rem;line-height:1;">-</pre></div>
            <button class="copy-btn" onclick="copyText('ascii-result')">복사</button>
        </div>

        <!-- Image Rotate -->
        <div class="tool-section" id="tool-img-rotate">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 회전/뒤집기</h2>
            <input type="file" id="rotate-file" accept="image/*" onchange="loadRotateImage(this)">
            <img id="rotate-preview" class="img-preview" style="display:none;">
            <div style="margin:15px 0;">
                <button class="btn" onclick="rotateImage(90)">↻ 90°</button>
                <button class="btn" onclick="rotateImage(-90)">↺ -90°</button>
                <button class="btn" onclick="flipImage('h')">↔ 좌우</button>
                <button class="btn" onclick="flipImage('v')">↕ 상하</button>
            </div>
            <canvas id="rotate-canvas" style="display:none;"></canvas>
            <a id="rotate-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <!-- Image Filter -->
        <div class="tool-section" id="tool-img-filter">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 필터</h2>
            <input type="file" id="filter-file" accept="image/*" onchange="loadFilterImage(this)">
            <img id="filter-preview" class="img-preview" style="display:none;">
            <div style="margin:15px 0;">
                <button class="btn" onclick="applyFilter('grayscale')">흑백</button>
                <button class="btn" onclick="applyFilter('sepia')">세피아</button>
                <button class="btn" onclick="applyFilter('invert')">반전</button>
                <button class="btn" onclick="applyFilter('blur')">블러</button>
                <button class="btn" onclick="applyFilter('brightness')">밝게</button>
                <button class="btn" onclick="applyFilter('contrast')">대비</button>
            </div>
            <canvas id="filter-canvas" style="display:none;"></canvas>
            <a id="filter-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <!-- Watermark -->
        <div class="tool-section" id="tool-img-watermark">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 워터마크</h2>
            <input type="file" id="wm-file" accept="image/*" onchange="loadWatermarkImage(this)">
            <img id="wm-preview" class="img-preview" style="display:none;">
            <input type="text" id="wm-text" placeholder="워터마크 텍스트">
            <div class="row">
                <select id="wm-position">
                    <option value="br">우하단</option>
                    <option value="bl">좌하단</option>
                    <option value="tr">우상단</option>
                    <option value="tl">좌상단</option>
                    <option value="center">중앙</option>
                </select>
                <input type="number" id="wm-opacity" value="50" min="10" max="100" placeholder="투명도 %">
            </div>
            <button class="btn btn-primary" onclick="addWatermark()">워터마크 추가</button>
            <canvas id="wm-canvas" style="display:none;"></canvas>
            <a id="wm-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <!-- Color Extract -->
        <div class="tool-section" id="tool-color-extract">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 색상 추출</h2>
            <input type="file" id="ce-file" accept="image/*" onchange="loadColorExtractImage(this)">
            <img id="ce-preview" class="img-preview" style="display:none;cursor:crosshair;">
            <canvas id="ce-canvas" style="display:none;"></canvas>
            <div class="info-box">이미지를 클릭하면 해당 위치의 색상이 추출됩니다</div>
            <div id="ce-colors" style="display:flex;flex-wrap:wrap;gap:10px;margin-top:15px;"></div>
        </div>

        <!-- YAML JSON -->
        <div class="tool-section" id="tool-yaml-json">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>YAML ↔ JSON 변환</h2>
            <textarea id="yaml-input" placeholder="YAML 또는 JSON 입력"></textarea>
            <button class="btn" onclick="yamlToJson()">YAML → JSON</button>
            <button class="btn" onclick="jsonToYaml()">JSON → YAML</button>
            <div class="result-box"><pre id="yaml-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('yaml-result')">복사</button>
        </div>

        <!-- CSV JSON -->
        <div class="tool-section" id="tool-csv-json">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>CSV ↔ JSON 변환</h2>
            <textarea id="csv-input" placeholder="CSV 또는 JSON 입력"></textarea>
            <button class="btn" onclick="csvToJson()">CSV → JSON</button>
            <button class="btn" onclick="jsonToCsv()">JSON → CSV</button>
            <div class="result-box"><pre id="csv-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('csv-result')">복사</button>
        </div>

        <!-- HTML Table -->
        <div class="tool-section" id="tool-html-table">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>HTML 테이블 생성기</h2>
            <div class="row">
                <input type="number" id="table-rows" value="3" min="1" max="20" placeholder="행">
                <input type="number" id="table-cols" value="3" min="1" max="10" placeholder="열">
            </div>
            <div class="options">
                <label><input type="checkbox" id="table-header" checked> 헤더 포함</label>
                <label><input type="checkbox" id="table-border" checked> 테두리</label>
            </div>
            <button class="btn btn-primary" onclick="generateHtmlTable()">생성</button>
            <div class="result-box"><pre id="table-result" style="white-space:pre-wrap;margin:0;font-size:0.75rem;">-</pre></div>
            <button class="copy-btn" onclick="copyText('table-result')">복사</button>
        </div>

        <!-- Border Radius -->
        <div class="tool-section" id="tool-border-radius">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Border Radius 생성기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">좌상</label><input type="range" id="br-tl" value="20" min="0" max="100" oninput="updateBorderRadius()"></div>
                <div><label style="color:#666;font-size:0.8rem;">우상</label><input type="range" id="br-tr" value="20" min="0" max="100" oninput="updateBorderRadius()"></div>
            </div>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">좌하</label><input type="range" id="br-bl" value="20" min="0" max="100" oninput="updateBorderRadius()"></div>
                <div><label style="color:#666;font-size:0.8rem;">우하</label><input type="range" id="br-br" value="20" min="0" max="100" oninput="updateBorderRadius()"></div>
            </div>
            <div id="br-preview" style="width:150px;height:150px;background:#667eea;margin:20px auto;"></div>
            <div class="result-box"><code id="br-result">-</code></div>
            <button class="copy-btn" onclick="copyText('br-result')">복사</button>
        </div>

        <!-- Text Shadow -->
        <div class="tool-section" id="tool-text-shadow">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Text Shadow 생성기</h2>
            <div class="slider-row"><span>X:</span><input type="range" id="ts-x" value="2" min="-20" max="20" oninput="updateTextShadow()"><span id="ts-x-val">2px</span></div>
            <div class="slider-row"><span>Y:</span><input type="range" id="ts-y" value="2" min="-20" max="20" oninput="updateTextShadow()"><span id="ts-y-val">2px</span></div>
            <div class="slider-row"><span>Blur:</span><input type="range" id="ts-blur" value="4" min="0" max="20" oninput="updateTextShadow()"><span id="ts-blur-val">4px</span></div>
            <input type="color" id="ts-color" value="#000000" onchange="updateTextShadow()">
            <div id="ts-preview" style="font-size:2rem;color:#fff;text-align:center;padding:30px;background:#1a1a1a;border-radius:8px;margin:15px 0;">Text Shadow</div>
            <div class="result-box"><code id="ts-result">-</code></div>
            <button class="copy-btn" onclick="copyText('ts-result')">복사</button>
        </div>

        <!-- Calculator (Combined) -->
        <div class="tool-section" id="tool-calculator">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>종합 계산기</h2>
            <select id="calc-type" onchange="showCalcType()">
                <option value="percent">퍼센트</option>
                <option value="bmi">BMI</option>
                <option value="loan">대출 이자</option>
                <option value="discount">할인율</option>
                <option value="tip">팁/더치페이</option>
                <option value="vat">부가세</option>
                <option value="currency">환율</option>
                <option value="salary">연봉/월급</option>
                <option value="severance">퇴직금</option>
                <option value="savings">적금 이자</option>
                <option value="stock">주식 수익률</option>
                <option value="age">나이</option>
                <option value="calorie">칼로리</option>
                <option value="fuel">자동차 연비</option>
                <option value="hourly">시급/일급</option>
            </select>
            <div id="calc-content"></div>
        </div>

        <!-- Roman Numerals -->
        <div class="tool-section" id="tool-roman">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>로마숫자 변환</h2>
            <input type="text" id="roman-input" placeholder="숫자 또는 로마숫자" oninput="convertRoman()">
            <div class="result-box"><div id="roman-result">-</div></div>
        </div>

        <!-- File Size -->
        <div class="tool-section" id="tool-filesize">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>파일 크기 변환</h2>
            <div class="row">
                <input type="number" id="fs-value" placeholder="값" oninput="convertFileSize()">
                <select id="fs-unit" onchange="convertFileSize()">
                    <option value="B">Bytes</option>
                    <option value="KB" selected>KB</option>
                    <option value="MB">MB</option>
                    <option value="GB">GB</option>
                    <option value="TB">TB</option>
                </select>
            </div>
            <div class="result-box" id="fs-result">-</div>
        </div>

        <!-- Storage Viewer -->
        <div class="tool-section" id="tool-storage">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>로컬 저장소 뷰어</h2>
            <button class="btn btn-primary" onclick="loadStorage()">새로고침</button>
            <div id="storage-list" style="margin-top:15px;"></div>
        </div>

        <!-- Speed Test -->
        <div class="tool-section" id="tool-speedtest">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>네트워크 속도 테스트</h2>
            <div class="info-box">대략적인 다운로드 속도를 측정합니다</div>
            <button class="btn btn-primary" onclick="runSpeedTest()" id="speed-btn">테스트 시작</button>
            <div id="speed-status" style="text-align:center;margin:15px 0;color:#666;"></div>
            <div class="stats-row">
                <div class="stat-box"><div class="number" id="speed-result">-</div><div class="label">Mbps</div></div>
            </div>
        </div>

        <!-- Camera -->
        <div class="tool-section" id="tool-camera">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>카메라 테스트</h2>
            <video id="camera-video" style="width:100%;border-radius:8px;background:#000;" autoplay playsinline></video>
            <div style="margin-top:15px;">
                <button class="btn btn-primary" onclick="startCamera()">카메라 시작</button>
                <button class="btn" onclick="stopCamera()">정지</button>
                <button class="btn" onclick="capturePhoto()">캡처</button>
            </div>
            <canvas id="camera-canvas" style="display:none;"></canvas>
            <a id="camera-download" class="btn" style="display:none;text-decoration:none;margin-top:10px;">다운로드</a>
        </div>

        <!-- Mic -->
        <div class="tool-section" id="tool-mic">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>마이크 테스트</h2>
            <div id="mic-visual" style="height:100px;background:#1a1a1a;border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;"></div>
            <div style="margin-top:15px;">
                <button class="btn btn-primary" onclick="startMic()">마이크 시작</button>
                <button class="btn" onclick="stopMic()">정지</button>
            </div>
            <div class="stat-box" style="margin-top:15px;"><div class="number" id="mic-level">-</div><div class="label">음량 레벨</div></div>
        </div>

        <!-- TTS -->
        <div class="tool-section" id="tool-tts">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>텍스트 → 음성 (TTS)</h2>
            <textarea id="tts-input" placeholder="읽을 텍스트 입력"></textarea>
            <div class="row">
                <select id="tts-voice"></select>
                <input type="range" id="tts-rate" min="0.5" max="2" step="0.1" value="1">
            </div>
            <button class="btn btn-primary" onclick="speakText()">읽기</button>
            <button class="btn" onclick="stopSpeech()">정지</button>
        </div>

        <!-- QR Scan -->
        <div class="tool-section" id="tool-qr-scan">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>QR 코드 스캔</h2>
            <video id="qr-video" style="width:100%;border-radius:8px;background:#000;" autoplay playsinline></video>
            <div style="margin-top:15px;">
                <button class="btn btn-primary" onclick="startQrScan()">스캔 시작</button>
                <button class="btn" onclick="stopQrScan()">정지</button>
            </div>
            <div class="result-box"><div id="qr-scan-result">-</div></div>
            <button class="copy-btn" onclick="copyText('qr-scan-result')">복사</button>
        </div>

        <!-- About -->
        <div class="tool-section" id="tool-about">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>소개</h2>
            <p style="color:#666;line-height:1.8;">개발하다 보면 자주 쓰는 도구들이 있는데, 매번 찾아다니기 귀찮아서 모아봤습니다. 모든 처리는 브라우저에서 이루어지고, 서버로 데이터가 전송되지 않습니다.</p>
            <div style="margin-top:20px;padding-top:20px;border-top:1px solid #1a1a1a;">
                <p style="color:#555;font-size:0.85rem;">도움이 되셨다면 후원해주세요</p>
                <a href="https://buymeacoffee.com/wings1008" target="_blank" class="btn btn-primary" style="margin-top:10px;display:inline-block;text-decoration:none;">☕ Buy me a coffee</a>
            </div>
        </div>

        <footer>
            <p>직접 만들어서 쓰는 도구 모음</p>
            <div style="margin-top:10px;">
                <a href="#" onclick="showTool('about'); return false;">소개</a>
                <a href="https://buymeacoffee.com/wings1008" target="_blank">후원</a>
            </div>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <script>
        // Language
        let currentLang = localStorage.getItem('lang') || 'ko';
        function setLang(lang) { currentLang = lang; localStorage.setItem('lang', lang); document.getElementById('current-lang').textContent = lang.toUpperCase(); toggleLangModal(); }
        function toggleLangModal() { document.getElementById('lang-modal').classList.toggle('active'); }

        // Navigation
        function showTool(t) {
            document.getElementById('main-grid').style.display = 'none';
            document.getElementById('main-header').style.display = 'none';
            document.querySelectorAll('.tool-section').forEach(s => s.classList.remove('active'));
            document.getElementById('tool-' + t).classList.add('active');
            window.scrollTo(0, 0);
        }
        function showMain() {
            document.getElementById('main-grid').style.display = 'block';
            document.getElementById('main-header').style.display = 'block';
            document.querySelectorAll('.tool-section').forEach(s => s.classList.remove('active'));
        }

        // PDF Merge
        let pdfFiles = [];
        document.getElementById('pdf-files').addEventListener('change', e => {
            pdfFiles = Array.from(e.target.files);
            document.getElementById('pdf-file-list').innerHTML = pdfFiles.map((f,i) => `<div class="file-item"><span>${f.name}</span><button onclick="pdfFiles.splice(${i},1);this.parentElement.remove()">×</button></div>`).join('');
        });
        async function mergePDFs() {
            if (pdfFiles.length < 2) return alert('2개 이상 선택');
            const s = document.getElementById('pdf-merge-status');
            s.innerHTML = '<div style="color:#666;margin-top:10px;">병합 중...</div>';
            try {
                const merged = await PDFLib.PDFDocument.create();
                for (const f of pdfFiles) {
                    const pdf = await PDFLib.PDFDocument.load(await f.arrayBuffer());
                    (await merged.copyPages(pdf, pdf.getPageIndices())).forEach(p => merged.addPage(p));
                }
                const blob = new Blob([await merged.save()], {type:'application/pdf'});
                s.innerHTML = `<a href="${URL.createObjectURL(blob)}" download="merged.pdf" class="btn btn-primary" style="display:inline-block;margin-top:10px;text-decoration:none;">다운로드</a>`;
            } catch(e) { s.innerHTML = `<div style="color:#a55;margin-top:10px;">오류: ${e.message}</div>`; }
        }

        // PDF Convert
        let imgFiles = [];
        document.getElementById('convert-files').addEventListener('change', e => {
            imgFiles = Array.from(e.target.files);
            document.getElementById('convert-file-list').innerHTML = imgFiles.map(f => `<div class="file-item"><span>${f.name}</span></div>`).join('');
        });
        async function convertToPDF() {
            if (!imgFiles.length) return alert('이미지 선택');
            const s = document.getElementById('convert-status');
            s.innerHTML = '<div style="color:#666;margin-top:10px;">변환 중...</div>';
            try {
                const pdf = await PDFLib.PDFDocument.create();
                for (const f of imgFiles) {
                    const bytes = await f.arrayBuffer();
                    const img = f.type === 'image/png' ? await pdf.embedPng(bytes) : await pdf.embedJpg(bytes);
                    pdf.addPage([img.width, img.height]).drawImage(img, {x:0,y:0,width:img.width,height:img.height});
                }
                const blob = new Blob([await pdf.save()], {type:'application/pdf'});
                s.innerHTML = `<a href="${URL.createObjectURL(blob)}" download="converted.pdf" class="btn btn-primary" style="display:inline-block;margin-top:10px;text-decoration:none;">다운로드</a>`;
            } catch(e) { s.innerHTML = `<div style="color:#a55;margin-top:10px;">오류: ${e.message}</div>`; }
        }

        // QR
        let qr = null;
        function generateQR() {
            const t = document.getElementById('qr-input').value;
            if (!t) return;
            document.getElementById('qrcode').innerHTML = '';
            qr = new QRCode(document.getElementById('qrcode'), {text:t,width:160,height:160,colorDark:'#000',colorLight:'#fff'});
            document.getElementById('download-qr').style.display = 'inline-block';
        }
        function downloadQR() {
            const c = document.querySelector('#qrcode canvas');
            if(c){const a=document.createElement('a');a.download='qr.png';a.href=c.toDataURL();a.click();}
        }

        // Password
        function generatePassword() {
            const len = +document.getElementById('pw-length').value;
            let chars = '';
            if(document.getElementById('pw-upper').checked) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if(document.getElementById('pw-lower').checked) chars += 'abcdefghijklmnopqrstuvwxyz';
            if(document.getElementById('pw-number').checked) chars += '0123456789';
            if(document.getElementById('pw-symbol').checked) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';
            if(!chars) return;
            let pw = '';
            const arr = new Uint32Array(len);
            crypto.getRandomValues(arr);
            for(let i=0;i<len;i++) pw += chars[arr[i]%chars.length];
            document.getElementById('password-result').textContent = pw;
        }

        // UUID
        function generateUUID() {
            const n = +document.getElementById('uuid-count').value || 1;
            let r = [];
            for(let i=0;i<n;i++) r.push('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,c=>{const v=Math.random()*16|0;return(c==='x'?v:(v&0x3|0x8)).toString(16);}));
            document.getElementById('uuid-result').textContent = r.join('\n');
        }

        // Lorem
        function generateLorem() {
            const n = +document.getElementById('lorem-count').value;
            const p = ["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.","Duis aute irure dolor in reprehenderit in voluptate velit esse cillum.","Excepteur sint occaecat cupidatat non proident."];
            document.getElementById('lorem-result').textContent = Array(n).fill(0).map((_,i)=>p[i%p.length]).join('\n\n');
        }

        // Random
        function generateRandom() {
            const min = +document.getElementById('random-min').value;
            const max = +document.getElementById('random-max').value;
            const count = +document.getElementById('random-count').value;
            const unique = document.getElementById('random-unique').checked;
            let nums = [];
            if(unique && (max-min+1) < count) { alert('범위가 너무 작습니다'); return; }
            while(nums.length < count) {
                const n = Math.floor(Math.random()*(max-min+1))+min;
                if(!unique || !nums.includes(n)) nums.push(n);
            }
            document.getElementById('random-result').textContent = nums.join(', ');
        }

        // Fake Data
        function generateFake() {
            const count = +document.getElementById('fake-count').value;
            const names = ['김민준','이서연','박지훈','최수아','정예준','강하윤','조민서','윤도윤','장서윤','임시우'];
            const domains = ['gmail.com','naver.com','kakao.com','daum.net'];
            let result = [];
            for(let i=0;i<count;i++) {
                let item = {};
                if(document.getElementById('fake-name').checked) item.name = names[Math.floor(Math.random()*names.length)];
                if(document.getElementById('fake-email').checked) item.email = `user${Math.floor(Math.random()*9999)}@${domains[Math.floor(Math.random()*domains.length)]}`;
                if(document.getElementById('fake-phone').checked) item.phone = `010-${String(Math.floor(Math.random()*9000)+1000)}-${String(Math.floor(Math.random()*9000)+1000)}`;
                if(document.getElementById('fake-address').checked) item.address = `서울시 ${['강남구','서초구','마포구','종로구'][Math.floor(Math.random()*4)]}`;
                result.push(JSON.stringify(item));
            }
            document.getElementById('fake-result').textContent = result.join('\n');
        }

        // Gradient
        document.getElementById('grad-color1').addEventListener('input', updateGradient);
        document.getElementById('grad-color2').addEventListener('input', updateGradient);
        function updateGradient() {
            const c1 = document.getElementById('grad-color1').value;
            const c2 = document.getElementById('grad-color2').value;
            const dir = document.getElementById('grad-direction').value;
            const css = `linear-gradient(${dir}, ${c1}, ${c2})`;
            document.getElementById('grad-preview').style.background = css;
            document.getElementById('grad-result').textContent = `background: ${css};`;
        }
        updateGradient();

        // Shadow
        function updateShadow() {
            const x = document.getElementById('shadow-x').value;
            const y = document.getElementById('shadow-y').value;
            const blur = document.getElementById('shadow-blur').value;
            const spread = document.getElementById('shadow-spread').value;
            const color = document.getElementById('shadow-color').value;
            document.getElementById('shadow-x-val').textContent = x+'px';
            document.getElementById('shadow-y-val').textContent = y+'px';
            document.getElementById('shadow-blur-val').textContent = blur+'px';
            document.getElementById('shadow-spread-val').textContent = spread+'px';
            const css = `${x}px ${y}px ${blur}px ${spread}px ${color}`;
            document.getElementById('shadow-preview').style.boxShadow = css;
            document.getElementById('shadow-result').textContent = `box-shadow: ${css};`;
        }
        updateShadow();

        // Text
        function analyzeText() {
            const t = document.getElementById('text-input').value;
            document.getElementById('char-count').textContent = t.length;
            document.getElementById('char-no-space').textContent = t.replace(/\s/g,'').length;
            const words = t.trim() ? t.trim().split(/\s+/).length : 0;
            document.getElementById('word-count').textContent = words;
            document.getElementById('line-count').textContent = t ? t.split('\n').length : 0;
            document.getElementById('byte-count').textContent = new Blob([t]).size;
            document.getElementById('read-time').textContent = Math.ceil(words/200);
        }

        // Case
        function convertCase(type) {
            const t = document.getElementById('case-input').value;
            let r;
            if(type==='upper') r=t.toUpperCase();
            else if(type==='lower') r=t.toLowerCase();
            else if(type==='title') r=t.replace(/\w\S*/g,w=>w.charAt(0).toUpperCase()+w.substr(1).toLowerCase());
            else r=t.split('').map(c=>c===c.toUpperCase()?c.toLowerCase():c.toUpperCase()).join('');
            document.getElementById('case-result').textContent = r;
        }

        // Replace
        function replaceText() {
            document.getElementById('replace-result').textContent = document.getElementById('replace-input').value.split(document.getElementById('replace-find').value).join(document.getElementById('replace-with').value);
        }

        // Markdown
        function renderMarkdown() {
            document.getElementById('markdown-result').innerHTML = marked.parse(document.getElementById('markdown-input').value);
        }

        // Duplicate
        function removeDuplicates() {
            const lines = document.getElementById('dup-input').value.split('\n');
            document.getElementById('dup-result').textContent = [...new Set(lines)].join('\n');
        }

        // Sort
        function sortLines(type) {
            let lines = document.getElementById('sort-input').value.split('\n');
            if(type==='asc') lines.sort((a,b)=>a.localeCompare(b,'ko'));
            else if(type==='desc') lines.sort((a,b)=>b.localeCompare(a,'ko'));
            else if(type==='reverse') lines.reverse();
            else lines.sort(()=>Math.random()-0.5);
            document.getElementById('sort-result').textContent = lines.join('\n');
        }

        // Diff
        function compareText() {
            const t1 = document.getElementById('diff-input1').value;
            const t2 = document.getElementById('diff-input2').value;
            document.getElementById('diff-result').style.display = 'grid';
            document.getElementById('diff-old').textContent = t1;
            document.getElementById('diff-new').textContent = t2;
        }

        // Image Tools
        let resizeImg = null, resizeRatio = 1;
        function loadResizeImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                const img = new Image();
                img.onload = () => { resizeImg = img; resizeRatio = img.width/img.height;
                    document.getElementById('resize-preview').src = e.target.result;
                    document.getElementById('resize-preview').style.display = 'block';
                    document.getElementById('resize-width').value = img.width;
                    document.getElementById('resize-height').value = img.height;
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
        function updateResizeHeight() { if(document.getElementById('resize-ratio').checked && resizeRatio) document.getElementById('resize-height').value = Math.round(document.getElementById('resize-width').value / resizeRatio); }
        function updateResizeWidth() { if(document.getElementById('resize-ratio').checked && resizeRatio) document.getElementById('resize-width').value = Math.round(document.getElementById('resize-height').value * resizeRatio); }
        function resizeImage() {
            if(!resizeImg) return;
            const w = +document.getElementById('resize-width').value, h = +document.getElementById('resize-height').value;
            const canvas = document.getElementById('resize-canvas');
            canvas.width = w; canvas.height = h;
            canvas.getContext('2d').drawImage(resizeImg, 0, 0, w, h);
            const link = document.getElementById('resize-download');
            link.href = canvas.toDataURL('image/png'); link.download = 'resized.png'; link.style.display = 'inline-block';
        }

        let compressImg = null;
        function loadCompressImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => { compressImg = new Image(); compressImg.src = e.target.result;
                document.getElementById('compress-preview').src = e.target.result;
                document.getElementById('compress-preview').style.display = 'block';
                document.getElementById('compress-info').textContent = `원본: ${(file.size/1024).toFixed(1)} KB`;
            };
            reader.readAsDataURL(file);
        }
        function updateQualityLabel() { document.getElementById('quality-label').textContent = document.getElementById('compress-quality').value + '%'; }
        function compressImage() {
            if(!compressImg) return;
            const canvas = document.createElement('canvas');
            canvas.width = compressImg.width; canvas.height = compressImg.height;
            canvas.getContext('2d').drawImage(compressImg, 0, 0);
            const quality = document.getElementById('compress-quality').value / 100;
            const dataUrl = canvas.toDataURL('image/jpeg', quality);
            const link = document.getElementById('compress-download');
            link.href = dataUrl; link.download = 'compressed.jpg'; link.style.display = 'inline-block';
            const size = Math.round((dataUrl.length - 'data:image/jpeg;base64,'.length) * 3/4 / 1024);
            document.getElementById('compress-info').textContent += ` → 압축: ${size} KB`;
        }

        let convertImg = null;
        function loadConvertImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => { convertImg = new Image(); convertImg.src = e.target.result;
                document.getElementById('imgconv-preview').src = e.target.result;
                document.getElementById('imgconv-preview').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        function convertImage() {
            if(!convertImg) return;
            const canvas = document.createElement('canvas');
            canvas.width = convertImg.width; canvas.height = convertImg.height;
            canvas.getContext('2d').drawImage(convertImg, 0, 0);
            const format = document.getElementById('imgconv-format').value;
            const link = document.getElementById('imgconv-download');
            link.href = canvas.toDataURL(format, 0.9); link.download = `converted.${format.split('/')[1]}`; link.style.display = 'inline-block';
        }

        function imageToBase64(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                document.getElementById('imgb64-preview').src = e.target.result;
                document.getElementById('imgb64-preview').style.display = 'block';
                document.getElementById('imgb64-result').textContent = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        let cropImg = null;
        function loadCropImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => { cropImg = new Image(); cropImg.src = e.target.result;
                cropImg.onload = () => { document.getElementById('crop-w').value = cropImg.width; document.getElementById('crop-h').value = cropImg.height; };
                document.getElementById('crop-preview').src = e.target.result;
                document.getElementById('crop-preview').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        function cropImage() {
            if(!cropImg) return;
            const x = +document.getElementById('crop-x').value, y = +document.getElementById('crop-y').value;
            const w = +document.getElementById('crop-w').value, h = +document.getElementById('crop-h').value;
            const canvas = document.createElement('canvas');
            canvas.width = w; canvas.height = h;
            canvas.getContext('2d').drawImage(cropImg, x, y, w, h, 0, 0, w, h);
            const link = document.getElementById('crop-download');
            link.href = canvas.toDataURL('image/png'); link.download = 'cropped.png'; link.style.display = 'inline-block';
        }

        let faviconImg = null;
        function loadFaviconImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => { faviconImg = new Image(); faviconImg.src = e.target.result;
                document.getElementById('favicon-preview').src = e.target.result;
                document.getElementById('favicon-preview').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        function generateFavicons() {
            if(!faviconImg) return;
            const sizes = [16, 32, 48];
            let html = '';
            sizes.forEach(size => {
                const canvas = document.createElement('canvas');
                canvas.width = size; canvas.height = size;
                canvas.getContext('2d').drawImage(faviconImg, 0, 0, size, size);
                html += `<a href="${canvas.toDataURL('image/png')}" download="favicon-${size}.png" class="btn" style="text-decoration:none;margin:5px;">${size}x${size}</a>`;
            });
            document.getElementById('favicon-downloads').innerHTML = html;
        }

        // Encoding
        function encodeBase64() { try { document.getElementById('base64-result').textContent = btoa(unescape(encodeURIComponent(document.getElementById('base64-input').value))); } catch(e) { document.getElementById('base64-result').textContent = 'Error'; } }
        function decodeBase64() { try { document.getElementById('base64-result').textContent = decodeURIComponent(escape(atob(document.getElementById('base64-input').value))); } catch(e) { document.getElementById('base64-result').textContent = 'Error'; } }
        function encodeURL() { document.getElementById('url-result').textContent = encodeURIComponent(document.getElementById('url-input').value); }
        function decodeURL() { try { document.getElementById('url-result').textContent = decodeURIComponent(document.getElementById('url-input').value); } catch(e) { document.getElementById('url-result').textContent = 'Error'; } }
        function generateHash() {
            const t = document.getElementById('hash-input').value;
            if(!t) { document.getElementById('md5-result').textContent = '-'; document.getElementById('sha1-result').textContent = '-'; document.getElementById('sha256-result').textContent = '-'; return; }
            document.getElementById('md5-result').textContent = CryptoJS.MD5(t).toString();
            document.getElementById('sha1-result').textContent = CryptoJS.SHA1(t).toString();
            document.getElementById('sha256-result').textContent = CryptoJS.SHA256(t).toString();
        }
        function escapeHTML() { document.getElementById('html-result').textContent = document.getElementById('html-input').value.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }
        function unescapeHTML() { document.getElementById('html-result').textContent = new DOMParser().parseFromString(document.getElementById('html-input').value,'text/html').documentElement.textContent; }

        function decodeJWT() {
            const token = document.getElementById('jwt-input').value.trim();
            try {
                const parts = token.split('.');
                document.getElementById('jwt-header').textContent = JSON.stringify(JSON.parse(atob(parts[0])), null, 2);
                document.getElementById('jwt-payload').textContent = JSON.stringify(JSON.parse(atob(parts[1])), null, 2);
            } catch(e) { document.getElementById('jwt-header').textContent = 'Invalid JWT'; document.getElementById('jwt-payload').textContent = '-'; }
        }

        // Dev Tools
        function formatJSON() { try { document.getElementById('json-result').textContent = JSON.stringify(JSON.parse(document.getElementById('json-input').value),null,2); } catch(e) { document.getElementById('json-result').textContent = 'Invalid JSON'; } }
        function minifyJSON() { try { document.getElementById('json-result').textContent = JSON.stringify(JSON.parse(document.getElementById('json-input').value)); } catch(e) { document.getElementById('json-result').textContent = 'Invalid JSON'; } }

        function jsonToXml() {
            try {
                const obj = JSON.parse(document.getElementById('jsonxml-input').value);
                function toXml(o, name) {
                    let xml = '';
                    if(Array.isArray(o)) { o.forEach(item => { xml += toXml(item, name); }); }
                    else if(typeof o === 'object') { xml += `<${name}>`; for(let k in o) xml += toXml(o[k], k); xml += `</${name}>`; }
                    else { xml += `<${name}>${o}</${name}>`; }
                    return xml;
                }
                document.getElementById('jsonxml-result').textContent = '<?xml version="1.0"?>\n' + toXml(obj, 'root');
            } catch(e) { document.getElementById('jsonxml-result').textContent = 'Invalid JSON'; }
        }
        function xmlToJson() {
            try {
                const parser = new DOMParser();
                const xml = parser.parseFromString(document.getElementById('jsonxml-input').value, 'text/xml');
                function toJson(node) {
                    let obj = {};
                    if(node.children.length === 0) return node.textContent;
                    for(let child of node.children) { obj[child.tagName] = toJson(child); }
                    return obj;
                }
                document.getElementById('jsonxml-result').textContent = JSON.stringify(toJson(xml.documentElement), null, 2);
            } catch(e) { document.getElementById('jsonxml-result').textContent = 'Invalid XML'; }
        }

        function minifyCode() {
            const code = document.getElementById('minify-input').value;
            const type = document.getElementById('minify-type').value;
            let result = code;
            if(type === 'js' || type === 'css') result = code.replace(/\/\*[\s\S]*?\*\/|\/\/.*/g,'').replace(/\s+/g,' ').replace(/\s*([{}:;,])\s*/g,'$1').trim();
            else if(type === 'html') result = code.replace(/>\s+</g,'><').replace(/\s+/g,' ').trim();
            document.getElementById('minify-result').textContent = result;
        }
        function beautifyCode() {
            const code = document.getElementById('minify-input').value;
            const type = document.getElementById('minify-type').value;
            let result = code;
            if(type === 'json') { try { result = JSON.stringify(JSON.parse(code), null, 2); } catch(e) {} }
            document.getElementById('minify-result').textContent = result;
        }

        // Timestamp
        function updateTs() { document.getElementById('current-ts').textContent = Math.floor(Date.now()/1000); }
        setInterval(updateTs,1000); updateTs();
        function unixToDate() { const ts=+document.getElementById('ts-unix').value; if(!isNaN(ts)) document.getElementById('ts-result').textContent = new Date(ts*1000).toLocaleString(); }
        function dateToUnix() { const d=new Date(document.getElementById('ts-date').value); if(!isNaN(d)) document.getElementById('ts-result').textContent = Math.floor(d.getTime()/1000); }

        // Color
        function convertColor() {
            const hex = document.getElementById('color-picker').value;
            document.getElementById('color-preview').style.background = hex;
            document.getElementById('hex-value').textContent = hex.toUpperCase();
            const r=parseInt(hex.slice(1,3),16),g=parseInt(hex.slice(3,5),16),b=parseInt(hex.slice(5,7),16);
            document.getElementById('rgb-value').textContent = `rgb(${r},${g},${b})`;
            const max=Math.max(r,g,b)/255,min=Math.min(r,g,b)/255,l=(max+min)/2;
            let h=0,s=0;
            if(max!==min){const d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);if(max===r/255)h=((g-b)/255/d+(g<b?6:0))/6;else if(max===g/255)h=((b-r)/255/d+2)/6;else h=((r-g)/255/d+4)/6;}
            document.getElementById('hsl-value').textContent = `hsl(${Math.round(h*360)},${Math.round(s*100)}%,${Math.round(l*100)}%)`;
        }
        convertColor();

        // Regex
        function testRegex() {
            const p=document.getElementById('regex-pattern').value,f=document.getElementById('regex-flags').value,t=document.getElementById('regex-text').value;
            if(!p||!t){document.getElementById('regex-result').textContent='-';return;}
            try{const re=new RegExp(p,f),m=t.match(re);document.getElementById('regex-result').innerHTML=m?`<span style="color:#6a6;">${m.length} matches:</span> ${m.map(x=>`<code style="background:#1a1a1a;padding:2px 5px;border-radius:3px;">${x}</code>`).join(' ')}`:'<span style="color:#a66;">No match</span>';}
            catch(e){document.getElementById('regex-result').textContent='Invalid regex';}
        }

        // Cron
        function generateCron() {
            const min = document.getElementById('cron-min').value || '*';
            const hour = document.getElementById('cron-hour').value || '*';
            const day = document.getElementById('cron-day').value || '*';
            const month = document.getElementById('cron-month').value || '*';
            const week = document.getElementById('cron-week').value || '*';
            const cron = `${min} ${hour} ${day} ${month} ${week}`;
            document.getElementById('cron-result').textContent = cron;
            let desc = '';
            if(cron === '* * * * *') desc = '매분 실행';
            else if(cron === '0 * * * *') desc = '매시 정각 실행';
            else if(cron === '0 0 * * *') desc = '매일 자정 실행';
            document.getElementById('cron-desc').textContent = desc;
        }

        // Meta
        function generateMeta() {
            const title = document.getElementById('meta-title').value;
            const desc = document.getElementById('meta-desc').value;
            const url = document.getElementById('meta-url').value;
            const image = document.getElementById('meta-image').value;
            let html = `<title>${title}</title>\n<meta name="description" content="${desc}">\n`;
            html += `<meta property="og:title" content="${title}">\n<meta property="og:description" content="${desc}">\n<meta property="og:type" content="website">\n`;
            if(url) html += `<meta property="og:url" content="${url}">\n`;
            if(image) html += `<meta property="og:image" content="${image}">\n`;
            html += `<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:title" content="${title}">\n<meta name="twitter:description" content="${desc}">`;
            document.getElementById('meta-result').textContent = html;
        }

        // Calculate
        function calcPercent() {
            const a1=+document.getElementById('p1-a').value,b1=+document.getElementById('p1-b').value;
            if(!isNaN(a1)&&!isNaN(b1)) document.getElementById('p1-result').textContent = (a1*b1/100).toFixed(2);
            const a2=+document.getElementById('p2-a').value,b2=+document.getElementById('p2-b').value;
            if(!isNaN(a2)&&!isNaN(b2)&&b2!==0) document.getElementById('p2-result').textContent = (a2/b2*100).toFixed(2);
        }

        const units={length:{mm:1,cm:10,m:1000,km:1e6,in:25.4,ft:304.8,mi:1609344},weight:{mg:1,g:1000,kg:1e6,oz:28349.5,lb:453592},temp:{c:'c',f:'f',k:'k'},data:{B:1,KB:1024,MB:1048576,GB:1073741824,TB:1099511627776}};
        function updateUnitOptions(){const t=document.getElementById('unit-type').value,o=Object.keys(units[t]).map(u=>`<option value="${u}">${u}</option>`).join('');document.getElementById('unit-from').innerHTML=o;document.getElementById('unit-to').innerHTML=o;document.getElementById('unit-to').selectedIndex=1;}
        function convertUnit(){const t=document.getElementById('unit-type').value,v=+document.getElementById('unit-value').value,from=document.getElementById('unit-from').value,to=document.getElementById('unit-to').value;if(isNaN(v)){document.getElementById('unit-result').textContent='?';return;}let r;if(t==='temp'){let c;if(from==='c')c=v;else if(from==='f')c=(v-32)*5/9;else c=v-273.15;if(to==='c')r=c;else if(to==='f')r=c*9/5+32;else r=c+273.15;}else{r=v*units[t][from]/units[t][to];}document.getElementById('unit-result').textContent=r.toFixed(4).replace(/\.?0+$/,'');}
        updateUnitOptions();

        function convertBase(){const i=document.getElementById('num-input').value.trim(),b=+document.getElementById('num-base').value;if(!i){['bin','oct','dec','hex'].forEach(x=>document.getElementById(x+'-result').textContent='-');return;}try{const n=parseInt(i,b);if(isNaN(n))throw 0;document.getElementById('bin-result').textContent=n.toString(2);document.getElementById('oct-result').textContent=n.toString(8);document.getElementById('dec-result').textContent=n.toString(10);document.getElementById('hex-result').textContent=n.toString(16).toUpperCase();}catch(e){['bin','oct','dec','hex'].forEach(x=>document.getElementById(x+'-result').textContent='Error');}}

        // Date
        document.getElementById('date-target').addEventListener('change',function(){const t=new Date(this.value),today=new Date();today.setHours(0,0,0,0);const d=Math.ceil((t-today)/864e5);document.getElementById('dday-result').textContent=d>0?`D-${d}`:d<0?`D+${-d}`:'D-Day';});
        function calcDateDiff(){const f=new Date(document.getElementById('date-from').value),t=new Date(document.getElementById('date-to').value),d=Math.abs(Math.ceil((t-f)/864e5));document.getElementById('date-diff-result').textContent=`${d}일 (${Math.floor(d/7)}주 ${d%7}일)`;}

        // Age Calculator with Lunar
        const lunarData = [0x04bd8,0x04ae0,0x0a570,0x054d5,0x0d260,0x0d950,0x16554,0x056a0,0x09ad0,0x055d2,0x04ae0,0x0a5b6,0x0a4d0,0x0d250,0x1d255,0x0b540,0x0d6a0,0x0ada2,0x095b0,0x14977,0x04970,0x0a4b0,0x0b4b5,0x06a50,0x06d40,0x1ab54,0x02b60,0x09570,0x052f2,0x04970,0x06566,0x0d4a0,0x0ea50,0x06e95,0x05ad0,0x02b60,0x186e3,0x092e0,0x1c8d7,0x0c950,0x0d4a0,0x1d8a6,0x0b550,0x056a0,0x1a5b4,0x025d0,0x092d0,0x0d2b2,0x0a950,0x0b557,0x06ca0,0x0b550,0x15355,0x04da0,0x0a5d0,0x14573,0x052d0,0x0a9a8,0x0e950,0x06aa0,0x0aea6,0x0ab50,0x04b60,0x0aae4,0x0a570,0x05260,0x0f263,0x0d950,0x05b57,0x056a0,0x096d0,0x04dd5,0x04ad0,0x0a4d0,0x0d4d4,0x0d250,0x0d558,0x0b540,0x0b5a0,0x195a6,0x095b0,0x049b0,0x0a974,0x0a4b0,0x0b27a,0x06a50,0x06d40,0x0af46,0x0ab60,0x09570,0x04af5,0x04970,0x064b0,0x074a3,0x0ea50,0x06b58,0x055c0,0x0ab60,0x096d5,0x092e0,0x0c960,0x0d954,0x0d4a0,0x0da50,0x07552,0x056a0,0x0abb7,0x025d0,0x092d0,0x0cab5,0x0a950,0x0b4a0,0x0baa4,0x0ad50,0x055d9,0x04ba0,0x0a5b0,0x15176,0x052b0,0x0a930,0x07954,0x06aa0,0x0ad50,0x05b52,0x04b60,0x0a6e6,0x0a4e0,0x0d260,0x0ea65,0x0d530,0x05aa0,0x076a3,0x096d0,0x04afb,0x04ad0,0x0a4d0,0x1d0b6,0x0d250,0x0d520,0x0dd45,0x0b5a0,0x056d0,0x055b2,0x049b0,0x0a577,0x0a4b0,0x0aa50,0x1b255,0x06d20,0x0ada0,0x14b63];
        function lunarToSolar(y, m, d) {
            if(y < 1900 || y > 2049) return null;
            let offset = 0;
            for(let i = 1900; i < y; i++) { offset += getLunarYearDays(i); }
            for(let i = 1; i < m; i++) { offset += getLunarMonthDays(y, i); }
            offset += d - 1;
            const base = new Date(1900, 0, 31);
            return new Date(base.getTime() + offset * 86400000);
        }
        function getLunarYearDays(y) { let sum = 348; for(let i = 0x8000; i > 0x8; i >>= 1) sum += (lunarData[y-1900] & i) ? 1 : 0; return sum + getLeapDays(y); }
        function getLeapDays(y) { if(getLeapMonth(y)) return (lunarData[y-1900] & 0x10000) ? 30 : 29; return 0; }
        function getLeapMonth(y) { return lunarData[y-1900] & 0xf; }
        function getLunarMonthDays(y, m) { return (lunarData[y-1900] & (0x10000 >> m)) ? 30 : 29; }

        function calcAge() {
            const birthStr = document.getElementById('age-birth').value;
            if(!birthStr) return;
            const isLunar = document.querySelector('input[name="age-type"]:checked').value === 'lunar';
            let birth;
            if(isLunar) {
                const [y, m, d] = birthStr.split('-').map(Number);
                birth = lunarToSolar(y, m, d);
                if(birth) {
                    document.getElementById('age-lunar-info').style.display = 'block';
                    document.getElementById('age-solar-date').textContent = birth.toLocaleDateString('ko-KR');
                }
            } else {
                birth = new Date(birthStr);
                document.getElementById('age-lunar-info').style.display = 'none';
            }
            if(!birth) return;
            const today = new Date();
            const koreanAge = today.getFullYear() - birth.getFullYear() + 1;
            let fullAge = today.getFullYear() - birth.getFullYear();
            if(today.getMonth() < birth.getMonth() || (today.getMonth() === birth.getMonth() && today.getDate() < birth.getDate())) fullAge--;
            const days = Math.floor((today - birth) / 86400000);
            document.getElementById('age-korean').textContent = koreanAge;
            document.getElementById('age-full').textContent = fullAge;
            document.getElementById('age-days').textContent = days.toLocaleString();
        }

        // Pomodoro
        let pomoTime = 25*60, pomoInterval = null, pomoRunning = false;
        function updatePomoDisplay() { const m = Math.floor(pomoTime/60), s = pomoTime%60; document.getElementById('pomo-display').textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`; }
        function startPomodoro() {
            if(pomoRunning) { clearInterval(pomoInterval); pomoRunning = false; document.getElementById('pomo-start').textContent = '시작'; return; }
            pomoRunning = true; document.getElementById('pomo-start').textContent = '정지';
            pomoInterval = setInterval(() => { if(pomoTime > 0) { pomoTime--; updatePomoDisplay(); } else { clearInterval(pomoInterval); pomoRunning = false; alert('시간 종료!'); } }, 1000);
        }
        function resetPomodoro() { clearInterval(pomoInterval); pomoRunning = false; pomoTime = 25*60; updatePomoDisplay(); document.getElementById('pomo-start').textContent = '시작'; }
        function setPomoTime(min) { clearInterval(pomoInterval); pomoRunning = false; pomoTime = min*60; updatePomoDisplay(); document.getElementById('pomo-start').textContent = '시작'; }

        // Stopwatch
        let swTime = 0, swInterval = null, swRunning = false, swLaps = [];
        function updateSwDisplay() { const m = Math.floor(swTime/6000), s = Math.floor((swTime%6000)/100), ms = swTime%100; document.getElementById('sw-display').textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}.${String(ms).padStart(2,'0')}`; }
        function toggleStopwatch() {
            if(swRunning) { clearInterval(swInterval); swRunning = false; document.getElementById('sw-start').textContent = '시작'; return; }
            swRunning = true; document.getElementById('sw-start').textContent = '정지';
            swInterval = setInterval(() => { swTime++; updateSwDisplay(); }, 10);
        }
        function lapStopwatch() { if(swRunning) { swLaps.push(document.getElementById('sw-display').textContent); document.getElementById('sw-laps').innerHTML = swLaps.map((l,i) => `<div style="color:#666;font-size:0.85rem;">랩 ${i+1}: ${l}</div>`).join(''); } }
        function resetStopwatch() { clearInterval(swInterval); swRunning = false; swTime = 0; swLaps = []; updateSwDisplay(); document.getElementById('sw-start').textContent = '시작'; document.getElementById('sw-laps').innerHTML = ''; }

        // Password Strength
        function checkPwStrength() {
            const pw = document.getElementById('pwcheck-input').value;
            let score = 0, tips = [];
            if(pw.length >= 8) score += 20; else tips.push('8자 이상 권장');
            if(pw.length >= 12) score += 10;
            if(/[a-z]/.test(pw)) score += 15; else tips.push('소문자 추가');
            if(/[A-Z]/.test(pw)) score += 15; else tips.push('대문자 추가');
            if(/[0-9]/.test(pw)) score += 15; else tips.push('숫자 추가');
            if(/[^a-zA-Z0-9]/.test(pw)) score += 25; else tips.push('특수문자 추가');
            const fill = document.getElementById('pw-strength-fill');
            fill.style.width = score + '%';
            if(score < 30) { fill.style.background = '#c55'; document.getElementById('pw-strength-text').innerHTML = '<span style="color:#c55;">약함</span>'; }
            else if(score < 60) { fill.style.background = '#ca5'; document.getElementById('pw-strength-text').innerHTML = '<span style="color:#ca5;">보통</span>'; }
            else if(score < 80) { fill.style.background = '#5a5'; document.getElementById('pw-strength-text').innerHTML = '<span style="color:#5a5;">강함</span>'; }
            else { fill.style.background = '#5c5'; document.getElementById('pw-strength-text').innerHTML = '<span style="color:#5c5;">매우 강함</span>'; }
            document.getElementById('pw-strength-tips').innerHTML = tips.length ? '개선 팁: ' + tips.join(', ') : '좋은 비밀번호입니다!';
        }

        // Placeholder Image
        function generatePlaceholder() {
            const w = +document.getElementById('ph-width').value || 400;
            const h = +document.getElementById('ph-height').value || 300;
            const bg = document.getElementById('ph-bg').value;
            const textColor = document.getElementById('ph-text').value;
            const label = document.getElementById('ph-label').value || `${w}×${h}`;
            const canvas = document.getElementById('ph-canvas');
            canvas.width = w; canvas.height = h;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = bg;
            ctx.fillRect(0, 0, w, h);
            ctx.fillStyle = textColor;
            ctx.font = `${Math.min(w, h) / 8}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(label, w/2, h/2);
            const dataUrl = canvas.toDataURL('image/png');
            document.getElementById('ph-preview').src = dataUrl;
            document.getElementById('ph-preview').style.display = 'block';
            const link = document.getElementById('ph-download');
            link.href = dataUrl; link.download = `placeholder-${w}x${h}.png`; link.style.display = 'inline-block';
        }

        // CSS Unit
        function convertCssUnit() {
            const val = +document.getElementById('css-value').value;
            const from = document.getElementById('css-from').value;
            const base = +document.getElementById('css-base').value || 16;
            if(isNaN(val)) { document.getElementById('css-unit-result').innerHTML = '-'; return; }
            let px;
            if(from === 'px') px = val;
            else if(from === 'rem' || from === 'em') px = val * base;
            else if(from === 'pt') px = val * 1.333;
            else if(from === 'vw') px = val * window.innerWidth / 100;
            else if(from === 'vh') px = val * window.innerHeight / 100;
            const results = {
                px: px.toFixed(2),
                rem: (px / base).toFixed(4),
                em: (px / base).toFixed(4),
                pt: (px / 1.333).toFixed(2),
                vw: (px / window.innerWidth * 100).toFixed(4),
                vh: (px / window.innerHeight * 100).toFixed(4)
            };
            document.getElementById('css-unit-result').innerHTML = Object.entries(results).map(([k,v]) => `<div style="margin:5px 0;"><span style="color:#6a9fb5;">${k}:</span> ${v}</div>`).join('');
        }

        // HTTP Status
        const httpCodes = {100:'Continue',101:'Switching Protocols',200:'OK',201:'Created',202:'Accepted',204:'No Content',301:'Moved Permanently',302:'Found',304:'Not Modified',307:'Temporary Redirect',308:'Permanent Redirect',400:'Bad Request',401:'Unauthorized',403:'Forbidden',404:'Not Found',405:'Method Not Allowed',408:'Request Timeout',409:'Conflict',410:'Gone',413:'Payload Too Large',414:'URI Too Long',415:'Unsupported Media Type',422:'Unprocessable Entity',429:'Too Many Requests',500:'Internal Server Error',501:'Not Implemented',502:'Bad Gateway',503:'Service Unavailable',504:'Gateway Timeout'};
        function lookupHttpStatus() {
            const code = document.getElementById('http-code').value;
            const status = httpCodes[code];
            if(status) {
                document.getElementById('http-status-result').innerHTML = `<div style="font-size:1.2rem;color:#ddd;margin-bottom:10px;"><strong>${code}</strong> ${status}</div><div style="color:#666;">${getHttpDesc(code)}</div>`;
            } else {
                document.getElementById('http-status-result').textContent = code ? '알 수 없는 코드' : '-';
            }
        }
        function getHttpDesc(code) {
            const descs = {200:'요청 성공',201:'리소스 생성됨',301:'영구 이동 (SEO 권장)',302:'임시 이동',400:'잘못된 요청',401:'인증 필요',403:'접근 금지',404:'리소스 없음',500:'서버 오류',502:'게이트웨이 오류',503:'서비스 불가',504:'게이트웨이 타임아웃'};
            return descs[code] || '';
        }

        // IP Info
        async function getMyIP() {
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const data = await res.json();
                document.getElementById('ip-address').textContent = data.ip;
            } catch(e) {
                document.getElementById('ip-address').textContent = '조회 실패';
            }
        }

        // User Agent
        function parseUserAgent() {
            const ua = navigator.userAgent;
            document.getElementById('ua-string').textContent = ua;
            let browser = 'Unknown', os = 'Unknown', device = 'Desktop';
            if(ua.includes('Firefox')) browser = 'Firefox';
            else if(ua.includes('Edg')) browser = 'Edge';
            else if(ua.includes('Chrome')) browser = 'Chrome';
            else if(ua.includes('Safari')) browser = 'Safari';
            if(ua.includes('Windows')) os = 'Windows';
            else if(ua.includes('Mac')) os = 'macOS';
            else if(ua.includes('Linux')) os = 'Linux';
            else if(ua.includes('Android')) os = 'Android';
            else if(ua.includes('iOS') || ua.includes('iPhone')) os = 'iOS';
            if(ua.includes('Mobile')) device = 'Mobile';
            else if(ua.includes('Tablet')) device = 'Tablet';
            document.getElementById('ua-browser').textContent = browser;
            document.getElementById('ua-os').textContent = os;
            document.getElementById('ua-device').textContent = device;
        }
        parseUserAgent();

        // Slug
        function generateSlug() {
            let text = document.getElementById('slug-input').value;
            const lower = document.getElementById('slug-lower').checked;
            const keepKorean = document.getElementById('slug-korean').checked;
            if(lower) text = text.toLowerCase();
            if(!keepKorean) text = text.normalize('NFD').replace(/[\u0300-\u036f]/g, '').replace(/[가-힣]/g, '');
            text = text.replace(/[^\w\s가-힣-]/g, '').replace(/\s+/g, '-').replace(/-+/g, '-').replace(/^-|-$/g, '');
            document.getElementById('slug-result').textContent = text || '-';
        }

        // BMI
        function calcBMI() {
            const h = +document.getElementById('bmi-height').value / 100;
            const w = +document.getElementById('bmi-weight').value;
            if(!h || !w) return;
            const bmi = w / (h * h);
            document.getElementById('bmi-value').textContent = bmi.toFixed(1);
            let status = '';
            if(bmi < 18.5) status = '저체중';
            else if(bmi < 23) status = '정상';
            else if(bmi < 25) status = '과체중';
            else if(bmi < 30) status = '비만';
            else status = '고도비만';
            document.getElementById('bmi-status').textContent = status;
        }

        // Loan
        function calcLoan() {
            const p = +document.getElementById('loan-amount').value;
            const r = +document.getElementById('loan-rate').value / 100 / 12;
            const n = +document.getElementById('loan-months').value;
            const type = document.getElementById('loan-type').value;
            if(!p || !r || !n) return;
            let monthly, total;
            if(type === 'equal') {
                monthly = p * r * Math.pow(1 + r, n) / (Math.pow(1 + r, n) - 1);
                total = monthly * n;
            } else {
                const principal = p / n;
                monthly = principal + p * r;
                total = p + (p * r * (n + 1) / 2);
            }
            document.getElementById('loan-monthly').textContent = Math.round(monthly).toLocaleString() + '원';
            document.getElementById('loan-total').textContent = Math.round(total).toLocaleString() + '원';
            document.getElementById('loan-interest').textContent = Math.round(total - p).toLocaleString() + '원';
        }

        // Discount
        function calcDiscount() {
            const original = +document.getElementById('disc-original').value;
            const rate = +document.getElementById('disc-rate').value;
            if(!original) return;
            const discount = original * rate / 100;
            const price = original - discount;
            document.getElementById('disc-price').textContent = Math.round(price).toLocaleString() + '원';
            document.getElementById('disc-save').textContent = Math.round(discount).toLocaleString() + '원';
        }

        // Tip
        function calcTip() {
            const amount = +document.getElementById('tip-amount').value;
            const rate = +document.getElementById('tip-rate').value;
            const people = +document.getElementById('tip-people').value || 1;
            if(!amount) return;
            const tip = amount * rate / 100;
            const total = amount + tip;
            const each = total / people;
            document.getElementById('tip-total').textContent = Math.round(total).toLocaleString() + '원';
            document.getElementById('tip-each').textContent = Math.round(each).toLocaleString() + '원';
            document.getElementById('tip-tipamt').textContent = Math.round(tip).toLocaleString() + '원';
        }

        // VAT
        function calcVAT() {
            const amount = +document.getElementById('vat-amount').value;
            const rate = +document.getElementById('vat-rate').value;
            const type = document.querySelector('input[name="vat-type"]:checked').value;
            if(!amount) return;
            let supply, tax, total;
            if(type === 'exclude') {
                supply = amount;
                tax = amount * rate / 100;
                total = supply + tax;
            } else {
                total = amount;
                supply = amount / (1 + rate / 100);
                tax = total - supply;
            }
            document.getElementById('vat-supply').textContent = Math.round(supply).toLocaleString() + '원';
            document.getElementById('vat-tax').textContent = Math.round(tax).toLocaleString() + '원';
            document.getElementById('vat-total').textContent = Math.round(total).toLocaleString() + '원';
        }

        // Countdown
        let cdTime = 300, cdInterval = null, cdRunning = false;
        function updateCdDisplay() { const h = Math.floor(cdTime/3600), m = Math.floor((cdTime%3600)/60), s = cdTime%60; document.getElementById('cd-display').textContent = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`; }
        function toggleCountdown() {
            if(cdRunning) { clearInterval(cdInterval); cdRunning = false; document.getElementById('cd-start').textContent = '시작'; return; }
            cdTime = (+document.getElementById('cd-hours').value||0)*3600 + (+document.getElementById('cd-minutes').value||0)*60 + (+document.getElementById('cd-seconds').value||0);
            if(cdTime <= 0) return;
            cdRunning = true; document.getElementById('cd-start').textContent = '정지';
            cdInterval = setInterval(() => { if(cdTime > 0) { cdTime--; updateCdDisplay(); } else { clearInterval(cdInterval); cdRunning = false; alert('시간 종료!'); document.getElementById('cd-start').textContent = '시작'; } }, 1000);
        }
        function resetCountdown() { clearInterval(cdInterval); cdRunning = false; cdTime = (+document.getElementById('cd-hours').value||0)*3600 + (+document.getElementById('cd-minutes').value||0)*60 + (+document.getElementById('cd-seconds').value||0); updateCdDisplay(); document.getElementById('cd-start').textContent = '시작'; }

        // World Clock
        const worldTimezones = [{city:'서울',tz:'Asia/Seoul'},{city:'도쿄',tz:'Asia/Tokyo'},{city:'베이징',tz:'Asia/Shanghai'},{city:'싱가포르',tz:'Asia/Singapore'},{city:'두바이',tz:'Asia/Dubai'},{city:'런던',tz:'Europe/London'},{city:'파리',tz:'Europe/Paris'},{city:'뉴욕',tz:'America/New_York'},{city:'LA',tz:'America/Los_Angeles'},{city:'시드니',tz:'Australia/Sydney'}];
        function updateWorldClocks() {
            const html = worldTimezones.map(({city, tz}) => {
                const time = new Date().toLocaleTimeString('ko-KR', {timeZone: tz, hour: '2-digit', minute: '2-digit'});
                const date = new Date().toLocaleDateString('ko-KR', {timeZone: tz, month: 'short', day: 'numeric'});
                return `<div class="stat-box"><div class="number" style="font-size:1.1rem;">${time}</div><div class="label">${city}<br><span style="font-size:0.65rem;">${date}</span></div></div>`;
            }).join('');
            document.getElementById('world-clocks').innerHTML = html;
        }
        setInterval(updateWorldClocks, 1000);
        updateWorldClocks();

        // Notepad
        function loadNotepad() { document.getElementById('notepad-input').value = localStorage.getItem('notepad') || ''; }
        function saveNotepad() { localStorage.setItem('notepad', document.getElementById('notepad-input').value); document.getElementById('notepad-status').textContent = '저장됨 ' + new Date().toLocaleTimeString(); }
        function clearNotepad() { if(confirm('정말 삭제하시겠습니까?')) { localStorage.removeItem('notepad'); document.getElementById('notepad-input').value = ''; } }
        loadNotepad();

        // Palette
        function hexToHsl(hex) {
            let r = parseInt(hex.slice(1,3),16)/255, g = parseInt(hex.slice(3,5),16)/255, b = parseInt(hex.slice(5,7),16)/255;
            const max = Math.max(r,g,b), min = Math.min(r,g,b), l = (max+min)/2;
            let h = 0, s = 0;
            if(max !== min) {
                const d = max - min;
                s = l > 0.5 ? d/(2-max-min) : d/(max+min);
                if(max === r) h = ((g-b)/d + (g<b?6:0))/6;
                else if(max === g) h = ((b-r)/d + 2)/6;
                else h = ((r-g)/d + 4)/6;
            }
            return [h*360, s*100, l*100];
        }
        function hslToHex(h, s, l) {
            h /= 360; s /= 100; l /= 100;
            let r, g, b;
            if(s === 0) { r = g = b = l; }
            else {
                const hue2rgb = (p, q, t) => { if(t<0)t+=1; if(t>1)t-=1; if(t<1/6)return p+(q-p)*6*t; if(t<1/2)return q; if(t<2/3)return p+(q-p)*(2/3-t)*6; return p; };
                const q = l < 0.5 ? l*(1+s) : l+s-l*s, p = 2*l-q;
                r = hue2rgb(p,q,h+1/3); g = hue2rgb(p,q,h); b = hue2rgb(p,q,h-1/3);
            }
            return '#' + [r,g,b].map(x => Math.round(x*255).toString(16).padStart(2,'0')).join('');
        }
        function generatePalette() {
            const base = document.getElementById('palette-base').value;
            const type = document.querySelector('input[name="palette-type"]:checked').value;
            const [h, s, l] = hexToHsl(base);
            let colors = [];
            if(type === 'analogous') colors = [hslToHex((h-30+360)%360,s,l), base, hslToHex((h+30)%360,s,l), hslToHex((h-15+360)%360,s,l), hslToHex((h+15)%360,s,l)];
            else if(type === 'complementary') colors = [base, hslToHex((h+180)%360,s,l), hslToHex((h+180)%360,s,Math.min(l+20,100)), hslToHex(h,s,Math.min(l+20,100)), hslToHex(h,s,Math.max(l-20,0))];
            else if(type === 'triadic') colors = [base, hslToHex((h+120)%360,s,l), hslToHex((h+240)%360,s,l), hslToHex((h+60)%360,s,l), hslToHex((h+180)%360,s,l)];
            else colors = [hslToHex(h,s,Math.max(l-40,0)), hslToHex(h,s,Math.max(l-20,0)), base, hslToHex(h,s,Math.min(l+20,100)), hslToHex(h,s,Math.min(l+40,100))];
            document.getElementById('palette-result').innerHTML = colors.map(c => `<div style="width:60px;height:60px;background:${c};border-radius:8px;cursor:pointer;display:flex;align-items:flex-end;justify-content:center;" onclick="navigator.clipboard.writeText('${c}');alert('복사됨: ${c}')"><span style="font-size:0.65rem;color:#fff;text-shadow:0 0 3px #000;padding:3px;">${c}</span></div>`).join('');
        }
        generatePalette();

        // Emoji
        const emojiData = {smile:['😀','😃','😄','😁','😆','😅','🤣','😂','🙂','😊','😇','🥰','😍','🤩'],heart:['❤️','🧡','💛','💚','💙','💜','🖤','🤍','🤎','💕','💞','💓','💗','💖','💝','💘'],hand:['👍','👎','👏','🙌','🤝','🙏','✌️','🤞','🤟','🤘','👌','🤏','👈','👉','👆','👇'],fire:['🔥','💥','✨','⭐','🌟','💫','⚡','☀️','🌈','🌙'],animal:['🐶','🐱','🐭','🐹','🐰','🦊','🐻','🐼','🐨','🐯','🦁','🐮','🐷','🐸'],food:['🍎','🍐','🍊','🍋','🍌','🍉','🍇','🍓','🫐','🍒','🍑','🥭','🍍','🥥','🥝','🍅'],work:['💼','📁','📂','📅','📆','📊','📈','📉','💻','🖥️','⌨️','🖱️','🖨️'],weather:['☀️','🌤️','⛅','🌥️','☁️','🌦️','🌧️','⛈️','🌩️','🌨️','❄️','💨','🌪️'],travel:['✈️','🚗','🚕','🚌','🚎','🏎️','🚓','🚑','🚒','🚐','🛻','🚚','🚛','🚜'],flag:['🇰🇷','🇺🇸','🇯🇵','🇨🇳','🇬🇧','🇫🇷','🇩🇪','🇮🇹','🇪🇸','🇦🇺','🇨🇦','🇧🇷']};
        function searchEmoji() {
            const q = document.getElementById('emoji-search').value.toLowerCase();
            if(!q) { document.getElementById('emoji-result').innerHTML = Object.values(emojiData).flat().slice(0,50).map(e => `<span style="cursor:pointer;padding:5px;" onclick="copyEmoji('${e}')">${e}</span>`).join(''); return; }
            const results = [];
            for(const [key, emojis] of Object.entries(emojiData)) {
                if(key.includes(q)) results.push(...emojis);
            }
            document.getElementById('emoji-result').innerHTML = results.length ? results.map(e => `<span style="cursor:pointer;padding:5px;" onclick="copyEmoji('${e}')">${e}</span>`).join('') : '결과 없음';
        }
        function copyEmoji(e) { navigator.clipboard.writeText(e); document.getElementById('emoji-copied').style.display = 'block'; setTimeout(() => document.getElementById('emoji-copied').style.display = 'none', 1500); }
        searchEmoji();

        // Eng-Kor conversion
        const engToKor = {'a':'ㅁ','b':'ㅠ','c':'ㅊ','d':'ㅇ','e':'ㄷ','f':'ㄹ','g':'ㅎ','h':'ㅗ','i':'ㅑ','j':'ㅓ','k':'ㅏ','l':'ㅣ','m':'ㅡ','n':'ㅜ','o':'ㅐ','p':'ㅔ','q':'ㅂ','r':'ㄱ','s':'ㄴ','t':'ㅅ','u':'ㅕ','v':'ㅍ','w':'ㅈ','x':'ㅌ','y':'ㅛ','z':'ㅋ','Q':'ㅃ','W':'ㅉ','E':'ㄸ','R':'ㄲ','T':'ㅆ','O':'ㅒ','P':'ㅖ'};
        const korToEng = {};
        for(const [e, k] of Object.entries(engToKor)) korToEng[k] = e.toLowerCase();
        function convertEngToKor() {
            const input = document.getElementById('engkor-input').value;
            let result = '';
            for(const c of input) result += engToKor[c] || c;
            document.getElementById('engkor-result').textContent = composeHangul(result);
        }
        function convertKorToEng() {
            const input = decomposeHangul(document.getElementById('engkor-input').value);
            let result = '';
            for(const c of input) result += korToEng[c] || c;
            document.getElementById('engkor-result').textContent = result;
        }
        function composeHangul(str) {
            const cho = ['ㄱ','ㄲ','ㄴ','ㄷ','ㄸ','ㄹ','ㅁ','ㅂ','ㅃ','ㅅ','ㅆ','ㅇ','ㅈ','ㅉ','ㅊ','ㅋ','ㅌ','ㅍ','ㅎ'];
            const jung = ['ㅏ','ㅐ','ㅑ','ㅒ','ㅓ','ㅔ','ㅕ','ㅖ','ㅗ','ㅘ','ㅙ','ㅚ','ㅛ','ㅜ','ㅝ','ㅞ','ㅟ','ㅠ','ㅡ','ㅢ','ㅣ'];
            const jong = ['','ㄱ','ㄲ','ㄳ','ㄴ','ㄵ','ㄶ','ㄷ','ㄹ','ㄺ','ㄻ','ㄼ','ㄽ','ㄾ','ㄿ','ㅀ','ㅁ','ㅂ','ㅄ','ㅅ','ㅆ','ㅇ','ㅈ','ㅊ','ㅋ','ㅌ','ㅍ','ㅎ'];
            let result = '', i = 0;
            while(i < str.length) {
                const c = str[i];
                if(cho.includes(c) && i+1 < str.length && jung.includes(str[i+1])) {
                    const choIdx = cho.indexOf(c);
                    const jungIdx = jung.indexOf(str[i+1]);
                    let jongIdx = 0;
                    if(i+2 < str.length && jong.includes(str[i+2])) {
                        if(i+3 < str.length && jung.includes(str[i+3])) {
                            result += String.fromCharCode(0xAC00 + choIdx*588 + jungIdx*28);
                            i += 2;
                            continue;
                        }
                        jongIdx = jong.indexOf(str[i+2]);
                        i++;
                    }
                    result += String.fromCharCode(0xAC00 + choIdx*588 + jungIdx*28 + jongIdx);
                    i += 2;
                } else { result += c; i++; }
            }
            return result;
        }
        function decomposeHangul(str) {
            const cho = ['ㄱ','ㄲ','ㄴ','ㄷ','ㄸ','ㄹ','ㅁ','ㅂ','ㅃ','ㅅ','ㅆ','ㅇ','ㅈ','ㅉ','ㅊ','ㅋ','ㅌ','ㅍ','ㅎ'];
            const jung = ['ㅏ','ㅐ','ㅑ','ㅒ','ㅓ','ㅔ','ㅕ','ㅖ','ㅗ','ㅘ','ㅙ','ㅚ','ㅛ','ㅜ','ㅝ','ㅞ','ㅟ','ㅠ','ㅡ','ㅢ','ㅣ'];
            const jong = ['','ㄱ','ㄲ','ㄳ','ㄴ','ㄵ','ㄶ','ㄷ','ㄹ','ㄺ','ㄻ','ㄼ','ㄽ','ㄾ','ㄿ','ㅀ','ㅁ','ㅂ','ㅄ','ㅅ','ㅆ','ㅇ','ㅈ','ㅊ','ㅋ','ㅌ','ㅍ','ㅎ'];
            let result = '';
            for(const c of str) {
                const code = c.charCodeAt(0);
                if(code >= 0xAC00 && code <= 0xD7A3) {
                    const idx = code - 0xAC00;
                    result += cho[Math.floor(idx/588)] + jung[Math.floor((idx%588)/28)] + jong[idx%28];
                } else { result += c; }
            }
            return result;
        }

        // OCR
        let ocrImg = null;
        function loadOcrImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => { ocrImg = e.target.result; document.getElementById('ocr-preview').src = e.target.result; document.getElementById('ocr-preview').style.display = 'block'; };
            reader.readAsDataURL(file);
        }
        async function runOcr() {
            if(!ocrImg) return;
            const status = document.getElementById('ocr-status');
            status.textContent = '처리 중... (Tesseract.js 로딩)';
            try {
                const Tesseract = await import('https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.esm.min.js');
                const { data: { text } } = await Tesseract.recognize(ocrImg, 'kor+eng', { logger: m => { if(m.status === 'recognizing text') status.textContent = `처리 중... ${Math.round(m.progress*100)}%`; } });
                document.getElementById('ocr-result').textContent = text || '텍스트를 찾을 수 없습니다';
                status.textContent = '완료!';
            } catch(e) { status.textContent = '오류: ' + e.message; }
        }

        // Vertical Text
        function convertVertical() { document.getElementById('vertical-result').textContent = document.getElementById('vertical-input').value || '-'; }

        // Special Characters
        const specialChars = {arrows:['←','→','↑','↓','↔','↕','⇐','⇒','⇑','⇓'],math:['±','×','÷','≠','≤','≥','≈','∞','∑','√','π','∫'],currency:['₩','$','€','£','¥','₿','₽','₹'],symbols:['©','®','™','§','¶','†','‡','•','※','★','☆','♠','♣','♥','♦'],brackets:['「」','『』','【】','〈〉','《》','〔〕'],lines:['─','│','┌','┐','└','┘','├','┤','┬','┴','┼'],circles:['①','②','③','④','⑤','⑥','⑦','⑧','⑨','⑩'],emoji:['✓','✗','✔','✘','⚠','⚡','☀','☁','☂','☃']};
        function initSpecialChars() {
            const container = document.getElementById('special-chars');
            let html = '';
            for(const [cat, chars] of Object.entries(specialChars)) {
                html += `<div style="width:100%;color:#555;font-size:0.75rem;margin:10px 0 5px;">${cat}</div>`;
                chars.forEach(c => { html += `<span style="padding:8px 12px;background:#1a1a1a;border-radius:5px;cursor:pointer;font-size:1.1rem;" onclick="copySpecial('${c}')">${c}</span>`; });
            }
            container.innerHTML = html;
        }
        function copySpecial(c) { navigator.clipboard.writeText(c); document.getElementById('special-copied').style.display = 'block'; setTimeout(() => document.getElementById('special-copied').style.display = 'none', 1500); }

        // Unicode
        function convertUnicode() {
            const input = document.getElementById('unicode-input').value;
            if(input.startsWith('U+') || input.startsWith('\\u')) {
                const codes = input.match(/(?:U\+|\\u)([0-9A-Fa-f]+)/g) || [];
                const text = codes.map(c => String.fromCodePoint(parseInt(c.replace(/U\+|\\u/,''),16))).join('');
                document.getElementById('unicode-text').textContent = text || '-';
                document.getElementById('unicode-code').textContent = input;
            } else {
                const codes = [...input].map(c => 'U+' + c.codePointAt(0).toString(16).toUpperCase().padStart(4,'0')).join(' ');
                document.getElementById('unicode-text').textContent = input || '-';
                document.getElementById('unicode-code').textContent = codes || '-';
            }
        }

        // Korean Lorem
        const loremKrSentences = ['다람쥐 헌 쳇바퀴에 타고파','키스의 고유조건은 입술끼리 , 닿는다','정 , 참 주무세요?','한글은 세종대왕이 만든 문자입니다','빈 수레가 요란하다','고래 싸움에 새우 등 터진다','낮말은 새가 듣고 밤말은 쥐가 듣는다','호랑이도 제 말하면 온다','개천에서 용 난다','백지장도 맞들면 낫다','소 잃고 외양간 고친다','콩 심은 데 콩 나고 팥 심은 데 팥 난다'];
        function generateLoremKr() {
            const count = +document.getElementById('lorem-kr-count').value || 3;
            let result = [];
            for(let i = 0; i < count; i++) result.push(loremKrSentences[Math.floor(Math.random()*loremKrSentences.length)]);
            document.getElementById('lorem-kr-result').textContent = result.join('. ') + '.';
        }

        // SQL Formatter
        function formatSql() {
            let sql = document.getElementById('sql-input').value;
            const keywords = ['SELECT','FROM','WHERE','AND','OR','JOIN','LEFT','RIGHT','INNER','OUTER','ON','GROUP BY','ORDER BY','HAVING','LIMIT','INSERT','INTO','VALUES','UPDATE','SET','DELETE','CREATE','TABLE','DROP','ALTER','INDEX'];
            keywords.forEach(k => { sql = sql.replace(new RegExp('\\b'+k+'\\b','gi'), '\n'+k); });
            document.getElementById('sql-result').textContent = sql.trim();
        }
        function minifySql() { document.getElementById('sql-result').textContent = document.getElementById('sql-input').value.replace(/\s+/g,' ').trim(); }

        // ENV Parser
        function parseEnv() {
            const input = document.getElementById('env-input').value;
            const obj = {};
            input.split('\n').forEach(line => { const [key, ...val] = line.split('='); if(key && key.trim()) obj[key.trim()] = val.join('=').trim(); });
            document.getElementById('env-result').textContent = JSON.stringify(obj, null, 2);
        }
        function envToText() {
            try {
                const obj = JSON.parse(document.getElementById('env-input').value);
                document.getElementById('env-result').textContent = Object.entries(obj).map(([k,v]) => `${k}=${v}`).join('\n');
            } catch(e) { document.getElementById('env-result').textContent = 'Invalid JSON'; }
        }

        // MD to HTML
        function mdToHtml() {
            let md = document.getElementById('mdhtml-input').value;
            md = md.replace(/^### (.*$)/gim, '<h3>$1</h3>').replace(/^## (.*$)/gim, '<h2>$1</h2>').replace(/^# (.*$)/gim, '<h1>$1</h1>');
            md = md.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\*(.*?)\*/g, '<em>$1</em>');
            md = md.replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2">$1</a>');
            md = md.replace(/`(.*?)`/g, '<code>$1</code>');
            md = md.replace(/\n/g, '<br>');
            document.getElementById('mdhtml-result').textContent = md;
        }

        // HTML to MD
        function htmlToMd() {
            let html = document.getElementById('htmlmd-input').value;
            html = html.replace(/<h1>(.*?)<\/h1>/gi, '# $1\n').replace(/<h2>(.*?)<\/h2>/gi, '## $1\n').replace(/<h3>(.*?)<\/h3>/gi, '### $1\n');
            html = html.replace(/<strong>(.*?)<\/strong>/gi, '**$1**').replace(/<b>(.*?)<\/b>/gi, '**$1**');
            html = html.replace(/<em>(.*?)<\/em>/gi, '*$1*').replace(/<i>(.*?)<\/i>/gi, '*$1*');
            html = html.replace(/<a href="(.*?)">(.*?)<\/a>/gi, '[$2]($1)');
            html = html.replace(/<code>(.*?)<\/code>/gi, '`$1`');
            html = html.replace(/<br\s*\/?>/gi, '\n').replace(/<p>(.*?)<\/p>/gi, '$1\n\n');
            html = html.replace(/<[^>]+>/g, '');
            document.getElementById('htmlmd-result').textContent = html.trim();
        }

        // Flexbox Generator
        function updateFlexbox() {
            const dir = document.getElementById('flex-direction').value;
            const justify = document.getElementById('flex-justify').value;
            const align = document.getElementById('flex-align').value;
            const wrap = document.getElementById('flex-wrap').value;
            const gap = document.getElementById('flex-gap').value;
            const preview = document.getElementById('flex-preview');
            preview.style.flexDirection = dir;
            preview.style.justifyContent = justify;
            preview.style.alignItems = align;
            preview.style.flexWrap = wrap;
            preview.style.gap = gap + 'px';
            document.getElementById('flex-result').textContent = `display: flex;\nflex-direction: ${dir};\njustify-content: ${justify};\nalign-items: ${align};\nflex-wrap: ${wrap};\ngap: ${gap}px;`;
        }

        // Grid Generator
        function updateGrid() {
            const cols = +document.getElementById('grid-cols').value || 3;
            const rows = +document.getElementById('grid-rows').value || 2;
            const gap = document.getElementById('grid-gap').value;
            const preview = document.getElementById('grid-preview');
            preview.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;
            preview.style.gap = gap + 'px';
            preview.innerHTML = Array(cols * rows).fill(0).map((_,i) => `<div style="background:#333;padding:15px;border-radius:4px;text-align:center;">${i+1}</div>`).join('');
            document.getElementById('grid-result').textContent = `display: grid;\ngrid-template-columns: repeat(${cols}, 1fr);\ngrid-template-rows: repeat(${rows}, 1fr);\ngap: ${gap}px;`;
        }
        updateGrid();

        // Regex Generator
        const regexPatterns = {email:{pattern:'^[\\w.-]+@[\\w.-]+\\.[a-zA-Z]{2,}$',desc:'이메일 주소 검증'},phone:{pattern:'^01[016789]-?\\d{3,4}-?\\d{4}$',desc:'한국 휴대폰 번호'},url:{pattern:'^https?:\\/\\/[\\w.-]+(?:\\.[\\w.-]+)+[\\w.,@?^=%&:/~+#-]*$',desc:'URL 주소'},ip:{pattern:'^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$',desc:'IPv4 주소'},date:{pattern:'^\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])$',desc:'날짜 형식 YYYY-MM-DD'},time:{pattern:'^(?:[01]\\d|2[0-3]):[0-5]\\d$',desc:'시간 형식 HH:MM'},korean:{pattern:'^[가-힣]+$',desc:'한글만 허용'},number:{pattern:'^\\d+$',desc:'숫자만 허용'},alphanumeric:{pattern:'^[a-zA-Z0-9]+$',desc:'영문+숫자만'},password:{pattern:'^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$',desc:'대소문자+숫자+특수문자, 8자 이상'}};
        function selectRegexPattern() {
            const sel = document.getElementById('regex-pattern-select').value;
            if(!sel) { document.getElementById('regex-gen-result').textContent = '-'; document.getElementById('regex-gen-desc').textContent = ''; return; }
            document.getElementById('regex-gen-result').textContent = regexPatterns[sel].pattern;
            document.getElementById('regex-gen-desc').textContent = regexPatterns[sel].desc;
        }

        // Barcode (using JsBarcode)
        async function generateBarcode() {
            const text = document.getElementById('barcode-input').value;
            const type = document.getElementById('barcode-type').value;
            if(!text) return;
            if(!window.JsBarcode) {
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js';
                document.head.appendChild(script);
                await new Promise(r => script.onload = r);
            }
            try { JsBarcode('#barcode-svg', text, { format: type, width: 2, height: 100, displayValue: true }); }
            catch(e) { alert('바코드 생성 오류: ' + e.message); }
        }
        function downloadBarcode() {
            const svg = document.getElementById('barcode-svg');
            const data = new XMLSerializer().serializeToString(svg);
            const blob = new Blob([data], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a'); a.href = url; a.download = 'barcode.svg'; a.click();
        }

        // Currency (using free API)
        async function convertCurrency() {
            const amount = +document.getElementById('currency-amount').value;
            const from = document.getElementById('currency-from').value;
            const to = document.getElementById('currency-to').value;
            try {
                const res = await fetch(`https://api.exchangerate-api.com/v4/latest/${from}`);
                const data = await res.json();
                const result = amount * data.rates[to];
                document.getElementById('currency-result').textContent = `${result.toLocaleString(undefined, {maximumFractionDigits:2})} ${to}`;
            } catch(e) { document.getElementById('currency-result').textContent = '환율 조회 실패'; }
        }

        // Salary Calculator
        function calcSalary() {
            const yearly = +document.getElementById('salary-amount').value;
            if(!yearly) return;
            const monthly = yearly / 12;
            const withTax = document.getElementById('salary-tax').checked;
            let net = monthly;
            if(withTax) {
                const nationalPension = monthly * 0.045;
                const healthInsurance = monthly * 0.03545;
                const longTermCare = healthInsurance * 0.1281;
                const employmentInsurance = monthly * 0.009;
                const incomeTax = monthly * 0.033;
                net = monthly - nationalPension - healthInsurance - longTermCare - employmentInsurance - incomeTax;
            }
            document.getElementById('salary-yearly').textContent = Math.round(yearly).toLocaleString() + '원';
            document.getElementById('salary-monthly').textContent = Math.round(monthly).toLocaleString() + '원';
            document.getElementById('salary-net').textContent = Math.round(net).toLocaleString() + '원';
        }

        // Severance
        function calcSeverance() {
            const start = new Date(document.getElementById('sev-start').value);
            const end = new Date(document.getElementById('sev-end').value);
            const salary = +document.getElementById('sev-salary').value;
            if(!start || !end || !salary) return;
            const days = Math.floor((end - start) / 86400000);
            const years = days / 365;
            const severance = salary * 30 * years;
            document.getElementById('sev-years').textContent = years.toFixed(1) + '년';
            document.getElementById('sev-amount').textContent = Math.round(severance).toLocaleString() + '원';
        }

        // Savings
        function calcSavings() {
            const amount = +document.getElementById('sav-amount').value;
            const rate = +document.getElementById('sav-rate').value / 100;
            const months = +document.getElementById('sav-months').value;
            const type = document.querySelector('input[name="sav-type"]:checked').value;
            if(!amount || !rate || !months) return;
            const principal = amount * months;
            let interest = 0;
            if(type === 'simple') { for(let i = 1; i <= months; i++) interest += amount * rate / 12 * (months - i + 1); }
            else { let total = 0; for(let i = 0; i < months; i++) total = (total + amount) * (1 + rate/12); interest = total - principal; }
            const afterTax = interest * 0.846;
            document.getElementById('sav-principal').textContent = principal.toLocaleString() + '원';
            document.getElementById('sav-interest').textContent = Math.round(afterTax).toLocaleString() + '원';
            document.getElementById('sav-total').textContent = Math.round(principal + afterTax).toLocaleString() + '원';
        }

        // Stock
        function calcStock() {
            const buy = +document.getElementById('stock-buy').value;
            const sell = +document.getElementById('stock-sell').value;
            const qty = +document.getElementById('stock-qty').value || 1;
            if(!buy || !sell) return;
            const profit = (sell - buy) * qty;
            const rate = ((sell - buy) / buy * 100);
            document.getElementById('stock-profit').textContent = profit.toLocaleString() + '원';
            document.getElementById('stock-rate').textContent = rate.toFixed(2) + '%';
            document.getElementById('stock-profit').style.color = profit >= 0 ? '#5a5' : '#c55';
            document.getElementById('stock-rate').style.color = profit >= 0 ? '#5a5' : '#c55';
        }

        // Calorie
        let calories = [];
        function addCalorie() {
            const food = document.getElementById('cal-food').value;
            const kcal = +document.getElementById('cal-kcal').value;
            if(!food || !kcal) return;
            calories.push({ food, kcal });
            updateCalorieList();
            document.getElementById('cal-food').value = '';
            document.getElementById('cal-kcal').value = '';
        }
        function removeCalorie(i) { calories.splice(i, 1); updateCalorieList(); }
        function updateCalorieList() {
            document.getElementById('calorie-list').innerHTML = calories.map((c, i) => `<div class="file-item"><span>${c.food}</span><span>${c.kcal}kcal <button onclick="removeCalorie(${i})">×</button></span></div>`).join('');
            document.getElementById('cal-total').textContent = calories.reduce((s, c) => s + c.kcal, 0);
        }
        function clearCalories() { calories = []; updateCalorieList(); }

        // Screen Info
        function updateScreenInfo() {
            document.getElementById('screen-info').innerHTML = `
                <div class="stat-box"><div class="number" style="font-size:1rem;">${screen.width}×${screen.height}</div><div class="label">화면 해상도</div></div>
                <div class="stat-box"><div class="number" style="font-size:1rem;">${window.innerWidth}×${window.innerHeight}</div><div class="label">브라우저 크기</div></div>
                <div class="stat-box"><div class="number" style="font-size:1rem;">${window.devicePixelRatio}</div><div class="label">픽셀 비율</div></div>
                <div class="stat-box"><div class="number" style="font-size:1rem;">${screen.colorDepth}bit</div><div class="label">색상 깊이</div></div>
            `;
        }

        // Keyboard Test
        document.addEventListener('keydown', e => {
            if(document.getElementById('tool-keyboard').classList.contains('active')) {
                document.getElementById('key-display').textContent = e.key;
                document.getElementById('key-code').textContent = e.code;
                document.getElementById('key-key').textContent = e.key;
                document.getElementById('key-which').textContent = e.keyCode;
            }
        });

        // CPS Test
        let cpsClicks = 0, cpsStarted = false, cpsInterval = null;
        function cpsClick() {
            if(!cpsStarted) {
                cpsStarted = true;
                cpsClicks = 0;
                let time = 10;
                document.getElementById('cps-status').textContent = '클릭하세요!';
                cpsInterval = setInterval(() => {
                    time--;
                    document.getElementById('cps-time').textContent = time;
                    if(time <= 0) {
                        clearInterval(cpsInterval);
                        cpsStarted = false;
                        document.getElementById('cps-result').textContent = (cpsClicks / 10).toFixed(1);
                        document.getElementById('cps-status').textContent = '완료! 다시 클릭하여 시작';
                    }
                }, 1000);
            }
            if(cpsStarted) { cpsClicks++; document.getElementById('cps-count').textContent = cpsClicks; }
        }
        function resetCps() { clearInterval(cpsInterval); cpsStarted = false; cpsClicks = 0; document.getElementById('cps-count').textContent = '0'; document.getElementById('cps-time').textContent = '10'; document.getElementById('cps-status').textContent = '클릭하여 시작'; document.getElementById('cps-result').textContent = '-'; }

        // Reaction Test
        let reactionState = 'ready', reactionTimeout = null, reactionStart = 0;
        function reactionClick() {
            const area = document.getElementById('reaction-area');
            const text = document.getElementById('reaction-text');
            if(reactionState === 'ready') {
                reactionState = 'waiting';
                area.style.background = '#c55';
                text.textContent = '초록색이 되면 클릭!';
                reactionTimeout = setTimeout(() => {
                    reactionState = 'go';
                    area.style.background = '#5a5';
                    text.textContent = '클릭!';
                    reactionStart = Date.now();
                }, 2000 + Math.random() * 3000);
            } else if(reactionState === 'waiting') {
                clearTimeout(reactionTimeout);
                reactionState = 'ready';
                area.style.background = '#c55';
                text.textContent = '너무 빨라요! 다시 클릭';
                document.getElementById('reaction-result').textContent = '실패';
            } else if(reactionState === 'go') {
                const time = Date.now() - reactionStart;
                document.getElementById('reaction-result').textContent = time + 'ms';
                reactionState = 'ready';
                area.style.background = '#c55';
                text.textContent = '클릭하여 다시 시작';
            }
        }

        // Typing Test
        const typingTexts = ['The quick brown fox jumps over the lazy dog.','Hello World! Programming is fun.','Practice makes perfect. Keep typing!','JavaScript is a versatile programming language.','Web development requires HTML, CSS, and JavaScript.'];
        let typingStart = 0, typingTarget = '';
        function resetTyping() {
            typingTarget = typingTexts[Math.floor(Math.random() * typingTexts.length)];
            document.getElementById('typing-text').textContent = typingTarget;
            document.getElementById('typing-input').value = '';
            document.getElementById('typing-wpm').textContent = '-';
            document.getElementById('typing-accuracy').textContent = '-';
            document.getElementById('typing-time').textContent = '-';
            typingStart = 0;
        }
        function checkTyping() {
            if(!typingStart) typingStart = Date.now();
            const input = document.getElementById('typing-input').value;
            const elapsed = (Date.now() - typingStart) / 1000 / 60;
            const words = input.trim().split(/\s+/).length;
            const wpm = Math.round(words / elapsed);
            let correct = 0;
            for(let i = 0; i < input.length; i++) if(input[i] === typingTarget[i]) correct++;
            const accuracy = Math.round(correct / input.length * 100) || 0;
            document.getElementById('typing-wpm').textContent = wpm || 0;
            document.getElementById('typing-accuracy').textContent = accuracy + '%';
            document.getElementById('typing-time').textContent = Math.round((Date.now() - typingStart) / 1000);
        }
        resetTyping();

        // Random Color
        function generateRandomColor() {
            const hex = '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6,'0').toUpperCase();
            document.getElementById('randcolor-preview').style.background = hex;
            document.getElementById('randcolor-hex').textContent = hex;
        }

        // Init functions
        initSpecialChars();
        updateScreenInfo();
        window.addEventListener('resize', updateScreenInfo);

        // Background Remove (using Canvas-based approach as fallback)
        let bgRemoveImg = null;
        function loadBgRemoveImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                bgRemoveImg = new Image();
                bgRemoveImg.src = e.target.result;
                document.getElementById('bgremove-preview').src = e.target.result;
                document.getElementById('bgremove-preview').style.display = 'block';
                document.getElementById('bgremove-result').style.display = 'none';
                document.getElementById('bgremove-download').style.display = 'none';
                document.getElementById('bgremove-status').textContent = '';
            };
            reader.readAsDataURL(file);
        }
        async function removeBackground() {
            if(!bgRemoveImg) return;
            const status = document.getElementById('bgremove-status');
            const btn = document.getElementById('bgremove-btn');
            btn.disabled = true;
            status.innerHTML = '처리 중... (AI 모델 로딩 중)<br><small style="color:#555;">처음 실행시 모델 다운로드로 시간이 걸릴 수 있습니다.</small>';
            try {
                const { removeBackground } = await import('https://cdn.jsdelivr.net/npm/@imgly/background-removal@1.4.5/+esm');
                const blob = await fetch(bgRemoveImg.src).then(r => r.blob());
                const result = await removeBackground(blob, { progress: (key, current, total) => { status.textContent = `처리 중... ${key} ${Math.round(current/total*100)}%`; } });
                const url = URL.createObjectURL(result);
                document.getElementById('bgremove-result').src = url;
                document.getElementById('bgremove-result').style.display = 'block';
                const link = document.getElementById('bgremove-download');
                link.href = url; link.download = 'removed-bg.png'; link.style.display = 'inline-block';
                status.textContent = '완료!';
            } catch(e) {
                status.innerHTML = `오류: ${e.message}<br><small>브라우저가 WebGPU/WASM을 지원하지 않을 수 있습니다.</small>`;
            }
            btn.disabled = false;
        }

        // Text Encrypt/Decrypt (AES)
        function encryptText() {
            const text = document.getElementById('encrypt-input').value;
            const key = document.getElementById('encrypt-key').value;
            if(!text || !key) return;
            const encrypted = CryptoJS.AES.encrypt(text, key).toString();
            document.getElementById('encrypt-result').textContent = encrypted;
        }
        function decryptText() {
            const text = document.getElementById('encrypt-input').value;
            const key = document.getElementById('encrypt-key').value;
            if(!text || !key) return;
            try {
                const decrypted = CryptoJS.AES.decrypt(text, key).toString(CryptoJS.enc.Utf8);
                document.getElementById('encrypt-result').textContent = decrypted || '복호화 실패';
            } catch(e) { document.getElementById('encrypt-result').textContent = '복호화 실패'; }
        }

        // Text Reverse
        function reverseText() {
            const text = document.getElementById('reverse-input').value;
            const type = document.querySelector('input[name="reverse-type"]:checked').value;
            let result;
            if(type === 'char') result = text.split('').reverse().join('');
            else if(type === 'word') result = text.split(' ').reverse().join(' ');
            else result = text.split('\n').reverse().join('\n');
            document.getElementById('reverse-result').textContent = result || '-';
        }

        // Line Break
        function addLineBreaks() {
            const text = document.getElementById('linebreak-input').value;
            document.getElementById('linebreak-result').textContent = text.split(' ').join('\n');
        }
        function removeLineBreaks() {
            const text = document.getElementById('linebreak-input').value;
            document.getElementById('linebreak-result').textContent = text.replace(/\n/g, ' ');
        }
        function trimLines() {
            const text = document.getElementById('linebreak-input').value;
            document.getElementById('linebreak-result').textContent = text.split('\n').filter(l => l.trim()).join('\n');
        }

        // Whitespace
        function spacesToTabs() {
            const text = document.getElementById('ws-input').value;
            document.getElementById('ws-result').textContent = text.replace(/    /g, '\t');
        }
        function tabsToSpaces() {
            const text = document.getElementById('ws-input').value;
            document.getElementById('ws-result').textContent = text.replace(/\t/g, '    ');
        }
        function removeExtraSpaces() {
            const text = document.getElementById('ws-input').value;
            document.getElementById('ws-result').textContent = text.replace(/  +/g, ' ');
        }

        // Escape Characters
        function escapeChars() {
            const text = document.getElementById('esc-input').value;
            const result = text.replace(/\\/g, '\\\\').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/\t/g, '\\t').replace(/"/g, '\\"').replace(/'/g, "\\'");
            document.getElementById('esc-result').textContent = result;
        }
        function unescapeChars() {
            const text = document.getElementById('esc-input').value;
            const result = text.replace(/\\n/g, '\n').replace(/\\r/g, '\r').replace(/\\t/g, '\t').replace(/\\"/g, '"').replace(/\\'/g, "'").replace(/\\\\/g, '\\');
            document.getElementById('esc-result').textContent = result;
        }

        // ASCII Art
        const asciiFont = {
            'A': ['  █  ','█ █ ','████','█  █','█  █'],
            'B': ['███ ','█  █','███ ','█  █','███ '],
            'C': [' ███','█   ','█   ','█   ',' ███'],
            'D': ['███ ','█  █','█  █','█  █','███ '],
            'E': ['████','█   ','███ ','█   ','████'],
            'F': ['████','█   ','███ ','█   ','█   '],
            'G': [' ███','█   ','█ ██','█  █',' ███'],
            'H': ['█  █','█  █','████','█  █','█  █'],
            'I': ['███',' █ ',' █ ',' █ ','███'],
            'J': ['  ██','   █','   █','█  █',' ██ '],
            'K': ['█  █','█ █ ','██  ','█ █ ','█  █'],
            'L': ['█   ','█   ','█   ','█   ','████'],
            'M': ['█   █','██ ██','█ █ █','█   █','█   █'],
            'N': ['█   █','██  █','█ █ █','█  ██','█   █'],
            'O': [' ██ ','█  █','█  █','█  █',' ██ '],
            'P': ['███ ','█  █','███ ','█   ','█   '],
            'Q': [' ██ ','█  █','█  █','█ █ ',' ███'],
            'R': ['███ ','█  █','███ ','█ █ ','█  █'],
            'S': [' ███','█   ',' ██ ','   █','███ '],
            'T': ['█████','  █  ','  █  ','  █  ','  █  '],
            'U': ['█  █','█  █','█  █','█  █',' ██ '],
            'V': ['█   █','█   █','█   █',' █ █ ','  █  '],
            'W': ['█   █','█   █','█ █ █','██ ██','█   █'],
            'X': ['█   █',' █ █ ','  █  ',' █ █ ','█   █'],
            'Y': ['█   █',' █ █ ','  █  ','  █  ','  █  '],
            'Z': ['█████','   █ ','  █  ',' █   ','█████'],
            ' ': ['   ','   ','   ','   ','   '],
            '0': [' ██ ','█  █','█  █','█  █',' ██ '],
            '1': [' █ ','██ ',' █ ',' █ ','███'],
            '2': [' ██ ','█  █','  █ ',' █  ','████'],
            '3': ['███ ','   █',' ██ ','   █','███ '],
            '4': ['█  █','█  █','████','   █','   █'],
            '5': ['████','█   ','███ ','   █','███ '],
            '6': [' ██ ','█   ','███ ','█  █',' ██ '],
            '7': ['████','   █','  █ ',' █  ',' █  '],
            '8': [' ██ ','█  █',' ██ ','█  █',' ██ '],
            '9': [' ██ ','█  █',' ███','   █',' ██ ']
        };
        function generateAsciiArt() {
            const text = document.getElementById('ascii-input').value.toUpperCase();
            if(!text) { document.getElementById('ascii-result').textContent = '-'; return; }
            let result = ['','','','',''];
            for(const c of text) {
                const art = asciiFont[c] || ['?','?','?','?','?'];
                for(let i = 0; i < 5; i++) result[i] += art[i] + ' ';
            }
            document.getElementById('ascii-result').textContent = result.join('\n');
        }

        // Image Rotate
        let rotateImg = null;
        function loadRotateImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                rotateImg = new Image();
                rotateImg.src = e.target.result;
                document.getElementById('rotate-preview').src = e.target.result;
                document.getElementById('rotate-preview').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        function rotateImage(deg) {
            if(!rotateImg) return;
            const canvas = document.getElementById('rotate-canvas');
            const ctx = canvas.getContext('2d');
            if(Math.abs(deg) === 90) {
                canvas.width = rotateImg.height;
                canvas.height = rotateImg.width;
            } else {
                canvas.width = rotateImg.width;
                canvas.height = rotateImg.height;
            }
            ctx.translate(canvas.width/2, canvas.height/2);
            ctx.rotate(deg * Math.PI / 180);
            ctx.drawImage(rotateImg, -rotateImg.width/2, -rotateImg.height/2);
            const dataUrl = canvas.toDataURL('image/png');
            document.getElementById('rotate-preview').src = dataUrl;
            rotateImg.src = dataUrl;
            const link = document.getElementById('rotate-download');
            link.href = dataUrl; link.download = 'rotated.png'; link.style.display = 'inline-block';
        }
        function flipImage(dir) {
            if(!rotateImg) return;
            const canvas = document.getElementById('rotate-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = rotateImg.width;
            canvas.height = rotateImg.height;
            if(dir === 'h') { ctx.translate(canvas.width, 0); ctx.scale(-1, 1); }
            else { ctx.translate(0, canvas.height); ctx.scale(1, -1); }
            ctx.drawImage(rotateImg, 0, 0);
            const dataUrl = canvas.toDataURL('image/png');
            document.getElementById('rotate-preview').src = dataUrl;
            rotateImg.src = dataUrl;
            const link = document.getElementById('rotate-download');
            link.href = dataUrl; link.download = 'flipped.png'; link.style.display = 'inline-block';
        }

        // Image Filter
        let filterImg = null;
        function loadFilterImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                filterImg = new Image();
                filterImg.src = e.target.result;
                document.getElementById('filter-preview').src = e.target.result;
                document.getElementById('filter-preview').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        function applyFilter(type) {
            if(!filterImg) return;
            const canvas = document.getElementById('filter-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = filterImg.width;
            canvas.height = filterImg.height;
            ctx.filter = type === 'grayscale' ? 'grayscale(100%)' :
                         type === 'sepia' ? 'sepia(100%)' :
                         type === 'invert' ? 'invert(100%)' :
                         type === 'blur' ? 'blur(3px)' :
                         type === 'brightness' ? 'brightness(150%)' :
                         type === 'contrast' ? 'contrast(150%)' : 'none';
            ctx.drawImage(filterImg, 0, 0);
            const dataUrl = canvas.toDataURL('image/png');
            document.getElementById('filter-preview').src = dataUrl;
            const link = document.getElementById('filter-download');
            link.href = dataUrl; link.download = `filtered-${type}.png`; link.style.display = 'inline-block';
        }

        // Watermark
        let wmImg = null;
        function loadWatermarkImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                wmImg = new Image();
                wmImg.src = e.target.result;
                document.getElementById('wm-preview').src = e.target.result;
                document.getElementById('wm-preview').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        function addWatermark() {
            if(!wmImg) return;
            const text = document.getElementById('wm-text').value || 'Watermark';
            const pos = document.getElementById('wm-position').value;
            const opacity = document.getElementById('wm-opacity').value / 100;
            const canvas = document.getElementById('wm-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = wmImg.width;
            canvas.height = wmImg.height;
            ctx.drawImage(wmImg, 0, 0);
            ctx.globalAlpha = opacity;
            ctx.fillStyle = '#ffffff';
            ctx.font = `${Math.max(20, wmImg.width / 20)}px Arial`;
            ctx.textBaseline = 'middle';
            const metrics = ctx.measureText(text);
            let x, y;
            if(pos === 'br') { x = canvas.width - metrics.width - 20; y = canvas.height - 30; }
            else if(pos === 'bl') { x = 20; y = canvas.height - 30; }
            else if(pos === 'tr') { x = canvas.width - metrics.width - 20; y = 30; }
            else if(pos === 'tl') { x = 20; y = 30; }
            else { x = (canvas.width - metrics.width) / 2; y = canvas.height / 2; }
            ctx.shadowColor = 'rgba(0,0,0,0.5)';
            ctx.shadowBlur = 4;
            ctx.fillText(text, x, y);
            const dataUrl = canvas.toDataURL('image/png');
            document.getElementById('wm-preview').src = dataUrl;
            const link = document.getElementById('wm-download');
            link.href = dataUrl; link.download = 'watermarked.png'; link.style.display = 'inline-block';
        }

        // Color Extract
        let ceImg = null;
        function loadColorExtractImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                ceImg = new Image();
                ceImg.onload = () => {
                    const canvas = document.getElementById('ce-canvas');
                    canvas.width = ceImg.width;
                    canvas.height = ceImg.height;
                    canvas.getContext('2d').drawImage(ceImg, 0, 0);
                };
                ceImg.src = e.target.result;
                const preview = document.getElementById('ce-preview');
                preview.src = e.target.result;
                preview.style.display = 'block';
                preview.onclick = function(e) {
                    const rect = preview.getBoundingClientRect();
                    const scaleX = ceImg.width / rect.width;
                    const scaleY = ceImg.height / rect.height;
                    const x = Math.floor((e.clientX - rect.left) * scaleX);
                    const y = Math.floor((e.clientY - rect.top) * scaleY);
                    const ctx = document.getElementById('ce-canvas').getContext('2d');
                    const pixel = ctx.getImageData(x, y, 1, 1).data;
                    const hex = '#' + [pixel[0], pixel[1], pixel[2]].map(v => v.toString(16).padStart(2,'0')).join('');
                    const container = document.getElementById('ce-colors');
                    container.innerHTML += `<div style="display:flex;align-items:center;gap:8px;background:#1a1a1a;padding:8px 12px;border-radius:6px;cursor:pointer;" onclick="navigator.clipboard.writeText('${hex}');alert('복사됨')"><div style="width:30px;height:30px;background:${hex};border-radius:4px;"></div><span>${hex}</span></div>`;
                };
            };
            reader.readAsDataURL(file);
        }

        // YAML JSON
        function yamlToJson() {
            const input = document.getElementById('yaml-input').value.trim();
            try {
                const lines = input.split('\n');
                const result = {};
                let currentIndent = 0;
                let stack = [result];
                let currentKey = '';
                for(const line of lines) {
                    if(!line.trim() || line.trim().startsWith('#')) continue;
                    const indent = line.search(/\S/);
                    const trimmed = line.trim();
                    if(trimmed.includes(':')) {
                        const [key, ...valParts] = trimmed.split(':');
                        const val = valParts.join(':').trim();
                        if(val) {
                            stack[0][key.trim()] = val.replace(/^["']|["']$/g, '');
                        } else {
                            stack[0][key.trim()] = {};
                            stack.unshift(stack[0][key.trim()]);
                        }
                    }
                }
                document.getElementById('yaml-result').textContent = JSON.stringify(result, null, 2);
            } catch(e) { document.getElementById('yaml-result').textContent = 'YAML 파싱 오류'; }
        }
        function jsonToYaml() {
            try {
                const obj = JSON.parse(document.getElementById('yaml-input').value);
                function toYaml(o, indent = 0) {
                    let yaml = '';
                    for(const [k, v] of Object.entries(o)) {
                        if(typeof v === 'object' && v !== null && !Array.isArray(v)) {
                            yaml += '  '.repeat(indent) + k + ':\n' + toYaml(v, indent + 1);
                        } else if(Array.isArray(v)) {
                            yaml += '  '.repeat(indent) + k + ':\n';
                            v.forEach(item => yaml += '  '.repeat(indent + 1) + '- ' + item + '\n');
                        } else {
                            yaml += '  '.repeat(indent) + k + ': ' + v + '\n';
                        }
                    }
                    return yaml;
                }
                document.getElementById('yaml-result').textContent = toYaml(obj);
            } catch(e) { document.getElementById('yaml-result').textContent = 'JSON 파싱 오류'; }
        }

        // CSV JSON
        function csvToJson() {
            const input = document.getElementById('csv-input').value.trim();
            try {
                const lines = input.split('\n');
                const headers = lines[0].split(',').map(h => h.trim());
                const result = [];
                for(let i = 1; i < lines.length; i++) {
                    const values = lines[i].split(',').map(v => v.trim());
                    const obj = {};
                    headers.forEach((h, idx) => obj[h] = values[idx] || '');
                    result.push(obj);
                }
                document.getElementById('csv-result').textContent = JSON.stringify(result, null, 2);
            } catch(e) { document.getElementById('csv-result').textContent = 'CSV 파싱 오류'; }
        }
        function jsonToCsv() {
            try {
                const arr = JSON.parse(document.getElementById('csv-input').value);
                if(!Array.isArray(arr) || arr.length === 0) throw new Error();
                const headers = Object.keys(arr[0]);
                let csv = headers.join(',') + '\n';
                arr.forEach(obj => csv += headers.map(h => obj[h] || '').join(',') + '\n');
                document.getElementById('csv-result').textContent = csv;
            } catch(e) { document.getElementById('csv-result').textContent = 'JSON 파싱 오류 (배열 형식 필요)'; }
        }

        // HTML Table
        function generateHtmlTable() {
            const rows = +document.getElementById('table-rows').value || 3;
            const cols = +document.getElementById('table-cols').value || 3;
            const hasHeader = document.getElementById('table-header').checked;
            const hasBorder = document.getElementById('table-border').checked;
            let html = `<table${hasBorder ? ' border="1"' : ''}>\n`;
            for(let r = 0; r < rows; r++) {
                html += '  <tr>\n';
                for(let c = 0; c < cols; c++) {
                    const tag = (r === 0 && hasHeader) ? 'th' : 'td';
                    html += `    <${tag}>${tag === 'th' ? '헤더' + (c+1) : '내용'}</${tag}>\n`;
                }
                html += '  </tr>\n';
            }
            html += '</table>';
            document.getElementById('table-result').textContent = html;
        }

        // Border Radius
        function updateBorderRadius() {
            const tl = document.getElementById('br-tl').value;
            const tr = document.getElementById('br-tr').value;
            const bl = document.getElementById('br-bl').value;
            const br = document.getElementById('br-br').value;
            const css = `border-radius: ${tl}px ${tr}px ${br}px ${bl}px;`;
            document.getElementById('br-preview').style.borderRadius = `${tl}px ${tr}px ${br}px ${bl}px`;
            document.getElementById('br-result').textContent = css;
        }
        updateBorderRadius();

        // Text Shadow
        function updateTextShadow() {
            const x = document.getElementById('ts-x').value;
            const y = document.getElementById('ts-y').value;
            const blur = document.getElementById('ts-blur').value;
            const color = document.getElementById('ts-color').value;
            document.getElementById('ts-x-val').textContent = x + 'px';
            document.getElementById('ts-y-val').textContent = y + 'px';
            document.getElementById('ts-blur-val').textContent = blur + 'px';
            const css = `text-shadow: ${x}px ${y}px ${blur}px ${color};`;
            document.getElementById('ts-preview').style.textShadow = `${x}px ${y}px ${blur}px ${color}`;
            document.getElementById('ts-result').textContent = css;
        }
        updateTextShadow();

        // Combined Calculator
        const calcTemplates = {
            percent: `<div class="info-box">퍼센트 계산</div>
                <input type="number" id="cc-p1" placeholder="숫자" oninput="calcCombined('percent')">
                <input type="number" id="cc-p2" placeholder="퍼센트 (%)" oninput="calcCombined('percent')">
                <div class="result-box"><div id="cc-result">-</div></div>`,
            bmi: `<div class="info-box">BMI 계산 (키/체중)</div>
                <input type="number" id="cc-h" placeholder="키 (cm)">
                <input type="number" id="cc-w" placeholder="체중 (kg)">
                <button class="btn btn-primary" onclick="calcCombined('bmi')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            loan: `<div class="info-box">대출 이자 계산</div>
                <input type="number" id="cc-la" placeholder="대출금액 (원)">
                <input type="number" id="cc-lr" placeholder="연이율 (%)">
                <input type="number" id="cc-lm" placeholder="기간 (개월)">
                <button class="btn btn-primary" onclick="calcCombined('loan')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            discount: `<div class="info-box">할인가 계산</div>
                <input type="number" id="cc-do" placeholder="원가 (원)">
                <input type="number" id="cc-dr" placeholder="할인율 (%)">
                <button class="btn btn-primary" onclick="calcCombined('discount')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            tip: `<div class="info-box">팁/더치페이 계산</div>
                <input type="number" id="cc-ta" placeholder="금액 (원)">
                <input type="number" id="cc-tr" placeholder="팁 (%)">
                <input type="number" id="cc-tp" placeholder="인원" value="1">
                <button class="btn btn-primary" onclick="calcCombined('tip')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            vat: `<div class="info-box">부가세 계산</div>
                <input type="number" id="cc-va" placeholder="금액 (원)">
                <div class="options"><label><input type="radio" name="cc-vt" value="ex" checked> 부가세 별도</label><label><input type="radio" name="cc-vt" value="in"> 부가세 포함</label></div>
                <button class="btn btn-primary" onclick="calcCombined('vat')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            currency: `<div class="info-box">환율 계산 (실시간)</div>
                <input type="number" id="cc-ca" placeholder="금액">
                <select id="cc-cf"><option value="USD">USD</option><option value="KRW">KRW</option><option value="JPY">JPY</option><option value="EUR">EUR</option><option value="CNY">CNY</option></select>
                <select id="cc-ct"><option value="KRW">KRW</option><option value="USD">USD</option><option value="JPY">JPY</option><option value="EUR">EUR</option><option value="CNY">CNY</option></select>
                <button class="btn btn-primary" onclick="calcCombined('currency')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            salary: `<div class="info-box">연봉/월급 계산</div>
                <input type="number" id="cc-sa" placeholder="연봉 (원)">
                <label><input type="checkbox" id="cc-st" checked> 4대보험/세금 적용</label>
                <button class="btn btn-primary" onclick="calcCombined('salary')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            severance: `<div class="info-box">퇴직금 계산</div>
                <input type="date" id="cc-ss" placeholder="입사일">
                <input type="date" id="cc-se" placeholder="퇴사일">
                <input type="number" id="cc-sm" placeholder="최근 3개월 평균 월급">
                <button class="btn btn-primary" onclick="calcCombined('severance')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            savings: `<div class="info-box">적금 이자 계산</div>
                <input type="number" id="cc-sva" placeholder="월 납입액">
                <input type="number" id="cc-svr" placeholder="연이율 (%)">
                <input type="number" id="cc-svm" placeholder="기간 (개월)">
                <button class="btn btn-primary" onclick="calcCombined('savings')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            stock: `<div class="info-box">주식 수익률 계산</div>
                <input type="number" id="cc-stb" placeholder="매수가">
                <input type="number" id="cc-sts" placeholder="매도가">
                <input type="number" id="cc-stq" placeholder="수량" value="1">
                <button class="btn btn-primary" onclick="calcCombined('stock')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            age: `<div class="info-box">나이 계산 (만나이/한국나이)</div>
                <input type="date" id="cc-ab" placeholder="생년월일">
                <button class="btn btn-primary" onclick="calcCombined('age')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            calorie: `<div class="info-box">기초대사량 계산</div>
                <div class="options"><label><input type="radio" name="cc-cg" value="m" checked> 남성</label><label><input type="radio" name="cc-cg" value="f"> 여성</label></div>
                <input type="number" id="cc-ca" placeholder="나이">
                <input type="number" id="cc-ch" placeholder="키 (cm)">
                <input type="number" id="cc-cw" placeholder="체중 (kg)">
                <button class="btn btn-primary" onclick="calcCombined('calorie')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            fuel: `<div class="info-box">자동차 연비 계산</div>
                <input type="number" id="cc-fd" placeholder="주행거리 (km)">
                <input type="number" id="cc-ff" placeholder="주유량 (L)">
                <button class="btn btn-primary" onclick="calcCombined('fuel')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`,
            hourly: `<div class="info-box">시급/일급 계산</div>
                <input type="number" id="cc-hh" placeholder="시급 (원)">
                <input type="number" id="cc-ht" placeholder="근무시간">
                <button class="btn btn-primary" onclick="calcCombined('hourly')">계산</button>
                <div class="result-box"><div id="cc-result">-</div></div>`
        };
        function showCalcType() {
            const type = document.getElementById('calc-type').value;
            document.getElementById('calc-content').innerHTML = calcTemplates[type] || '';
        }
        showCalcType();
        async function calcCombined(type) {
            const r = document.getElementById('cc-result');
            if(type === 'percent') {
                const n = +document.getElementById('cc-p1').value;
                const p = +document.getElementById('cc-p2').value;
                r.textContent = n && p ? `${n}의 ${p}% = ${(n * p / 100).toLocaleString()}` : '-';
            } else if(type === 'bmi') {
                const h = +document.getElementById('cc-h').value / 100;
                const w = +document.getElementById('cc-w').value;
                if(h && w) {
                    const bmi = w / (h * h);
                    const status = bmi < 18.5 ? '저체중' : bmi < 23 ? '정상' : bmi < 25 ? '과체중' : '비만';
                    r.textContent = `BMI: ${bmi.toFixed(1)} (${status})`;
                }
            } else if(type === 'loan') {
                const p = +document.getElementById('cc-la').value;
                const rate = +document.getElementById('cc-lr').value / 100 / 12;
                const n = +document.getElementById('cc-lm').value;
                if(p && rate && n) {
                    const monthly = p * rate * Math.pow(1 + rate, n) / (Math.pow(1 + rate, n) - 1);
                    r.innerHTML = `월 납입금: ${Math.round(monthly).toLocaleString()}원<br>총 상환액: ${Math.round(monthly * n).toLocaleString()}원<br>총 이자: ${Math.round(monthly * n - p).toLocaleString()}원`;
                }
            } else if(type === 'discount') {
                const o = +document.getElementById('cc-do').value;
                const d = +document.getElementById('cc-dr').value;
                if(o) r.innerHTML = `할인가: ${Math.round(o * (1 - d/100)).toLocaleString()}원<br>할인액: ${Math.round(o * d / 100).toLocaleString()}원`;
            } else if(type === 'tip') {
                const a = +document.getElementById('cc-ta').value;
                const t = +document.getElementById('cc-tr').value;
                const p = +document.getElementById('cc-tp').value || 1;
                if(a) {
                    const total = a * (1 + t/100);
                    r.innerHTML = `총액: ${Math.round(total).toLocaleString()}원<br>1인당: ${Math.round(total/p).toLocaleString()}원`;
                }
            } else if(type === 'vat') {
                const a = +document.getElementById('cc-va').value;
                const t = document.querySelector('input[name="cc-vt"]:checked').value;
                if(a) {
                    const supply = t === 'ex' ? a : Math.round(a / 1.1);
                    const tax = t === 'ex' ? Math.round(a * 0.1) : a - supply;
                    const total = supply + tax;
                    r.innerHTML = `공급가: ${supply.toLocaleString()}원<br>부가세: ${tax.toLocaleString()}원<br>합계: ${total.toLocaleString()}원`;
                }
            } else if(type === 'currency') {
                const a = +document.getElementById('cc-ca').value;
                const f = document.getElementById('cc-cf').value;
                const t = document.getElementById('cc-ct').value;
                if(a) {
                    try {
                        const res = await fetch(`https://api.exchangerate-api.com/v4/latest/${f}`);
                        const data = await res.json();
                        r.textContent = `${a.toLocaleString()} ${f} = ${(a * data.rates[t]).toLocaleString(undefined, {maximumFractionDigits:2})} ${t}`;
                    } catch(e) { r.textContent = '환율 조회 실패'; }
                }
            } else if(type === 'salary') {
                const y = +document.getElementById('cc-sa').value;
                const withTax = document.getElementById('cc-st').checked;
                if(y) {
                    const m = y / 12;
                    const net = withTax ? m * 0.91 : m;
                    r.innerHTML = `월급: ${Math.round(m).toLocaleString()}원<br>실수령(예상): ${Math.round(net).toLocaleString()}원`;
                }
            } else if(type === 'severance') {
                const s = new Date(document.getElementById('cc-ss').value);
                const e = new Date(document.getElementById('cc-se').value);
                const m = +document.getElementById('cc-sm').value;
                if(s && e && m) {
                    const days = Math.floor((e - s) / 86400000);
                    const years = days / 365;
                    r.innerHTML = `근속연수: ${years.toFixed(1)}년<br>퇴직금: ${Math.round(m * 30 * years).toLocaleString()}원`;
                }
            } else if(type === 'savings') {
                const a = +document.getElementById('cc-sva').value;
                const rate = +document.getElementById('cc-svr').value / 100;
                const n = +document.getElementById('cc-svm').value;
                if(a && rate && n) {
                    const principal = a * n;
                    let interest = 0;
                    for(let i = 1; i <= n; i++) interest += a * rate / 12 * (n - i + 1);
                    r.innerHTML = `원금합계: ${principal.toLocaleString()}원<br>이자(세전): ${Math.round(interest).toLocaleString()}원<br>만기금액: ${Math.round(principal + interest * 0.846).toLocaleString()}원`;
                }
            } else if(type === 'stock') {
                const b = +document.getElementById('cc-stb').value;
                const s = +document.getElementById('cc-sts').value;
                const q = +document.getElementById('cc-stq').value || 1;
                if(b && s) {
                    const profit = (s - b) * q;
                    const rate = ((s - b) / b * 100).toFixed(2);
                    r.innerHTML = `<span style="color:${profit >= 0 ? '#5a5' : '#c55'}">수익금: ${profit.toLocaleString()}원<br>수익률: ${rate}%</span>`;
                }
            } else if(type === 'age') {
                const b = new Date(document.getElementById('cc-ab').value);
                if(b) {
                    const today = new Date();
                    const korean = today.getFullYear() - b.getFullYear() + 1;
                    let full = today.getFullYear() - b.getFullYear();
                    if(today.getMonth() < b.getMonth() || (today.getMonth() === b.getMonth() && today.getDate() < b.getDate())) full--;
                    r.innerHTML = `만 나이: ${full}세<br>한국 나이: ${korean}세`;
                }
            } else if(type === 'calorie') {
                const g = document.querySelector('input[name="cc-cg"]:checked').value;
                const a = +document.getElementById('cc-ca').value;
                const h = +document.getElementById('cc-ch').value;
                const w = +document.getElementById('cc-cw').value;
                if(a && h && w) {
                    const bmr = g === 'm' ? 66.47 + (13.75 * w) + (5 * h) - (6.76 * a) : 655.1 + (9.56 * w) + (1.85 * h) - (4.68 * a);
                    r.textContent = `기초대사량: ${Math.round(bmr)} kcal/일`;
                }
            } else if(type === 'fuel') {
                const d = +document.getElementById('cc-fd').value;
                const f = +document.getElementById('cc-ff').value;
                if(d && f) r.textContent = `연비: ${(d / f).toFixed(2)} km/L`;
            } else if(type === 'hourly') {
                const h = +document.getElementById('cc-hh').value;
                const t = +document.getElementById('cc-ht').value;
                if(h && t) r.innerHTML = `일급: ${(h * t).toLocaleString()}원<br>주급(5일): ${(h * t * 5).toLocaleString()}원<br>월급(22일): ${(h * t * 22).toLocaleString()}원`;
            }
        }

        // Roman Numerals
        function convertRoman() {
            const input = document.getElementById('roman-input').value.trim();
            if(!input) { document.getElementById('roman-result').textContent = '-'; return; }
            if(/^\d+$/.test(input)) {
                let num = parseInt(input);
                if(num < 1 || num > 3999) { document.getElementById('roman-result').textContent = '1-3999 범위만'; return; }
                const map = [[1000,'M'],[900,'CM'],[500,'D'],[400,'CD'],[100,'C'],[90,'XC'],[50,'L'],[40,'XL'],[10,'X'],[9,'IX'],[5,'V'],[4,'IV'],[1,'I']];
                let roman = '';
                for(const [val, sym] of map) { while(num >= val) { roman += sym; num -= val; } }
                document.getElementById('roman-result').textContent = roman;
            } else {
                const map = {I:1,V:5,X:10,L:50,C:100,D:500,M:1000};
                let num = 0;
                const s = input.toUpperCase();
                for(let i = 0; i < s.length; i++) {
                    const curr = map[s[i]] || 0;
                    const next = map[s[i+1]] || 0;
                    num += curr < next ? -curr : curr;
                }
                document.getElementById('roman-result').textContent = num;
            }
        }

        // File Size
        function convertFileSize() {
            const val = +document.getElementById('fs-value').value;
            const unit = document.getElementById('fs-unit').value;
            if(!val) { document.getElementById('fs-result').textContent = '-'; return; }
            const units = {B:1, KB:1024, MB:1024**2, GB:1024**3, TB:1024**4};
            const bytes = val * units[unit];
            const html = Object.entries(units).map(([u, m]) => {
                const v = bytes / m;
                return `<div style="margin:5px 0;"><span style="color:#6a9fb5;">${u}:</span> ${v < 0.01 ? v.toExponential(2) : v.toLocaleString(undefined, {maximumFractionDigits:2})}</div>`;
            }).join('');
            document.getElementById('fs-result').innerHTML = html;
        }

        // LocalStorage Viewer
        function loadStorage() {
            const list = document.getElementById('storage-list');
            if(localStorage.length === 0) { list.innerHTML = '<div style="color:#666;">저장된 항목 없음</div>'; return; }
            let html = '';
            for(let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                const val = localStorage.getItem(key);
                const preview = val.length > 50 ? val.substring(0, 50) + '...' : val;
                html += `<div class="file-item"><div><strong style="color:#6a9fb5;">${key}</strong><br><span style="color:#666;font-size:0.8rem;">${preview}</span></div><button onclick="localStorage.removeItem('${key}');loadStorage()">삭제</button></div>`;
            }
            list.innerHTML = html;
        }

        // Speed Test
        async function runSpeedTest() {
            const btn = document.getElementById('speed-btn');
            const status = document.getElementById('speed-status');
            const result = document.getElementById('speed-result');
            btn.disabled = true;
            status.textContent = '테스트 중...';
            result.textContent = '-';
            try {
                const testUrl = 'https://www.cloudflare.com/cdn-cgi/trace?' + Date.now();
                const startTime = performance.now();
                const response = await fetch(testUrl);
                const data = await response.text();
                const endTime = performance.now();
                const duration = (endTime - startTime) / 1000;
                const bytes = new Blob([data]).size;
                const bitsPerSec = (bytes * 8) / duration;
                const mbps = (bitsPerSec / 1000000).toFixed(2);
                result.textContent = mbps;
                status.textContent = '완료 (추정치)';
            } catch(e) { status.textContent = '테스트 실패'; }
            btn.disabled = false;
        }

        // Camera
        let cameraStream = null;
        async function startCamera() {
            try {
                cameraStream = await navigator.mediaDevices.getUserMedia({ video: true });
                document.getElementById('camera-video').srcObject = cameraStream;
            } catch(e) { alert('카메라 접근 실패: ' + e.message); }
        }
        function stopCamera() {
            if(cameraStream) { cameraStream.getTracks().forEach(t => t.stop()); cameraStream = null; }
            document.getElementById('camera-video').srcObject = null;
        }
        function capturePhoto() {
            const video = document.getElementById('camera-video');
            if(!video.srcObject) return;
            const canvas = document.getElementById('camera-canvas');
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            canvas.getContext('2d').drawImage(video, 0, 0);
            const link = document.getElementById('camera-download');
            link.href = canvas.toDataURL('image/png');
            link.download = 'capture.png';
            link.style.display = 'inline-block';
        }

        // Microphone
        let micStream = null, micContext = null, micAnalyser = null;
        async function startMic() {
            try {
                micStream = await navigator.mediaDevices.getUserMedia({ audio: true });
                micContext = new AudioContext();
                const source = micContext.createMediaStreamSource(micStream);
                micAnalyser = micContext.createAnalyser();
                source.connect(micAnalyser);
                micAnalyser.fftSize = 256;
                updateMicLevel();
            } catch(e) { alert('마이크 접근 실패: ' + e.message); }
        }
        function updateMicLevel() {
            if(!micAnalyser) return;
            const data = new Uint8Array(micAnalyser.frequencyBinCount);
            micAnalyser.getByteFrequencyData(data);
            const avg = data.reduce((a, b) => a + b, 0) / data.length;
            document.getElementById('mic-level').textContent = Math.round(avg);
            const visual = document.getElementById('mic-visual');
            visual.innerHTML = `<div style="width:${avg}%;height:100%;background:linear-gradient(90deg,#5a5,#ca5,#c55);transition:width 0.1s;"></div>`;
            requestAnimationFrame(updateMicLevel);
        }
        function stopMic() {
            if(micStream) { micStream.getTracks().forEach(t => t.stop()); micStream = null; }
            if(micContext) { micContext.close(); micContext = null; }
            micAnalyser = null;
            document.getElementById('mic-level').textContent = '-';
            document.getElementById('mic-visual').innerHTML = '';
        }

        // TTS
        function initTtsVoices() {
            const voices = speechSynthesis.getVoices();
            const select = document.getElementById('tts-voice');
            select.innerHTML = voices.map((v, i) => `<option value="${i}">${v.name} (${v.lang})</option>`).join('');
        }
        speechSynthesis.onvoiceschanged = initTtsVoices;
        initTtsVoices();
        function speakText() {
            const text = document.getElementById('tts-input').value;
            if(!text) return;
            const utterance = new SpeechSynthesisUtterance(text);
            const voices = speechSynthesis.getVoices();
            const voiceIdx = document.getElementById('tts-voice').value;
            if(voices[voiceIdx]) utterance.voice = voices[voiceIdx];
            utterance.rate = parseFloat(document.getElementById('tts-rate').value);
            speechSynthesis.speak(utterance);
        }
        function stopSpeech() { speechSynthesis.cancel(); }

        // QR Scan
        let qrStream = null, qrScanning = false;
        async function startQrScan() {
            try {
                qrStream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } });
                document.getElementById('qr-video').srcObject = qrStream;
                qrScanning = true;
                scanQrFrame();
            } catch(e) { alert('카메라 접근 실패: ' + e.message); }
        }
        function stopQrScan() {
            if(qrStream) { qrStream.getTracks().forEach(t => t.stop()); qrStream = null; }
            qrScanning = false;
            document.getElementById('qr-video').srcObject = null;
        }
        async function scanQrFrame() {
            if(!qrScanning) return;
            const video = document.getElementById('qr-video');
            if(video.readyState === video.HAVE_ENOUGH_DATA) {
                const canvas = document.createElement('canvas');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(video, 0, 0);
                try {
                    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    if(typeof jsQR !== 'undefined') {
                        const code = jsQR(imageData.data, canvas.width, canvas.height);
                        if(code) {
                            document.getElementById('qr-scan-result').textContent = code.data;
                            stopQrScan();
                            return;
                        }
                    }
                } catch(e) {}
            }
            requestAnimationFrame(scanQrFrame);
        }
        // Load jsQR library
        if(!window.jsQR) {
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js';
            document.head.appendChild(script);
        }

        // Copy
        function copyText(id){navigator.clipboard.writeText(document.getElementById(id).textContent).then(()=>alert('복사됨'));}
    </script>
</body>
</html>