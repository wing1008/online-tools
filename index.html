<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToolBox - 개발자 도구 모음</title>
    <meta name="description" content="개발하면서 자주 쓰는 도구들 모아봤습니다. QR코드, 글자수 세기, PDF 변환 등 무료로 사용하세요.">
    <meta property="og:title" content="ToolBox - 개발자 도구 모음">
    <meta property="og:description" content="QR코드, PDF 병합, 글자수 세기 등 무료 온라인 도구">
    <meta property="og:type" content="website">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='15' fill='%23222'/><text x='50' y='65' font-size='45' text-anchor='middle' fill='%23888' font-family='Arial' font-weight='bold'>T</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8968767404465379" crossorigin="anonymous"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, sans-serif; background: #0a0a0a; min-height: 100vh; color: #999; line-height: 1.5; }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        nav { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 1px solid #1a1a1a; margin-bottom: 40px; }
        .logo { font-size: 1.1rem; font-weight: 600; color: #fff; letter-spacing: -0.5px; }
        .nav-right { display: flex; align-items: center; gap: 15px; }
        nav a { color: #555; text-decoration: none; font-size: 0.85rem; }
        nav a:hover { color: #888; }
        .lang-btn { background: none; border: 1px solid #333; color: #666; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.8rem; display: flex; align-items: center; gap: 5px; }
        .lang-btn:hover { border-color: #444; color: #888; }
        .donate-btn { background: #1a1a1a; border: 1px solid #333; color: #888; padding: 6px 12px; border-radius: 5px; cursor: pointer; font-size: 0.8rem; text-decoration: none; }
        .donate-btn:hover { background: #222; color: #aaa; }
        header { text-align: center; padding: 30px 0 40px; }
        header h1 { font-size: 1.5rem; color: #ddd; font-weight: 600; margin-bottom: 8px; }
        header p { color: #555; font-size: 0.9rem; }
        .section-title { color: #444; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 2px; margin: 35px 0 12px; font-weight: 500; }
        .tools-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; }
        .tool-card { background: #111; border-radius: 8px; padding: 16px 18px; cursor: pointer; border: 1px solid #1a1a1a; transition: all 0.15s; }
        .tool-card:hover { background: #161616; border-color: #252525; }
        .tool-card h3 { font-size: 0.9rem; color: #ccc; font-weight: 500; margin-bottom: 3px; }
        .tool-card p { color: #555; font-size: 0.75rem; }
        .tool-section { display: none; background: #111; border-radius: 10px; padding: 25px; margin: 20px 0; border: 1px solid #1a1a1a; }
        .tool-section.active { display: block; }
        .tool-section h2 { font-size: 1.1rem; color: #ddd; font-weight: 500; margin-bottom: 20px; }
        .back-btn { background: transparent; border: 1px solid #222; color: #666; padding: 6px 12px; border-radius: 5px; cursor: pointer; margin-bottom: 15px; font-size: 0.8rem; }
        .back-btn:hover { border-color: #333; color: #888; }
        input, textarea, select { width: 100%; padding: 12px 14px; border-radius: 6px; border: 1px solid #222; background: #0a0a0a; color: #ccc; font-size: 0.9rem; margin-bottom: 10px; font-family: inherit; }
        input:focus, textarea:focus { outline: none; border-color: #333; }
        textarea { min-height: 100px; resize: vertical; }
        input[type="file"] { padding: 10px; }
        input[type="color"] { padding: 5px; height: 45px; }
        input[type="range"] { padding: 0; }
        .btn { background: #1a1a1a; border: 1px solid #2a2a2a; color: #aaa; padding: 10px 18px; border-radius: 6px; cursor: pointer; font-size: 0.85rem; font-weight: 500; transition: all 0.15s; margin-right: 6px; margin-bottom: 6px; }
        .btn:hover { background: #222; border-color: #333; color: #ccc; }
        .btn-primary { background: #2a2a2a; border-color: #333; color: #ddd; }
        .btn-danger { background: #3a2020; border-color: #442828; color: #c88; }
        .result-box { background: #0a0a0a; border-radius: 6px; padding: 15px; margin-top: 15px; border: 1px solid #1a1a1a; word-break: break-all; font-size: 0.85rem; }
        #qrcode { display: flex; justify-content: center; margin: 15px 0; }
        #qrcode canvas { border-radius: 6px; }
        .stats-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 8px; margin-top: 15px; }
        .stat-box { background: #0a0a0a; padding: 12px; border-radius: 6px; text-align: center; border: 1px solid #1a1a1a; }
        .stat-box .number { font-size: 1.3rem; font-weight: 600; color: #ddd; }
        .stat-box .label { color: #555; font-size: 0.7rem; margin-top: 2px; }
        .copy-btn { background: #1a1a1a; border: none; color: #666; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 0.75rem; margin-top: 8px; }
        .copy-btn:hover { color: #999; }
        .row { display: flex; gap: 10px; flex-wrap: wrap; }
        .row > * { flex: 1; min-width: 150px; }
        .file-list { margin: 10px 0; }
        .file-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; background: #0f0f0f; border-radius: 5px; margin-bottom: 5px; font-size: 0.8rem; }
        .file-item button { background: none; border: none; color: #555; cursor: pointer; font-size: 0.9rem; }
        .file-item button:hover { color: #888; }
        .info-box { background: #0f0f0f; border-left: 2px solid #333; padding: 12px 15px; margin: 15px 0; font-size: 0.8rem; color: #666; line-height: 1.6; }
        .color-preview { width: 100%; height: 60px; border-radius: 6px; margin-bottom: 10px; }
        .color-info { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .color-info div { background: #0a0a0a; padding: 10px; border-radius: 5px; text-align: center; border: 1px solid #1a1a1a; font-size: 0.8rem; }
        .color-info .label { color: #555; font-size: 0.65rem; display: block; margin-bottom: 3px; }
        .options { display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 12px; }
        .options label { display: flex; align-items: center; gap: 5px; color: #666; font-size: 0.85rem; cursor: pointer; }
        .options input[type="checkbox"], .options input[type="radio"] { width: auto; margin: 0; }
        .password-display { font-family: 'SF Mono', 'Consolas', monospace; font-size: 1.1rem; text-align: center; padding: 15px; background: #0a0a0a; border-radius: 6px; margin: 15px 0; border: 1px solid #1a1a1a; color: #ddd; letter-spacing: 1px; }
        .img-preview { max-width: 100%; max-height: 300px; border-radius: 6px; margin: 10px 0; }
        .slider-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .slider-row input[type="range"] { flex: 1; }
        .slider-row span { color: #888; font-size: 0.85rem; min-width: 50px; }
        .markdown-preview { background: #0f0f0f; padding: 15px; border-radius: 6px; border: 1px solid #1a1a1a; color: #ccc; line-height: 1.8; }
        .markdown-preview h1, .markdown-preview h2, .markdown-preview h3 { color: #ddd; margin: 15px 0 10px; }
        .markdown-preview code { background: #1a1a1a; padding: 2px 6px; border-radius: 3px; }
        .markdown-preview pre { background: #1a1a1a; padding: 10px; border-radius: 5px; overflow-x: auto; }
        .markdown-preview a { color: #6a9fb5; }
        .markdown-preview ul, .markdown-preview ol { margin-left: 20px; }
        .timer-display { font-size: 3rem; font-weight: 600; color: #ddd; text-align: center; padding: 30px; font-family: 'SF Mono', monospace; }
        .timer-controls { display: flex; justify-content: center; gap: 10px; margin-top: 15px; }
        .gradient-preview { width: 100%; height: 100px; border-radius: 8px; margin: 15px 0; }
        .shadow-preview { width: 150px; height: 150px; background: #333; margin: 20px auto; border-radius: 10px; }
        .strength-bar { height: 8px; border-radius: 4px; background: #1a1a1a; margin-top: 10px; overflow: hidden; }
        .strength-fill { height: 100%; transition: all 0.3s; }
        .diff-result { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .diff-result > div { padding: 10px; border-radius: 6px; font-size: 0.8rem; white-space: pre-wrap; font-family: monospace; }
        .diff-old { background: #2a1515; }
        .diff-new { background: #152a15; }
        footer { text-align: center; padding: 40px 0 30px; border-top: 1px solid #111; margin-top: 50px; }
        footer p { color: #333; font-size: 0.8rem; }
        footer a { color: #444; text-decoration: none; margin: 0 8px; font-size: 0.8rem; }
        footer a:hover { color: #666; }
        .lang-modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; }
        .lang-modal.active { display: flex; }
        .lang-modal-content { background: #111; border: 1px solid #222; border-radius: 10px; padding: 25px; min-width: 200px; }
        .lang-modal h3 { color: #ddd; margin-bottom: 15px; font-size: 1rem; }
        .lang-option { display: block; width: 100%; padding: 10px 15px; background: #1a1a1a; border: 1px solid #222; border-radius: 6px; color: #ccc; cursor: pointer; margin-bottom: 8px; font-size: 0.9rem; text-align: left; }
        .lang-option:hover { background: #222; }
        @media (max-width: 600px) { .tools-grid { grid-template-columns: 1fr 1fr; } nav { flex-direction: column; gap: 12px; } .timer-display { font-size: 2rem; } }
    </style>
</head>
<body>
    <div class="container">
        <nav>
            <div class="logo" onclick="showMain()" style="cursor:pointer;">ToolBox</div>
            <div class="nav-right">
                <a href="#" onclick="showMain(); return false;" data-i18n="nav.tools">도구</a>
                <a href="#" onclick="showTool('about'); return false;" data-i18n="nav.about">소개</a>
                <button class="lang-btn" onclick="toggleLangModal()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                    <span id="current-lang">KO</span>
                </button>
                <a href="https://buymeacoffee.com/wings1008" target="_blank" class="donate-btn" data-i18n="nav.donate">후원하기</a>
            </div>
        </nav>

        <div class="lang-modal" id="lang-modal" onclick="if(event.target===this)toggleLangModal()">
            <div class="lang-modal-content">
                <h3>Language / 언어</h3>
                <button class="lang-option" onclick="setLang('ko')">🇰🇷 한국어</button>
                <button class="lang-option" onclick="setLang('en')">🇺🇸 English</button>
            </div>
        </div>

        <header id="main-header">
            <h1 data-i18n="header.title">개발할 때 필요한 도구들</h1>
            <p data-i18n="header.subtitle">그냥 편하게 쓰세요</p>
        </header>

        <div id="main-grid">
            <div class="section-title">PDF</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('pdf-merge')"><h3>PDF 병합</h3><p>여러 PDF를 하나로</p></div>
                <div class="tool-card" onclick="showTool('pdf-convert')"><h3>PDF 변환</h3><p>이미지 → PDF</p></div>
            </div>

            <div class="section-title">생성</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('qr')"><h3>QR코드</h3><p>링크, 텍스트</p></div>
                <div class="tool-card" onclick="showTool('password')"><h3>비밀번호</h3><p>랜덤 생성</p></div>
                <div class="tool-card" onclick="showTool('uuid')"><h3>UUID</h3><p>고유 식별자</p></div>
                <div class="tool-card" onclick="showTool('lorem')"><h3>Lorem Ipsum</h3><p>더미 텍스트</p></div>
                <div class="tool-card" onclick="showTool('random')"><h3>랜덤 숫자</h3><p>숫자/추첨</p></div>
                <div class="tool-card" onclick="showTool('fake')"><h3>가짜 데이터</h3><p>이름, 이메일 등</p></div>
                <div class="tool-card" onclick="showTool('gradient')"><h3>그라데이션</h3><p>CSS 생성</p></div>
                <div class="tool-card" onclick="showTool('shadow')"><h3>박스 쉐도우</h3><p>CSS 생성</p></div>
            </div>

            <div class="section-title">텍스트</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('text')"><h3>글자수</h3><p>공백, 바이트, 읽기시간</p></div>
                <div class="tool-card" onclick="showTool('case')"><h3>대소문자</h3><p>변환</p></div>
                <div class="tool-card" onclick="showTool('replace')"><h3>치환</h3><p>찾아 바꾸기</p></div>
                <div class="tool-card" onclick="showTool('markdown')"><h3>Markdown</h3><p>미리보기</p></div>
                <div class="tool-card" onclick="showTool('duplicate')"><h3>중복 제거</h3><p>중복 줄 삭제</p></div>
                <div class="tool-card" onclick="showTool('sort')"><h3>줄 정렬</h3><p>가나다순, 역순</p></div>
                <div class="tool-card" onclick="showTool('diff')"><h3>텍스트 비교</h3><p>차이점 찾기</p></div>
            </div>

            <div class="section-title">이미지</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('img-resize')"><h3>이미지 리사이즈</h3><p>크기 조절</p></div>
                <div class="tool-card" onclick="showTool('img-compress')"><h3>이미지 압축</h3><p>용량 줄이기</p></div>
                <div class="tool-card" onclick="showTool('img-convert')"><h3>이미지 변환</h3><p>JPG, PNG, WebP</p></div>
                <div class="tool-card" onclick="showTool('img-base64')"><h3>이미지 Base64</h3><p>인코딩</p></div>
                <div class="tool-card" onclick="showTool('img-crop')"><h3>이미지 자르기</h3><p>크롭</p></div>
                <div class="tool-card" onclick="showTool('favicon')"><h3>파비콘 생성</h3><p>ICO, PNG</p></div>
                <div class="tool-card" onclick="showTool('bg-remove')"><h3>누끼</h3><p>배경 제거</p></div>
                <div class="tool-card" onclick="showTool('placeholder')"><h3>플레이스홀더</h3><p>더미 이미지</p></div>
            </div>

            <div class="section-title">인코딩</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('base64')"><h3>Base64</h3><p>인코딩/디코딩</p></div>
                <div class="tool-card" onclick="showTool('url')"><h3>URL</h3><p>인코딩/디코딩</p></div>
                <div class="tool-card" onclick="showTool('hash')"><h3>해시</h3><p>MD5, SHA</p></div>
                <div class="tool-card" onclick="showTool('html')"><h3>HTML</h3><p>이스케이프</p></div>
                <div class="tool-card" onclick="showTool('jwt')"><h3>JWT</h3><p>디코더</p></div>
            </div>

            <div class="section-title">개발</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('json')"><h3>JSON</h3><p>정리/압축</p></div>
                <div class="tool-card" onclick="showTool('json-xml')"><h3>JSON ↔ XML</h3><p>변환</p></div>
                <div class="tool-card" onclick="showTool('minify')"><h3>코드 압축</h3><p>JS, CSS, HTML</p></div>
                <div class="tool-card" onclick="showTool('timestamp')"><h3>타임스탬프</h3><p>Unix ↔ Date</p></div>
                <div class="tool-card" onclick="showTool('color')"><h3>색상</h3><p>HEX, RGB, HSL</p></div>
                <div class="tool-card" onclick="showTool('regex')"><h3>정규식</h3><p>테스트</p></div>
                <div class="tool-card" onclick="showTool('cron')"><h3>Cron</h3><p>표현식 생성</p></div>
                <div class="tool-card" onclick="showTool('meta')"><h3>메타 태그</h3><p>SEO 생성기</p></div>
                <div class="tool-card" onclick="showTool('css-unit')"><h3>CSS 단위</h3><p>px, rem, em</p></div>
                <div class="tool-card" onclick="showTool('http-status')"><h3>HTTP 상태코드</h3><p>코드 조회</p></div>
                <div class="tool-card" onclick="showTool('ip-info')"><h3>내 IP</h3><p>IP 주소 조회</p></div>
                <div class="tool-card" onclick="showTool('useragent')"><h3>User-Agent</h3><p>브라우저 정보</p></div>
                <div class="tool-card" onclick="showTool('slug')"><h3>Slug 생성</h3><p>URL 친화적</p></div>
            </div>

            <div class="section-title">계산</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('percent')"><h3>퍼센트</h3><p>비율 계산</p></div>
                <div class="tool-card" onclick="showTool('unit')"><h3>단위</h3><p>길이, 무게, 온도</p></div>
                <div class="tool-card" onclick="showTool('number')"><h3>진법</h3><p>2, 8, 10, 16</p></div>
                <div class="tool-card" onclick="showTool('date')"><h3>날짜</h3><p>D-Day, 기간</p></div>
                <div class="tool-card" onclick="showTool('age')"><h3>나이 계산</h3><p>만나이, 음력/양력</p></div>
                <div class="tool-card" onclick="showTool('bmi')"><h3>BMI</h3><p>체질량지수</p></div>
                <div class="tool-card" onclick="showTool('loan')"><h3>대출 이자</h3><p>원리금 계산</p></div>
                <div class="tool-card" onclick="showTool('discount')"><h3>할인율</h3><p>세일 가격</p></div>
                <div class="tool-card" onclick="showTool('tip')"><h3>팁 계산</h3><p>더치페이</p></div>
                <div class="tool-card" onclick="showTool('vat')"><h3>부가세</h3><p>세금 계산</p></div>
            </div>

            <div class="section-title">유틸리티</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="showTool('pomodoro')"><h3>뽀모도로</h3><p>집중 타이머</p></div>
                <div class="tool-card" onclick="showTool('stopwatch')"><h3>스톱워치</h3><p>시간 측정</p></div>
                <div class="tool-card" onclick="showTool('pwcheck')"><h3>비밀번호 강도</h3><p>안전성 검사</p></div>
                <div class="tool-card" onclick="showTool('countdown')"><h3>카운트다운</h3><p>타이머</p></div>
                <div class="tool-card" onclick="showTool('worldclock')"><h3>세계 시간</h3><p>타임존 변환</p></div>
                <div class="tool-card" onclick="showTool('notepad')"><h3>메모장</h3><p>로컬 저장</p></div>
                <div class="tool-card" onclick="showTool('palette')"><h3>색상 팔레트</h3><p>컬러 조합</p></div>
                <div class="tool-card" onclick="showTool('emoji')"><h3>이모지</h3><p>검색/복사</p></div>
                <div class="tool-card" onclick="showTool('engkor')"><h3>한↔영 변환</h3><p>오타 교정</p></div>
            </div>
        </div>

        <!-- Tool Sections -->
        <!-- PDF Merge -->
        <div class="tool-section" id="tool-pdf-merge">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>PDF 병합</h2>
            <input type="file" id="pdf-files" accept=".pdf" multiple>
            <div class="file-list" id="pdf-file-list"></div>
            <button class="btn btn-primary" onclick="mergePDFs()">병합하기</button>
            <div id="pdf-merge-status"></div>
        </div>

        <!-- PDF Convert -->
        <div class="tool-section" id="tool-pdf-convert">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>PDF 변환</h2>
            <div class="info-box"><strong>지원:</strong> JPG, PNG<br><strong>HWP, Word, Excel, PPT:</strong> 서비스 준비중</div>
            <input type="file" id="convert-files" accept="image/*" multiple>
            <div class="file-list" id="convert-file-list"></div>
            <button class="btn btn-primary" onclick="convertToPDF()">변환</button>
            <div id="convert-status"></div>
        </div>

        <!-- QR -->
        <div class="tool-section" id="tool-qr">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>QR코드 생성</h2>
            <input type="text" id="qr-input" placeholder="URL 또는 텍스트">
            <button class="btn btn-primary" onclick="generateQR()">생성</button>
            <div id="qrcode"></div>
            <div style="text-align:center;"><button class="copy-btn" onclick="downloadQR()" style="display:none;" id="download-qr">다운로드</button></div>
        </div>

        <!-- Password -->
        <div class="tool-section" id="tool-password">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>비밀번호 생성</h2>
            <input type="number" id="pw-length" value="16" min="4" max="128">
            <div class="options">
                <label><input type="checkbox" id="pw-upper" checked> 대문자</label>
                <label><input type="checkbox" id="pw-lower" checked> 소문자</label>
                <label><input type="checkbox" id="pw-number" checked> 숫자</label>
                <label><input type="checkbox" id="pw-symbol" checked> 특수문자</label>
            </div>
            <button class="btn btn-primary" onclick="generatePassword()">생성</button>
            <div class="password-display" id="password-result">-</div>
            <div style="text-align:center;"><button class="copy-btn" onclick="copyText('password-result')">복사</button></div>
        </div>

        <!-- UUID -->
        <div class="tool-section" id="tool-uuid">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>UUID</h2>
            <input type="number" id="uuid-count" value="5" min="1" max="100">
            <button class="btn btn-primary" onclick="generateUUID()">생성</button>
            <div class="result-box"><pre id="uuid-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('uuid-result')">복사</button>
        </div>

        <!-- Lorem -->
        <div class="tool-section" id="tool-lorem">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Lorem Ipsum</h2>
            <input type="number" id="lorem-count" value="3" min="1" max="20">
            <button class="btn btn-primary" onclick="generateLorem()">생성</button>
            <div class="result-box"><div id="lorem-result">-</div></div>
            <button class="copy-btn" onclick="copyText('lorem-result')">복사</button>
        </div>

        <!-- Random -->
        <div class="tool-section" id="tool-random">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>랜덤 숫자</h2>
            <div class="row">
                <input type="number" id="random-min" value="1" placeholder="최소">
                <input type="number" id="random-max" value="100" placeholder="최대">
                <input type="number" id="random-count" value="1" placeholder="개수" min="1" max="100">
            </div>
            <div class="options">
                <label><input type="checkbox" id="random-unique"> 중복 제외</label>
            </div>
            <button class="btn btn-primary" onclick="generateRandom()">생성</button>
            <div class="password-display" id="random-result">-</div>
        </div>

        <!-- Fake Data -->
        <div class="tool-section" id="tool-fake">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>가짜 데이터 생성</h2>
            <div class="options">
                <label><input type="checkbox" id="fake-name" checked> 이름</label>
                <label><input type="checkbox" id="fake-email" checked> 이메일</label>
                <label><input type="checkbox" id="fake-phone" checked> 전화번호</label>
                <label><input type="checkbox" id="fake-address"> 주소</label>
            </div>
            <input type="number" id="fake-count" value="5" min="1" max="50" placeholder="개수">
            <button class="btn btn-primary" onclick="generateFake()">생성</button>
            <div class="result-box"><pre id="fake-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('fake-result')">복사</button>
        </div>

        <!-- Gradient -->
        <div class="tool-section" id="tool-gradient">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>그라데이션 생성</h2>
            <div class="row">
                <input type="color" id="grad-color1" value="#667eea">
                <input type="color" id="grad-color2" value="#764ba2">
            </div>
            <select id="grad-direction" onchange="updateGradient()">
                <option value="to right">→ 오른쪽</option>
                <option value="to left">← 왼쪽</option>
                <option value="to bottom">↓ 아래</option>
                <option value="to top">↑ 위</option>
                <option value="to bottom right">↘ 대각선</option>
                <option value="135deg">135°</option>
            </select>
            <div class="gradient-preview" id="grad-preview"></div>
            <div class="result-box"><code id="grad-result">-</code></div>
            <button class="copy-btn" onclick="copyText('grad-result')">복사</button>
        </div>

        <!-- Shadow -->
        <div class="tool-section" id="tool-shadow">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>박스 쉐도우</h2>
            <div class="slider-row"><span>X:</span><input type="range" id="shadow-x" min="-50" max="50" value="5" oninput="updateShadow()"><span id="shadow-x-val">5px</span></div>
            <div class="slider-row"><span>Y:</span><input type="range" id="shadow-y" min="-50" max="50" value="5" oninput="updateShadow()"><span id="shadow-y-val">5px</span></div>
            <div class="slider-row"><span>Blur:</span><input type="range" id="shadow-blur" min="0" max="100" value="15" oninput="updateShadow()"><span id="shadow-blur-val">15px</span></div>
            <div class="slider-row"><span>Spread:</span><input type="range" id="shadow-spread" min="-50" max="50" value="0" oninput="updateShadow()"><span id="shadow-spread-val">0px</span></div>
            <input type="color" id="shadow-color" value="#000000" onchange="updateShadow()">
            <div class="shadow-preview" id="shadow-preview"></div>
            <div class="result-box"><code id="shadow-result">-</code></div>
            <button class="copy-btn" onclick="copyText('shadow-result')">복사</button>
        </div>

        <!-- Text -->
        <div class="tool-section" id="tool-text">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>글자수 세기</h2>
            <textarea id="text-input" oninput="analyzeText()"></textarea>
            <div class="stats-row">
                <div class="stat-box"><div class="number" id="char-count">0</div><div class="label">글자(공백포함)</div></div>
                <div class="stat-box"><div class="number" id="char-no-space">0</div><div class="label">글자(공백제외)</div></div>
                <div class="stat-box"><div class="number" id="word-count">0</div><div class="label">단어</div></div>
                <div class="stat-box"><div class="number" id="line-count">0</div><div class="label">줄</div></div>
                <div class="stat-box"><div class="number" id="byte-count">0</div><div class="label">바이트</div></div>
                <div class="stat-box"><div class="number" id="read-time">0</div><div class="label">읽기(분)</div></div>
            </div>
        </div>

        <!-- Case -->
        <div class="tool-section" id="tool-case">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>대소문자 변환</h2>
            <textarea id="case-input"></textarea>
            <div>
                <button class="btn" onclick="convertCase('upper')">대문자</button>
                <button class="btn" onclick="convertCase('lower')">소문자</button>
                <button class="btn" onclick="convertCase('title')">Title</button>
                <button class="btn" onclick="convertCase('toggle')">토글</button>
            </div>
            <div class="result-box"><div id="case-result">-</div></div>
            <button class="copy-btn" onclick="copyText('case-result')">복사</button>
        </div>

        <!-- Replace -->
        <div class="tool-section" id="tool-replace">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>텍스트 치환</h2>
            <textarea id="replace-input"></textarea>
            <div class="row">
                <input type="text" id="replace-find" placeholder="찾을 텍스트">
                <input type="text" id="replace-with" placeholder="바꿀 텍스트">
            </div>
            <button class="btn btn-primary" onclick="replaceText()">치환</button>
            <div class="result-box"><div id="replace-result">-</div></div>
            <button class="copy-btn" onclick="copyText('replace-result')">복사</button>
        </div>

        <!-- Markdown -->
        <div class="tool-section" id="tool-markdown">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Markdown Preview</h2>
            <textarea id="markdown-input" oninput="renderMarkdown()" placeholder="# Hello World"></textarea>
            <div class="markdown-preview" id="markdown-result"></div>
        </div>

        <!-- Duplicate -->
        <div class="tool-section" id="tool-duplicate">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>중복 줄 제거</h2>
            <textarea id="dup-input" placeholder="각 줄에 하나씩 입력"></textarea>
            <button class="btn btn-primary" onclick="removeDuplicates()">중복 제거</button>
            <div class="result-box"><pre id="dup-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('dup-result')">복사</button>
        </div>

        <!-- Sort -->
        <div class="tool-section" id="tool-sort">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>줄 정렬</h2>
            <textarea id="sort-input" placeholder="각 줄에 하나씩 입력"></textarea>
            <div>
                <button class="btn" onclick="sortLines('asc')">오름차순</button>
                <button class="btn" onclick="sortLines('desc')">내림차순</button>
                <button class="btn" onclick="sortLines('reverse')">역순</button>
                <button class="btn" onclick="sortLines('shuffle')">섞기</button>
            </div>
            <div class="result-box"><pre id="sort-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('sort-result')">복사</button>
        </div>

        <!-- Diff -->
        <div class="tool-section" id="tool-diff">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>텍스트 비교</h2>
            <div class="row">
                <textarea id="diff-input1" placeholder="원본 텍스트"></textarea>
                <textarea id="diff-input2" placeholder="비교 텍스트"></textarea>
            </div>
            <button class="btn btn-primary" onclick="compareText()">비교</button>
            <div class="diff-result" id="diff-result" style="display:none;">
                <div class="diff-old" id="diff-old"></div>
                <div class="diff-new" id="diff-new"></div>
            </div>
        </div>

        <!-- Image Tools -->
        <div class="tool-section" id="tool-img-resize">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 리사이즈</h2>
            <input type="file" id="resize-file" accept="image/*" onchange="loadResizeImage(this)">
            <canvas id="resize-canvas" style="display:none;"></canvas>
            <img id="resize-preview" class="img-preview" style="display:none;">
            <div class="row" style="margin-top:10px;">
                <input type="number" id="resize-width" placeholder="Width" oninput="updateResizeHeight()">
                <input type="number" id="resize-height" placeholder="Height" oninput="updateResizeWidth()">
            </div>
            <label style="color:#666;font-size:0.8rem;"><input type="checkbox" id="resize-ratio" checked> 비율 유지</label>
            <div style="margin-top:10px;">
                <button class="btn btn-primary" onclick="resizeImage()">리사이즈</button>
                <a id="resize-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
            </div>
        </div>

        <div class="tool-section" id="tool-img-compress">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 압축</h2>
            <input type="file" id="compress-file" accept="image/*" onchange="loadCompressImage(this)">
            <img id="compress-preview" class="img-preview" style="display:none;">
            <div class="slider-row"><span>품질:</span><input type="range" id="compress-quality" min="10" max="100" value="80" oninput="updateQualityLabel()"><span id="quality-label">80%</span></div>
            <div id="compress-info" style="color:#666;font-size:0.85rem;margin:10px 0;"></div>
            <button class="btn btn-primary" onclick="compressImage()">압축</button>
            <a id="compress-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <div class="tool-section" id="tool-img-convert">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 변환</h2>
            <input type="file" id="imgconv-file" accept="image/*" onchange="loadConvertImage(this)">
            <img id="imgconv-preview" class="img-preview" style="display:none;">
            <select id="imgconv-format">
                <option value="image/jpeg">JPG</option>
                <option value="image/png">PNG</option>
                <option value="image/webp">WebP</option>
            </select>
            <button class="btn btn-primary" onclick="convertImage()">변환</button>
            <a id="imgconv-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <div class="tool-section" id="tool-img-base64">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 → Base64</h2>
            <input type="file" id="imgb64-file" accept="image/*" onchange="imageToBase64(this)">
            <img id="imgb64-preview" class="img-preview" style="display:none;">
            <div class="result-box" style="max-height:200px;overflow:auto;"><div id="imgb64-result" style="word-break:break-all;">-</div></div>
            <button class="copy-btn" onclick="copyText('imgb64-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-img-crop">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이미지 자르기</h2>
            <input type="file" id="crop-file" accept="image/*" onchange="loadCropImage(this)">
            <img id="crop-preview" class="img-preview" style="display:none;">
            <div class="row" style="margin-top:10px;">
                <input type="number" id="crop-x" placeholder="X" value="0">
                <input type="number" id="crop-y" placeholder="Y" value="0">
                <input type="number" id="crop-w" placeholder="Width">
                <input type="number" id="crop-h" placeholder="Height">
            </div>
            <button class="btn btn-primary" onclick="cropImage()">자르기</button>
            <a id="crop-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <div class="tool-section" id="tool-favicon">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>파비콘 생성</h2>
            <input type="file" id="favicon-file" accept="image/*" onchange="loadFaviconImage(this)">
            <img id="favicon-preview" class="img-preview" style="display:none;">
            <div class="info-box">이미지를 16x16, 32x32, 48x48 크기로 변환합니다.</div>
            <button class="btn btn-primary" onclick="generateFavicons()">생성</button>
            <div id="favicon-downloads"></div>
        </div>

        <!-- Background Remove -->
        <div class="tool-section" id="tool-bg-remove">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>누끼 (배경 제거)</h2>
            <div class="info-box">AI를 사용해 이미지 배경을 자동으로 제거합니다. 처리 시간이 걸릴 수 있습니다.</div>
            <input type="file" id="bgremove-file" accept="image/*" onchange="loadBgRemoveImage(this)">
            <div style="display:flex;gap:20px;flex-wrap:wrap;margin-top:15px;">
                <div style="flex:1;min-width:200px;"><div style="color:#555;font-size:0.8rem;margin-bottom:5px;">원본</div><img id="bgremove-preview" class="img-preview" style="display:none;max-width:100%;"></div>
                <div style="flex:1;min-width:200px;"><div style="color:#555;font-size:0.8rem;margin-bottom:5px;">결과</div><img id="bgremove-result" class="img-preview" style="display:none;max-width:100%;background:url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2220%22 height=%2220%22><rect width=%2210%22 height=%2210%22 fill=%22%23333%22/><rect x=%2210%22 y=%2210%22 width=%2210%22 height=%2210%22 fill=%22%23333%22/><rect x=%2210%22 width=%2210%22 height=%2210%22 fill=%22%23222%22/><rect y=%2210%22 width=%2210%22 height=%2210%22 fill=%22%23222%22/></svg>');"></div>
            </div>
            <div id="bgremove-status" style="text-align:center;margin:15px 0;color:#666;"></div>
            <button class="btn btn-primary" onclick="removeBackground()" id="bgremove-btn">배경 제거</button>
            <a id="bgremove-download" class="btn" style="display:none;text-decoration:none;">다운로드</a>
        </div>

        <!-- Placeholder Image -->
        <div class="tool-section" id="tool-placeholder">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>플레이스홀더 이미지</h2>
            <div class="row">
                <input type="number" id="ph-width" value="400" placeholder="Width">
                <input type="number" id="ph-height" value="300" placeholder="Height">
            </div>
            <div class="row">
                <input type="color" id="ph-bg" value="#333333">
                <input type="color" id="ph-text" value="#666666">
            </div>
            <input type="text" id="ph-label" placeholder="텍스트 (비우면 크기 표시)">
            <button class="btn btn-primary" onclick="generatePlaceholder()">생성</button>
            <canvas id="ph-canvas" style="display:none;"></canvas>
            <img id="ph-preview" class="img-preview" style="display:none;margin-top:15px;">
            <a id="ph-download" class="btn" style="display:none;text-decoration:none;margin-top:10px;">다운로드</a>
        </div>

        <!-- Encoding -->
        <div class="tool-section" id="tool-base64">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Base64</h2>
            <textarea id="base64-input"></textarea>
            <button class="btn" onclick="encodeBase64()">인코딩</button>
            <button class="btn" onclick="decodeBase64()">디코딩</button>
            <div class="result-box"><div id="base64-result">-</div></div>
            <button class="copy-btn" onclick="copyText('base64-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-url">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>URL Encode/Decode</h2>
            <textarea id="url-input"></textarea>
            <button class="btn" onclick="encodeURL()">인코딩</button>
            <button class="btn" onclick="decodeURL()">디코딩</button>
            <div class="result-box"><div id="url-result">-</div></div>
            <button class="copy-btn" onclick="copyText('url-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-hash">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>해시 생성</h2>
            <textarea id="hash-input" oninput="generateHash()"></textarea>
            <div class="result-box">
                <div style="margin-bottom:8px;"><span style="color:#555;">MD5:</span> <span id="md5-result">-</span></div>
                <div style="margin-bottom:8px;"><span style="color:#555;">SHA-1:</span> <span id="sha1-result">-</span></div>
                <div><span style="color:#555;">SHA-256:</span> <span id="sha256-result">-</span></div>
            </div>
        </div>

        <div class="tool-section" id="tool-html">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>HTML Escape</h2>
            <textarea id="html-input"></textarea>
            <button class="btn" onclick="escapeHTML()">Escape</button>
            <button class="btn" onclick="unescapeHTML()">Unescape</button>
            <div class="result-box"><div id="html-result">-</div></div>
            <button class="copy-btn" onclick="copyText('html-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-jwt">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>JWT 디코더</h2>
            <textarea id="jwt-input" placeholder="eyJhbGciOiJIUzI1NiIs..."></textarea>
            <button class="btn btn-primary" onclick="decodeJWT()">디코딩</button>
            <div class="result-box">
                <div style="margin-bottom:10px;"><strong style="color:#6a9fb5;">Header:</strong><pre id="jwt-header" style="margin:5px 0;white-space:pre-wrap;">-</pre></div>
                <div style="margin-bottom:10px;"><strong style="color:#6a9fb5;">Payload:</strong><pre id="jwt-payload" style="margin:5px 0;white-space:pre-wrap;">-</pre></div>
            </div>
        </div>

        <!-- Dev Tools -->
        <div class="tool-section" id="tool-json">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>JSON Formatter</h2>
            <textarea id="json-input" placeholder='{"key": "value"}'></textarea>
            <button class="btn" onclick="formatJSON()">정리</button>
            <button class="btn" onclick="minifyJSON()">압축</button>
            <div class="result-box"><pre id="json-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('json-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-json-xml">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>JSON ↔ XML</h2>
            <textarea id="jsonxml-input" placeholder="JSON 또는 XML 입력"></textarea>
            <button class="btn" onclick="jsonToXml()">JSON → XML</button>
            <button class="btn" onclick="xmlToJson()">XML → JSON</button>
            <div class="result-box"><pre id="jsonxml-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('jsonxml-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-minify">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>코드 압축/정리</h2>
            <select id="minify-type">
                <option value="js">JavaScript</option>
                <option value="css">CSS</option>
                <option value="html">HTML</option>
            </select>
            <textarea id="minify-input" placeholder="코드 입력"></textarea>
            <button class="btn" onclick="minifyCode()">압축</button>
            <button class="btn" onclick="beautifyCode()">정리</button>
            <div class="result-box"><pre id="minify-result" style="white-space:pre-wrap;margin:0;">-</pre></div>
            <button class="copy-btn" onclick="copyText('minify-result')">복사</button>
        </div>

        <div class="tool-section" id="tool-timestamp">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>타임스탬프</h2>
            <div class="row">
                <div><input type="number" id="ts-unix" placeholder="Unix Timestamp"><button class="btn" onclick="unixToDate()">→ Date</button></div>
                <div><input type="datetime-local" id="ts-date"><button class="btn" onclick="dateToUnix()">→ Unix</button></div>
            </div>
            <div class="result-box">
                <div>현재: <span id="current-ts">-</span></div>
                <div style="margin-top:8px;" id="ts-result"></div>
            </div>
        </div>

        <div class="tool-section" id="tool-color">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>색상 변환</h2>
            <input type="color" id="color-picker" value="#888888" onchange="convertColor()">
            <div class="color-preview" id="color-preview" style="background:#888;"></div>
            <div class="color-info">
                <div><span class="label">HEX</span><span id="hex-value">#888888</span></div>
                <div><span class="label">RGB</span><span id="rgb-value">rgb(136,136,136)</span></div>
                <div><span class="label">HSL</span><span id="hsl-value">hsl(0,0%,53%)</span></div>
            </div>
        </div>

        <div class="tool-section" id="tool-regex">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>정규식 테스트</h2>
            <div class="row">
                <input type="text" id="regex-pattern" placeholder="Pattern" oninput="testRegex()">
                <input type="text" id="regex-flags" value="g" placeholder="Flags" style="max-width:80px;" oninput="testRegex()">
            </div>
            <textarea id="regex-text" placeholder="Test text" oninput="testRegex()"></textarea>
            <div class="result-box"><div id="regex-result">-</div></div>
        </div>

        <div class="tool-section" id="tool-cron">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Cron 표현식</h2>
            <div class="row">
                <input type="text" id="cron-min" value="*" placeholder="분">
                <input type="text" id="cron-hour" value="*" placeholder="시">
                <input type="text" id="cron-day" value="*" placeholder="일">
                <input type="text" id="cron-month" value="*" placeholder="월">
                <input type="text" id="cron-week" value="*" placeholder="요일">
            </div>
            <div class="info-box">분(0-59) 시(0-23) 일(1-31) 월(1-12) 요일(0-6, 0=일요일)<br>* = 매번, */5 = 5마다, 1,15 = 1과 15</div>
            <button class="btn btn-primary" onclick="generateCron()">생성</button>
            <div class="password-display" id="cron-result">* * * * *</div>
            <div id="cron-desc" style="text-align:center;color:#666;font-size:0.85rem;"></div>
            <button class="copy-btn" onclick="copyText('cron-result')" style="display:block;margin:10px auto;">복사</button>
        </div>

        <div class="tool-section" id="tool-meta">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>메타 태그 생성기</h2>
            <input type="text" id="meta-title" placeholder="제목">
            <textarea id="meta-desc" placeholder="설명 (150자 권장)"></textarea>
            <input type="text" id="meta-url" placeholder="URL">
            <input type="text" id="meta-image" placeholder="이미지 URL">
            <button class="btn btn-primary" onclick="generateMeta()">생성</button>
            <div class="result-box"><pre id="meta-result" style="white-space:pre-wrap;margin:0;font-size:0.75rem;">-</pre></div>
            <button class="copy-btn" onclick="copyText('meta-result')">복사</button>
        </div>

        <!-- CSS Unit -->
        <div class="tool-section" id="tool-css-unit">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>CSS 단위 변환</h2>
            <div class="info-box">기본 폰트 크기: 16px (브라우저 기본값)</div>
            <div class="row">
                <input type="number" id="css-value" value="16" placeholder="값" oninput="convertCssUnit()">
                <select id="css-from" onchange="convertCssUnit()">
                    <option value="px">px</option>
                    <option value="rem">rem</option>
                    <option value="em">em</option>
                    <option value="pt">pt</option>
                    <option value="vw">vw</option>
                    <option value="vh">vh</option>
                </select>
            </div>
            <input type="number" id="css-base" value="16" placeholder="기준 폰트 크기 (px)" oninput="convertCssUnit()">
            <div class="result-box" id="css-unit-result">-</div>
        </div>

        <!-- HTTP Status -->
        <div class="tool-section" id="tool-http-status">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>HTTP 상태 코드</h2>
            <input type="number" id="http-code" placeholder="상태 코드 입력 (예: 404)" oninput="lookupHttpStatus()">
            <div class="result-box" id="http-status-result">-</div>
            <div style="margin-top:20px;">
                <div style="color:#555;font-size:0.8rem;margin-bottom:10px;">자주 쓰는 코드</div>
                <div style="display:flex;flex-wrap:wrap;gap:5px;">
                    <button class="btn" onclick="document.getElementById('http-code').value='200';lookupHttpStatus()">200</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='201';lookupHttpStatus()">201</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='301';lookupHttpStatus()">301</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='400';lookupHttpStatus()">400</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='401';lookupHttpStatus()">401</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='403';lookupHttpStatus()">403</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='404';lookupHttpStatus()">404</button>
                    <button class="btn" onclick="document.getElementById('http-code').value='500';lookupHttpStatus()">500</button>
                </div>
            </div>
        </div>

        <!-- IP Info -->
        <div class="tool-section" id="tool-ip-info">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>내 IP 주소</h2>
            <button class="btn btn-primary" onclick="getMyIP()">IP 조회</button>
            <div class="stats-row" id="ip-result" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="ip-address" style="font-size:1rem;">-</div><div class="label">IP 주소</div></div>
            </div>
            <div class="result-box" id="ip-details" style="display:none;margin-top:15px;"></div>
        </div>

        <!-- User Agent -->
        <div class="tool-section" id="tool-useragent">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>User-Agent 정보</h2>
            <div class="result-box" style="word-break:break-all;"><div id="ua-string">-</div></div>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="ua-browser" style="font-size:0.9rem;">-</div><div class="label">브라우저</div></div>
                <div class="stat-box"><div class="number" id="ua-os" style="font-size:0.9rem;">-</div><div class="label">OS</div></div>
                <div class="stat-box"><div class="number" id="ua-device" style="font-size:0.9rem;">-</div><div class="label">기기</div></div>
            </div>
            <button class="copy-btn" onclick="copyText('ua-string')" style="margin-top:10px;">복사</button>
        </div>

        <!-- Slug -->
        <div class="tool-section" id="tool-slug">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>Slug 생성기</h2>
            <textarea id="slug-input" placeholder="제목이나 텍스트 입력" oninput="generateSlug()"></textarea>
            <div class="options">
                <label><input type="checkbox" id="slug-lower" checked onchange="generateSlug()"> 소문자</label>
                <label><input type="checkbox" id="slug-korean" onchange="generateSlug()"> 한글 유지</label>
            </div>
            <div class="result-box"><div id="slug-result">-</div></div>
            <button class="copy-btn" onclick="copyText('slug-result')">복사</button>
        </div>

        <!-- Calculate -->
        <div class="tool-section" id="tool-percent">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>퍼센트 계산</h2>
            <div style="margin-bottom:15px;">
                <div style="color:#555;font-size:0.8rem;margin-bottom:5px;">A의 B%는?</div>
                <div class="row" style="align-items:center;">
                    <input type="number" id="p1-a" placeholder="A">
                    <span style="color:#444;">×</span>
                    <input type="number" id="p1-b" placeholder="B">
                    <span style="color:#444;">% =</span>
                    <span id="p1-result" style="color:#ddd;font-weight:600;">?</span>
                </div>
            </div>
            <div style="margin-bottom:15px;">
                <div style="color:#555;font-size:0.8rem;margin-bottom:5px;">A는 B의 몇%?</div>
                <div class="row" style="align-items:center;">
                    <input type="number" id="p2-a" placeholder="A">
                    <span style="color:#444;">÷</span>
                    <input type="number" id="p2-b" placeholder="B">
                    <span style="color:#444;">=</span>
                    <span id="p2-result" style="color:#ddd;font-weight:600;">?</span>
                    <span style="color:#444;">%</span>
                </div>
            </div>
            <button class="btn btn-primary" onclick="calcPercent()">계산</button>
        </div>

        <div class="tool-section" id="tool-unit">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>단위 변환</h2>
            <select id="unit-type" onchange="updateUnitOptions()">
                <option value="length">길이</option>
                <option value="weight">무게</option>
                <option value="temp">온도</option>
                <option value="data">데이터</option>
            </select>
            <div class="row" style="align-items:center;">
                <input type="number" id="unit-value" placeholder="Value" oninput="convertUnit()">
                <select id="unit-from" onchange="convertUnit()"></select>
                <span style="color:#444;">=</span>
                <span id="unit-result" style="color:#ddd;font-weight:600;font-size:1.1rem;">?</span>
                <select id="unit-to" onchange="convertUnit()"></select>
            </div>
        </div>

        <div class="tool-section" id="tool-number">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>진법 변환</h2>
            <div class="row">
                <input type="text" id="num-input" placeholder="Number" oninput="convertBase()">
                <select id="num-base" onchange="convertBase()">
                    <option value="10">Decimal</option>
                    <option value="2">Binary</option>
                    <option value="8">Octal</option>
                    <option value="16">Hex</option>
                </select>
            </div>
            <div class="result-box">
                <div style="margin-bottom:5px;"><span style="color:#555;">Binary:</span> <span id="bin-result">-</span></div>
                <div style="margin-bottom:5px;"><span style="color:#555;">Octal:</span> <span id="oct-result">-</span></div>
                <div style="margin-bottom:5px;"><span style="color:#555;">Decimal:</span> <span id="dec-result">-</span></div>
                <div><span style="color:#555;">Hex:</span> <span id="hex-result">-</span></div>
            </div>
        </div>

        <div class="tool-section" id="tool-date">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>날짜 계산</h2>
            <div style="margin-bottom:20px;">
                <div style="color:#555;font-size:0.8rem;margin-bottom:5px;">D-Day</div>
                <input type="date" id="date-target">
                <div id="dday-result" style="color:#ddd;font-size:1.2rem;font-weight:600;margin-top:8px;"></div>
            </div>
            <div>
                <div style="color:#555;font-size:0.8rem;margin-bottom:5px;">두 날짜 사이</div>
                <div class="row">
                    <input type="date" id="date-from">
                    <input type="date" id="date-to">
                </div>
                <button class="btn" onclick="calcDateDiff()">계산</button>
                <div id="date-diff-result" style="color:#ddd;margin-top:8px;"></div>
            </div>
        </div>

        <div class="tool-section" id="tool-age">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>나이 계산</h2>
            <div class="options">
                <label><input type="radio" name="age-type" value="solar" checked> 양력</label>
                <label><input type="radio" name="age-type" value="lunar"> 음력</label>
            </div>
            <input type="date" id="age-birth" placeholder="생년월일">
            <button class="btn btn-primary" onclick="calcAge()">계산</button>
            <div class="stats-row" id="age-result" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="age-korean">-</div><div class="label">한국 나이</div></div>
                <div class="stat-box"><div class="number" id="age-full">-</div><div class="label">만 나이</div></div>
                <div class="stat-box"><div class="number" id="age-days">-</div><div class="label">살아온 날</div></div>
            </div>
            <div class="result-box" id="age-lunar-info" style="display:none;margin-top:15px;">
                <div>양력 변환: <span id="age-solar-date">-</span></div>
            </div>
        </div>

        <!-- BMI -->
        <div class="tool-section" id="tool-bmi">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>BMI 계산기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">키 (cm)</label><input type="number" id="bmi-height" placeholder="170"></div>
                <div><label style="color:#666;font-size:0.8rem;">몸무게 (kg)</label><input type="number" id="bmi-weight" placeholder="65"></div>
            </div>
            <button class="btn btn-primary" onclick="calcBMI()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="bmi-value">-</div><div class="label">BMI</div></div>
                <div class="stat-box"><div class="number" id="bmi-status" style="font-size:1rem;">-</div><div class="label">상태</div></div>
            </div>
            <div class="info-box" style="margin-top:15px;">저체중: ~18.5 | 정상: 18.5~23 | 과체중: 23~25 | 비만: 25~</div>
        </div>

        <!-- Loan -->
        <div class="tool-section" id="tool-loan">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>대출 이자 계산기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">대출금 (원)</label><input type="number" id="loan-amount" placeholder="10000000"></div>
                <div><label style="color:#666;font-size:0.8rem;">연이율 (%)</label><input type="number" id="loan-rate" placeholder="5" step="0.1"></div>
            </div>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">기간 (개월)</label><input type="number" id="loan-months" placeholder="12"></div>
                <select id="loan-type">
                    <option value="equal">원리금균등</option>
                    <option value="principal">원금균등</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="calcLoan()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="loan-monthly" style="font-size:1rem;">-</div><div class="label">월 상환금</div></div>
                <div class="stat-box"><div class="number" id="loan-total" style="font-size:1rem;">-</div><div class="label">총 상환금</div></div>
                <div class="stat-box"><div class="number" id="loan-interest" style="font-size:1rem;">-</div><div class="label">총 이자</div></div>
            </div>
        </div>

        <!-- Discount -->
        <div class="tool-section" id="tool-discount">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>할인율 계산기</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">원가</label><input type="number" id="disc-original" placeholder="100000"></div>
                <div><label style="color:#666;font-size:0.8rem;">할인율 (%)</label><input type="number" id="disc-rate" placeholder="30"></div>
            </div>
            <button class="btn btn-primary" onclick="calcDiscount()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="disc-price">-</div><div class="label">할인가</div></div>
                <div class="stat-box"><div class="number" id="disc-save">-</div><div class="label">절약</div></div>
            </div>
        </div>

        <!-- Tip -->
        <div class="tool-section" id="tool-tip">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>팁/더치페이 계산</h2>
            <div class="row">
                <div><label style="color:#666;font-size:0.8rem;">금액</label><input type="number" id="tip-amount" placeholder="50000"></div>
                <div><label style="color:#666;font-size:0.8rem;">팁 (%)</label><input type="number" id="tip-rate" value="10"></div>
            </div>
            <div><label style="color:#666;font-size:0.8rem;">인원</label><input type="number" id="tip-people" value="1" min="1"></div>
            <button class="btn btn-primary" onclick="calcTip()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="tip-total">-</div><div class="label">총액 (팁 포함)</div></div>
                <div class="stat-box"><div class="number" id="tip-each">-</div><div class="label">1인당</div></div>
                <div class="stat-box"><div class="number" id="tip-tipamt">-</div><div class="label">팁</div></div>
            </div>
        </div>

        <!-- VAT -->
        <div class="tool-section" id="tool-vat">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>부가세 계산기</h2>
            <input type="number" id="vat-amount" placeholder="금액">
            <div class="options">
                <label><input type="radio" name="vat-type" value="exclude" checked> 부가세 별도 (공급가)</label>
                <label><input type="radio" name="vat-type" value="include"> 부가세 포함 (총액)</label>
            </div>
            <input type="number" id="vat-rate" value="10" placeholder="세율 (%)">
            <button class="btn btn-primary" onclick="calcVAT()">계산</button>
            <div class="stats-row" style="margin-top:15px;">
                <div class="stat-box"><div class="number" id="vat-supply">-</div><div class="label">공급가액</div></div>
                <div class="stat-box"><div class="number" id="vat-tax">-</div><div class="label">부가세</div></div>
                <div class="stat-box"><div class="number" id="vat-total">-</div><div class="label">총액</div></div>
            </div>
        </div>

        <!-- Utility -->
        <div class="tool-section" id="tool-pomodoro">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>뽀모도로 타이머</h2>
            <div class="timer-display" id="pomo-display">25:00</div>
            <div class="timer-controls">
                <button class="btn btn-primary" id="pomo-start" onclick="startPomodoro()">시작</button>
                <button class="btn" onclick="resetPomodoro()">리셋</button>
            </div>
            <div style="text-align:center;margin-top:15px;">
                <button class="btn" onclick="setPomoTime(25)">25분</button>
                <button class="btn" onclick="setPomoTime(5)">5분</button>
                <button class="btn" onclick="setPomoTime(15)">15분</button>
            </div>
        </div>

        <div class="tool-section" id="tool-stopwatch">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>스톱워치</h2>
            <div class="timer-display" id="sw-display">00:00.00</div>
            <div class="timer-controls">
                <button class="btn btn-primary" id="sw-start" onclick="toggleStopwatch()">시작</button>
                <button class="btn" onclick="lapStopwatch()">랩</button>
                <button class="btn btn-danger" onclick="resetStopwatch()">리셋</button>
            </div>
            <div id="sw-laps" style="margin-top:15px;"></div>
        </div>

        <div class="tool-section" id="tool-pwcheck">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>비밀번호 강도 검사</h2>
            <input type="text" id="pwcheck-input" placeholder="비밀번호 입력" oninput="checkPwStrength()">
            <div class="strength-bar"><div class="strength-fill" id="pw-strength-fill"></div></div>
            <div id="pw-strength-text" style="text-align:center;margin-top:10px;font-size:0.9rem;"></div>
            <div class="result-box" id="pw-strength-tips" style="font-size:0.8rem;"></div>
        </div>

        <!-- Countdown -->
        <div class="tool-section" id="tool-countdown">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>카운트다운 타이머</h2>
            <div class="row">
                <input type="number" id="cd-hours" value="0" min="0" placeholder="시">
                <input type="number" id="cd-minutes" value="5" min="0" max="59" placeholder="분">
                <input type="number" id="cd-seconds" value="0" min="0" max="59" placeholder="초">
            </div>
            <div class="timer-display" id="cd-display">00:05:00</div>
            <div class="timer-controls">
                <button class="btn btn-primary" id="cd-start" onclick="toggleCountdown()">시작</button>
                <button class="btn" onclick="resetCountdown()">리셋</button>
            </div>
        </div>

        <!-- World Clock -->
        <div class="tool-section" id="tool-worldclock">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>세계 시간</h2>
            <div id="world-clocks" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px;"></div>
        </div>

        <!-- Notepad -->
        <div class="tool-section" id="tool-notepad">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>메모장</h2>
            <div class="info-box">브라우저 로컬 저장소에 자동 저장됩니다.</div>
            <textarea id="notepad-input" style="min-height:300px;" oninput="saveNotepad()"></textarea>
            <div style="display:flex;justify-content:space-between;margin-top:10px;">
                <span style="color:#555;font-size:0.8rem;" id="notepad-status">저장됨</span>
                <button class="btn btn-danger" onclick="clearNotepad()">삭제</button>
            </div>
        </div>

        <!-- Palette -->
        <div class="tool-section" id="tool-palette">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>색상 팔레트 생성</h2>
            <input type="color" id="palette-base" value="#667eea" onchange="generatePalette()">
            <div class="options">
                <label><input type="radio" name="palette-type" value="analogous" checked onchange="generatePalette()"> 유사색</label>
                <label><input type="radio" name="palette-type" value="complementary" onchange="generatePalette()"> 보색</label>
                <label><input type="radio" name="palette-type" value="triadic" onchange="generatePalette()"> 삼원색</label>
                <label><input type="radio" name="palette-type" value="shades" onchange="generatePalette()"> 명암</label>
            </div>
            <div id="palette-result" style="display:flex;gap:5px;margin-top:15px;flex-wrap:wrap;"></div>
        </div>

        <!-- Emoji -->
        <div class="tool-section" id="tool-emoji">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>이모지 검색</h2>
            <input type="text" id="emoji-search" placeholder="검색 (예: smile, heart, fire)" oninput="searchEmoji()">
            <div id="emoji-result" style="display:flex;flex-wrap:wrap;gap:5px;margin-top:15px;font-size:1.5rem;"></div>
            <div id="emoji-copied" style="text-align:center;color:#5a5;margin-top:10px;display:none;">복사됨!</div>
        </div>

        <!-- Eng-Kor -->
        <div class="tool-section" id="tool-engkor">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>한↔영 변환 (오타 교정)</h2>
            <div class="info-box">영문 자판으로 한글을 치거나, 한글 자판으로 영문을 쳤을 때 변환합니다.</div>
            <textarea id="engkor-input" placeholder="ㅗ디ㅣㅐ or gksrmfdl"></textarea>
            <div>
                <button class="btn" onclick="convertEngToKor()">영→한</button>
                <button class="btn" onclick="convertKorToEng()">한→영</button>
            </div>
            <div class="result-box"><div id="engkor-result">-</div></div>
            <button class="copy-btn" onclick="copyText('engkor-result')">복사</button>
        </div>

        <!-- About -->
        <div class="tool-section" id="tool-about">
            <button class="back-btn" onclick="showMain()">← 목록</button>
            <h2>소개</h2>
            <p style="color:#666;line-height:1.8;">개발하다 보면 자주 쓰는 도구들이 있는데, 매번 찾아다니기 귀찮아서 모아봤습니다. 모든 처리는 브라우저에서 이루어지고, 서버로 데이터가 전송되지 않습니다.</p>
            <div style="margin-top:20px;padding-top:20px;border-top:1px solid #1a1a1a;">
                <p style="color:#555;font-size:0.85rem;">도움이 되셨다면 후원해주세요</p>
                <a href="https://buymeacoffee.com/wings1008" target="_blank" class="btn btn-primary" style="margin-top:10px;display:inline-block;text-decoration:none;">☕ Buy me a coffee</a>
            </div>
        </div>

        <footer>
            <p>직접 만들어서 쓰는 도구 모음</p>
            <div style="margin-top:10px;">
                <a href="#" onclick="showTool('about'); return false;">소개</a>
                <a href="https://buymeacoffee.com/wings1008" target="_blank">후원</a>
            </div>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <script>
        // Language
        let currentLang = localStorage.getItem('lang') || 'ko';
        function setLang(lang) { currentLang = lang; localStorage.setItem('lang', lang); document.getElementById('current-lang').textContent = lang.toUpperCase(); toggleLangModal(); }
        function toggleLangModal() { document.getElementById('lang-modal').classList.toggle('active'); }

        // Navigation
        function showTool(t) {
            document.getElementById('main-grid').style.display = 'none';
            document.getElementById('main-header').style.display = 'none';
            document.querySelectorAll('.tool-section').forEach(s => s.classList.remove('active'));
            document.getElementById('tool-' + t).classList.add('active');
            window.scrollTo(0, 0);
        }
        function showMain() {
            document.getElementById('main-grid').style.display = 'block';
            document.getElementById('main-header').style.display = 'block';
            document.querySelectorAll('.tool-section').forEach(s => s.classList.remove('active'));
        }

        // PDF Merge
        let pdfFiles = [];
        document.getElementById('pdf-files').addEventListener('change', e => {
            pdfFiles = Array.from(e.target.files);
            document.getElementById('pdf-file-list').innerHTML = pdfFiles.map((f,i) => `<div class="file-item"><span>${f.name}</span><button onclick="pdfFiles.splice(${i},1);this.parentElement.remove()">×</button></div>`).join('');
        });
        async function mergePDFs() {
            if (pdfFiles.length < 2) return alert('2개 이상 선택');
            const s = document.getElementById('pdf-merge-status');
            s.innerHTML = '<div style="color:#666;margin-top:10px;">병합 중...</div>';
            try {
                const merged = await PDFLib.PDFDocument.create();
                for (const f of pdfFiles) {
                    const pdf = await PDFLib.PDFDocument.load(await f.arrayBuffer());
                    (await merged.copyPages(pdf, pdf.getPageIndices())).forEach(p => merged.addPage(p));
                }
                const blob = new Blob([await merged.save()], {type:'application/pdf'});
                s.innerHTML = `<a href="${URL.createObjectURL(blob)}" download="merged.pdf" class="btn btn-primary" style="display:inline-block;margin-top:10px;text-decoration:none;">다운로드</a>`;
            } catch(e) { s.innerHTML = `<div style="color:#a55;margin-top:10px;">오류: ${e.message}</div>`; }
        }

        // PDF Convert
        let imgFiles = [];
        document.getElementById('convert-files').addEventListener('change', e => {
            imgFiles = Array.from(e.target.files);
            document.getElementById('convert-file-list').innerHTML = imgFiles.map(f => `<div class="file-item"><span>${f.name}</span></div>`).join('');
        });
        async function convertToPDF() {
            if (!imgFiles.length) return alert('이미지 선택');
            const s = document.getElementById('convert-status');
            s.innerHTML = '<div style="color:#666;margin-top:10px;">변환 중...</div>';
            try {
                const pdf = await PDFLib.PDFDocument.create();
                for (const f of imgFiles) {
                    const bytes = await f.arrayBuffer();
                    const img = f.type === 'image/png' ? await pdf.embedPng(bytes) : await pdf.embedJpg(bytes);
                    pdf.addPage([img.width, img.height]).drawImage(img, {x:0,y:0,width:img.width,height:img.height});
                }
                const blob = new Blob([await pdf.save()], {type:'application/pdf'});
                s.innerHTML = `<a href="${URL.createObjectURL(blob)}" download="converted.pdf" class="btn btn-primary" style="display:inline-block;margin-top:10px;text-decoration:none;">다운로드</a>`;
            } catch(e) { s.innerHTML = `<div style="color:#a55;margin-top:10px;">오류: ${e.message}</div>`; }
        }

        // QR
        let qr = null;
        function generateQR() {
            const t = document.getElementById('qr-input').value;
            if (!t) return;
            document.getElementById('qrcode').innerHTML = '';
            qr = new QRCode(document.getElementById('qrcode'), {text:t,width:160,height:160,colorDark:'#000',colorLight:'#fff'});
            document.getElementById('download-qr').style.display = 'inline-block';
        }
        function downloadQR() {
            const c = document.querySelector('#qrcode canvas');
            if(c){const a=document.createElement('a');a.download='qr.png';a.href=c.toDataURL();a.click();}
        }

        // Password
        function generatePassword() {
            const len = +document.getElementById('pw-length').value;
            let chars = '';
            if(document.getElementById('pw-upper').checked) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if(document.getElementById('pw-lower').checked) chars += 'abcdefghijklmnopqrstuvwxyz';
            if(document.getElementById('pw-number').checked) chars += '0123456789';
            if(document.getElementById('pw-symbol').checked) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';
            if(!chars) return;
            let pw = '';
            const arr = new Uint32Array(len);
            crypto.getRandomValues(arr);
            for(let i=0;i<len;i++) pw += chars[arr[i]%chars.length];
            document.getElementById('password-result').textContent = pw;
        }

        // UUID
        function generateUUID() {
            const n = +document.getElementById('uuid-count').value || 1;
            let r = [];
            for(let i=0;i<n;i++) r.push('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,c=>{const v=Math.random()*16|0;return(c==='x'?v:(v&0x3|0x8)).toString(16);}));
            document.getElementById('uuid-result').textContent = r.join('\n');
        }

        // Lorem
        function generateLorem() {
            const n = +document.getElementById('lorem-count').value;
            const p = ["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.","Duis aute irure dolor in reprehenderit in voluptate velit esse cillum.","Excepteur sint occaecat cupidatat non proident."];
            document.getElementById('lorem-result').textContent = Array(n).fill(0).map((_,i)=>p[i%p.length]).join('\n\n');
        }

        // Random
        function generateRandom() {
            const min = +document.getElementById('random-min').value;
            const max = +document.getElementById('random-max').value;
            const count = +document.getElementById('random-count').value;
            const unique = document.getElementById('random-unique').checked;
            let nums = [];
            if(unique && (max-min+1) < count) { alert('범위가 너무 작습니다'); return; }
            while(nums.length < count) {
                const n = Math.floor(Math.random()*(max-min+1))+min;
                if(!unique || !nums.includes(n)) nums.push(n);
            }
            document.getElementById('random-result').textContent = nums.join(', ');
        }

        // Fake Data
        function generateFake() {
            const count = +document.getElementById('fake-count').value;
            const names = ['김민준','이서연','박지훈','최수아','정예준','강하윤','조민서','윤도윤','장서윤','임시우'];
            const domains = ['gmail.com','naver.com','kakao.com','daum.net'];
            let result = [];
            for(let i=0;i<count;i++) {
                let item = {};
                if(document.getElementById('fake-name').checked) item.name = names[Math.floor(Math.random()*names.length)];
                if(document.getElementById('fake-email').checked) item.email = `user${Math.floor(Math.random()*9999)}@${domains[Math.floor(Math.random()*domains.length)]}`;
                if(document.getElementById('fake-phone').checked) item.phone = `010-${String(Math.floor(Math.random()*9000)+1000)}-${String(Math.floor(Math.random()*9000)+1000)}`;
                if(document.getElementById('fake-address').checked) item.address = `서울시 ${['강남구','서초구','마포구','종로구'][Math.floor(Math.random()*4)]}`;
                result.push(JSON.stringify(item));
            }
            document.getElementById('fake-result').textContent = result.join('\n');
        }

        // Gradient
        document.getElementById('grad-color1').addEventListener('input', updateGradient);
        document.getElementById('grad-color2').addEventListener('input', updateGradient);
        function updateGradient() {
            const c1 = document.getElementById('grad-color1').value;
            const c2 = document.getElementById('grad-color2').value;
            const dir = document.getElementById('grad-direction').value;
            const css = `linear-gradient(${dir}, ${c1}, ${c2})`;
            document.getElementById('grad-preview').style.background = css;
            document.getElementById('grad-result').textContent = `background: ${css};`;
        }
        updateGradient();

        // Shadow
        function updateShadow() {
            const x = document.getElementById('shadow-x').value;
            const y = document.getElementById('shadow-y').value;
            const blur = document.getElementById('shadow-blur').value;
            const spread = document.getElementById('shadow-spread').value;
            const color = document.getElementById('shadow-color').value;
            document.getElementById('shadow-x-val').textContent = x+'px';
            document.getElementById('shadow-y-val').textContent = y+'px';
            document.getElementById('shadow-blur-val').textContent = blur+'px';
            document.getElementById('shadow-spread-val').textContent = spread+'px';
            const css = `${x}px ${y}px ${blur}px ${spread}px ${color}`;
            document.getElementById('shadow-preview').style.boxShadow = css;
            document.getElementById('shadow-result').textContent = `box-shadow: ${css};`;
        }
        updateShadow();

        // Text
        function analyzeText() {
            const t = document.getElementById('text-input').value;
            document.getElementById('char-count').textContent = t.length;
            document.getElementById('char-no-space').textContent = t.replace(/\s/g,'').length;
            const words = t.trim() ? t.trim().split(/\s+/).length : 0;
            document.getElementById('word-count').textContent = words;
            document.getElementById('line-count').textContent = t ? t.split('\n').length : 0;
            document.getElementById('byte-count').textContent = new Blob([t]).size;
            document.getElementById('read-time').textContent = Math.ceil(words/200);
        }

        // Case
        function convertCase(type) {
            const t = document.getElementById('case-input').value;
            let r;
            if(type==='upper') r=t.toUpperCase();
            else if(type==='lower') r=t.toLowerCase();
            else if(type==='title') r=t.replace(/\w\S*/g,w=>w.charAt(0).toUpperCase()+w.substr(1).toLowerCase());
            else r=t.split('').map(c=>c===c.toUpperCase()?c.toLowerCase():c.toUpperCase()).join('');
            document.getElementById('case-result').textContent = r;
        }

        // Replace
        function replaceText() {
            document.getElementById('replace-result').textContent = document.getElementById('replace-input').value.split(document.getElementById('replace-find').value).join(document.getElementById('replace-with').value);
        }

        // Markdown
        function renderMarkdown() {
            document.getElementById('markdown-result').innerHTML = marked.parse(document.getElementById('markdown-input').value);
        }

        // Duplicate
        function removeDuplicates() {
            const lines = document.getElementById('dup-input').value.split('\n');
            document.getElementById('dup-result').textContent = [...new Set(lines)].join('\n');
        }

        // Sort
        function sortLines(type) {
            let lines = document.getElementById('sort-input').value.split('\n');
            if(type==='asc') lines.sort((a,b)=>a.localeCompare(b,'ko'));
            else if(type==='desc') lines.sort((a,b)=>b.localeCompare(a,'ko'));
            else if(type==='reverse') lines.reverse();
            else lines.sort(()=>Math.random()-0.5);
            document.getElementById('sort-result').textContent = lines.join('\n');
        }

        // Diff
        function compareText() {
            const t1 = document.getElementById('diff-input1').value;
            const t2 = document.getElementById('diff-input2').value;
            document.getElementById('diff-result').style.display = 'grid';
            document.getElementById('diff-old').textContent = t1;
            document.getElementById('diff-new').textContent = t2;
        }

        // Image Tools
        let resizeImg = null, resizeRatio = 1;
        function loadResizeImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                const img = new Image();
                img.onload = () => { resizeImg = img; resizeRatio = img.width/img.height;
                    document.getElementById('resize-preview').src = e.target.result;
                    document.getElementById('resize-preview').style.display = 'block';
                    document.getElementById('resize-width').value = img.width;
                    document.getElementById('resize-height').value = img.height;
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
        function updateResizeHeight() { if(document.getElementById('resize-ratio').checked && resizeRatio) document.getElementById('resize-height').value = Math.round(document.getElementById('resize-width').value / resizeRatio); }
        function updateResizeWidth() { if(document.getElementById('resize-ratio').checked && resizeRatio) document.getElementById('resize-width').value = Math.round(document.getElementById('resize-height').value * resizeRatio); }
        function resizeImage() {
            if(!resizeImg) return;
            const w = +document.getElementById('resize-width').value, h = +document.getElementById('resize-height').value;
            const canvas = document.getElementById('resize-canvas');
            canvas.width = w; canvas.height = h;
            canvas.getContext('2d').drawImage(resizeImg, 0, 0, w, h);
            const link = document.getElementById('resize-download');
            link.href = canvas.toDataURL('image/png'); link.download = 'resized.png'; link.style.display = 'inline-block';
        }

        let compressImg = null;
        function loadCompressImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => { compressImg = new Image(); compressImg.src = e.target.result;
                document.getElementById('compress-preview').src = e.target.result;
                document.getElementById('compress-preview').style.display = 'block';
                document.getElementById('compress-info').textContent = `원본: ${(file.size/1024).toFixed(1)} KB`;
            };
            reader.readAsDataURL(file);
        }
        function updateQualityLabel() { document.getElementById('quality-label').textContent = document.getElementById('compress-quality').value + '%'; }
        function compressImage() {
            if(!compressImg) return;
            const canvas = document.createElement('canvas');
            canvas.width = compressImg.width; canvas.height = compressImg.height;
            canvas.getContext('2d').drawImage(compressImg, 0, 0);
            const quality = document.getElementById('compress-quality').value / 100;
            const dataUrl = canvas.toDataURL('image/jpeg', quality);
            const link = document.getElementById('compress-download');
            link.href = dataUrl; link.download = 'compressed.jpg'; link.style.display = 'inline-block';
            const size = Math.round((dataUrl.length - 'data:image/jpeg;base64,'.length) * 3/4 / 1024);
            document.getElementById('compress-info').textContent += ` → 압축: ${size} KB`;
        }

        let convertImg = null;
        function loadConvertImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => { convertImg = new Image(); convertImg.src = e.target.result;
                document.getElementById('imgconv-preview').src = e.target.result;
                document.getElementById('imgconv-preview').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        function convertImage() {
            if(!convertImg) return;
            const canvas = document.createElement('canvas');
            canvas.width = convertImg.width; canvas.height = convertImg.height;
            canvas.getContext('2d').drawImage(convertImg, 0, 0);
            const format = document.getElementById('imgconv-format').value;
            const link = document.getElementById('imgconv-download');
            link.href = canvas.toDataURL(format, 0.9); link.download = `converted.${format.split('/')[1]}`; link.style.display = 'inline-block';
        }

        function imageToBase64(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                document.getElementById('imgb64-preview').src = e.target.result;
                document.getElementById('imgb64-preview').style.display = 'block';
                document.getElementById('imgb64-result').textContent = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        let cropImg = null;
        function loadCropImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => { cropImg = new Image(); cropImg.src = e.target.result;
                cropImg.onload = () => { document.getElementById('crop-w').value = cropImg.width; document.getElementById('crop-h').value = cropImg.height; };
                document.getElementById('crop-preview').src = e.target.result;
                document.getElementById('crop-preview').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        function cropImage() {
            if(!cropImg) return;
            const x = +document.getElementById('crop-x').value, y = +document.getElementById('crop-y').value;
            const w = +document.getElementById('crop-w').value, h = +document.getElementById('crop-h').value;
            const canvas = document.createElement('canvas');
            canvas.width = w; canvas.height = h;
            canvas.getContext('2d').drawImage(cropImg, x, y, w, h, 0, 0, w, h);
            const link = document.getElementById('crop-download');
            link.href = canvas.toDataURL('image/png'); link.download = 'cropped.png'; link.style.display = 'inline-block';
        }

        let faviconImg = null;
        function loadFaviconImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => { faviconImg = new Image(); faviconImg.src = e.target.result;
                document.getElementById('favicon-preview').src = e.target.result;
                document.getElementById('favicon-preview').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
        function generateFavicons() {
            if(!faviconImg) return;
            const sizes = [16, 32, 48];
            let html = '';
            sizes.forEach(size => {
                const canvas = document.createElement('canvas');
                canvas.width = size; canvas.height = size;
                canvas.getContext('2d').drawImage(faviconImg, 0, 0, size, size);
                html += `<a href="${canvas.toDataURL('image/png')}" download="favicon-${size}.png" class="btn" style="text-decoration:none;margin:5px;">${size}x${size}</a>`;
            });
            document.getElementById('favicon-downloads').innerHTML = html;
        }

        // Encoding
        function encodeBase64() { try { document.getElementById('base64-result').textContent = btoa(unescape(encodeURIComponent(document.getElementById('base64-input').value))); } catch(e) { document.getElementById('base64-result').textContent = 'Error'; } }
        function decodeBase64() { try { document.getElementById('base64-result').textContent = decodeURIComponent(escape(atob(document.getElementById('base64-input').value))); } catch(e) { document.getElementById('base64-result').textContent = 'Error'; } }
        function encodeURL() { document.getElementById('url-result').textContent = encodeURIComponent(document.getElementById('url-input').value); }
        function decodeURL() { try { document.getElementById('url-result').textContent = decodeURIComponent(document.getElementById('url-input').value); } catch(e) { document.getElementById('url-result').textContent = 'Error'; } }
        function generateHash() {
            const t = document.getElementById('hash-input').value;
            if(!t) { document.getElementById('md5-result').textContent = '-'; document.getElementById('sha1-result').textContent = '-'; document.getElementById('sha256-result').textContent = '-'; return; }
            document.getElementById('md5-result').textContent = CryptoJS.MD5(t).toString();
            document.getElementById('sha1-result').textContent = CryptoJS.SHA1(t).toString();
            document.getElementById('sha256-result').textContent = CryptoJS.SHA256(t).toString();
        }
        function escapeHTML() { document.getElementById('html-result').textContent = document.getElementById('html-input').value.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }
        function unescapeHTML() { document.getElementById('html-result').textContent = new DOMParser().parseFromString(document.getElementById('html-input').value,'text/html').documentElement.textContent; }

        function decodeJWT() {
            const token = document.getElementById('jwt-input').value.trim();
            try {
                const parts = token.split('.');
                document.getElementById('jwt-header').textContent = JSON.stringify(JSON.parse(atob(parts[0])), null, 2);
                document.getElementById('jwt-payload').textContent = JSON.stringify(JSON.parse(atob(parts[1])), null, 2);
            } catch(e) { document.getElementById('jwt-header').textContent = 'Invalid JWT'; document.getElementById('jwt-payload').textContent = '-'; }
        }

        // Dev Tools
        function formatJSON() { try { document.getElementById('json-result').textContent = JSON.stringify(JSON.parse(document.getElementById('json-input').value),null,2); } catch(e) { document.getElementById('json-result').textContent = 'Invalid JSON'; } }
        function minifyJSON() { try { document.getElementById('json-result').textContent = JSON.stringify(JSON.parse(document.getElementById('json-input').value)); } catch(e) { document.getElementById('json-result').textContent = 'Invalid JSON'; } }

        function jsonToXml() {
            try {
                const obj = JSON.parse(document.getElementById('jsonxml-input').value);
                function toXml(o, name) {
                    let xml = '';
                    if(Array.isArray(o)) { o.forEach(item => { xml += toXml(item, name); }); }
                    else if(typeof o === 'object') { xml += `<${name}>`; for(let k in o) xml += toXml(o[k], k); xml += `</${name}>`; }
                    else { xml += `<${name}>${o}</${name}>`; }
                    return xml;
                }
                document.getElementById('jsonxml-result').textContent = '<?xml version="1.0"?>\n' + toXml(obj, 'root');
            } catch(e) { document.getElementById('jsonxml-result').textContent = 'Invalid JSON'; }
        }
        function xmlToJson() {
            try {
                const parser = new DOMParser();
                const xml = parser.parseFromString(document.getElementById('jsonxml-input').value, 'text/xml');
                function toJson(node) {
                    let obj = {};
                    if(node.children.length === 0) return node.textContent;
                    for(let child of node.children) { obj[child.tagName] = toJson(child); }
                    return obj;
                }
                document.getElementById('jsonxml-result').textContent = JSON.stringify(toJson(xml.documentElement), null, 2);
            } catch(e) { document.getElementById('jsonxml-result').textContent = 'Invalid XML'; }
        }

        function minifyCode() {
            const code = document.getElementById('minify-input').value;
            const type = document.getElementById('minify-type').value;
            let result = code;
            if(type === 'js' || type === 'css') result = code.replace(/\/\*[\s\S]*?\*\/|\/\/.*/g,'').replace(/\s+/g,' ').replace(/\s*([{}:;,])\s*/g,'$1').trim();
            else if(type === 'html') result = code.replace(/>\s+</g,'><').replace(/\s+/g,' ').trim();
            document.getElementById('minify-result').textContent = result;
        }
        function beautifyCode() {
            const code = document.getElementById('minify-input').value;
            const type = document.getElementById('minify-type').value;
            let result = code;
            if(type === 'json') { try { result = JSON.stringify(JSON.parse(code), null, 2); } catch(e) {} }
            document.getElementById('minify-result').textContent = result;
        }

        // Timestamp
        function updateTs() { document.getElementById('current-ts').textContent = Math.floor(Date.now()/1000); }
        setInterval(updateTs,1000); updateTs();
        function unixToDate() { const ts=+document.getElementById('ts-unix').value; if(!isNaN(ts)) document.getElementById('ts-result').textContent = new Date(ts*1000).toLocaleString(); }
        function dateToUnix() { const d=new Date(document.getElementById('ts-date').value); if(!isNaN(d)) document.getElementById('ts-result').textContent = Math.floor(d.getTime()/1000); }

        // Color
        function convertColor() {
            const hex = document.getElementById('color-picker').value;
            document.getElementById('color-preview').style.background = hex;
            document.getElementById('hex-value').textContent = hex.toUpperCase();
            const r=parseInt(hex.slice(1,3),16),g=parseInt(hex.slice(3,5),16),b=parseInt(hex.slice(5,7),16);
            document.getElementById('rgb-value').textContent = `rgb(${r},${g},${b})`;
            const max=Math.max(r,g,b)/255,min=Math.min(r,g,b)/255,l=(max+min)/2;
            let h=0,s=0;
            if(max!==min){const d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);if(max===r/255)h=((g-b)/255/d+(g<b?6:0))/6;else if(max===g/255)h=((b-r)/255/d+2)/6;else h=((r-g)/255/d+4)/6;}
            document.getElementById('hsl-value').textContent = `hsl(${Math.round(h*360)},${Math.round(s*100)}%,${Math.round(l*100)}%)`;
        }
        convertColor();

        // Regex
        function testRegex() {
            const p=document.getElementById('regex-pattern').value,f=document.getElementById('regex-flags').value,t=document.getElementById('regex-text').value;
            if(!p||!t){document.getElementById('regex-result').textContent='-';return;}
            try{const re=new RegExp(p,f),m=t.match(re);document.getElementById('regex-result').innerHTML=m?`<span style="color:#6a6;">${m.length} matches:</span> ${m.map(x=>`<code style="background:#1a1a1a;padding:2px 5px;border-radius:3px;">${x}</code>`).join(' ')}`:'<span style="color:#a66;">No match</span>';}
            catch(e){document.getElementById('regex-result').textContent='Invalid regex';}
        }

        // Cron
        function generateCron() {
            const min = document.getElementById('cron-min').value || '*';
            const hour = document.getElementById('cron-hour').value || '*';
            const day = document.getElementById('cron-day').value || '*';
            const month = document.getElementById('cron-month').value || '*';
            const week = document.getElementById('cron-week').value || '*';
            const cron = `${min} ${hour} ${day} ${month} ${week}`;
            document.getElementById('cron-result').textContent = cron;
            let desc = '';
            if(cron === '* * * * *') desc = '매분 실행';
            else if(cron === '0 * * * *') desc = '매시 정각 실행';
            else if(cron === '0 0 * * *') desc = '매일 자정 실행';
            document.getElementById('cron-desc').textContent = desc;
        }

        // Meta
        function generateMeta() {
            const title = document.getElementById('meta-title').value;
            const desc = document.getElementById('meta-desc').value;
            const url = document.getElementById('meta-url').value;
            const image = document.getElementById('meta-image').value;
            let html = `<title>${title}</title>\n<meta name="description" content="${desc}">\n`;
            html += `<meta property="og:title" content="${title}">\n<meta property="og:description" content="${desc}">\n<meta property="og:type" content="website">\n`;
            if(url) html += `<meta property="og:url" content="${url}">\n`;
            if(image) html += `<meta property="og:image" content="${image}">\n`;
            html += `<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:title" content="${title}">\n<meta name="twitter:description" content="${desc}">`;
            document.getElementById('meta-result').textContent = html;
        }

        // Calculate
        function calcPercent() {
            const a1=+document.getElementById('p1-a').value,b1=+document.getElementById('p1-b').value;
            if(!isNaN(a1)&&!isNaN(b1)) document.getElementById('p1-result').textContent = (a1*b1/100).toFixed(2);
            const a2=+document.getElementById('p2-a').value,b2=+document.getElementById('p2-b').value;
            if(!isNaN(a2)&&!isNaN(b2)&&b2!==0) document.getElementById('p2-result').textContent = (a2/b2*100).toFixed(2);
        }

        const units={length:{mm:1,cm:10,m:1000,km:1e6,in:25.4,ft:304.8,mi:1609344},weight:{mg:1,g:1000,kg:1e6,oz:28349.5,lb:453592},temp:{c:'c',f:'f',k:'k'},data:{B:1,KB:1024,MB:1048576,GB:1073741824,TB:1099511627776}};
        function updateUnitOptions(){const t=document.getElementById('unit-type').value,o=Object.keys(units[t]).map(u=>`<option value="${u}">${u}</option>`).join('');document.getElementById('unit-from').innerHTML=o;document.getElementById('unit-to').innerHTML=o;document.getElementById('unit-to').selectedIndex=1;}
        function convertUnit(){const t=document.getElementById('unit-type').value,v=+document.getElementById('unit-value').value,from=document.getElementById('unit-from').value,to=document.getElementById('unit-to').value;if(isNaN(v)){document.getElementById('unit-result').textContent='?';return;}let r;if(t==='temp'){let c;if(from==='c')c=v;else if(from==='f')c=(v-32)*5/9;else c=v-273.15;if(to==='c')r=c;else if(to==='f')r=c*9/5+32;else r=c+273.15;}else{r=v*units[t][from]/units[t][to];}document.getElementById('unit-result').textContent=r.toFixed(4).replace(/\.?0+$/,'');}
        updateUnitOptions();

        function convertBase(){const i=document.getElementById('num-input').value.trim(),b=+document.getElementById('num-base').value;if(!i){['bin','oct','dec','hex'].forEach(x=>document.getElementById(x+'-result').textContent='-');return;}try{const n=parseInt(i,b);if(isNaN(n))throw 0;document.getElementById('bin-result').textContent=n.toString(2);document.getElementById('oct-result').textContent=n.toString(8);document.getElementById('dec-result').textContent=n.toString(10);document.getElementById('hex-result').textContent=n.toString(16).toUpperCase();}catch(e){['bin','oct','dec','hex'].forEach(x=>document.getElementById(x+'-result').textContent='Error');}}

        // Date
        document.getElementById('date-target').addEventListener('change',function(){const t=new Date(this.value),today=new Date();today.setHours(0,0,0,0);const d=Math.ceil((t-today)/864e5);document.getElementById('dday-result').textContent=d>0?`D-${d}`:d<0?`D+${-d}`:'D-Day';});
        function calcDateDiff(){const f=new Date(document.getElementById('date-from').value),t=new Date(document.getElementById('date-to').value),d=Math.abs(Math.ceil((t-f)/864e5));document.getElementById('date-diff-result').textContent=`${d}일 (${Math.floor(d/7)}주 ${d%7}일)`;}

        // Age Calculator with Lunar
        const lunarData = [0x04bd8,0x04ae0,0x0a570,0x054d5,0x0d260,0x0d950,0x16554,0x056a0,0x09ad0,0x055d2,0x04ae0,0x0a5b6,0x0a4d0,0x0d250,0x1d255,0x0b540,0x0d6a0,0x0ada2,0x095b0,0x14977,0x04970,0x0a4b0,0x0b4b5,0x06a50,0x06d40,0x1ab54,0x02b60,0x09570,0x052f2,0x04970,0x06566,0x0d4a0,0x0ea50,0x06e95,0x05ad0,0x02b60,0x186e3,0x092e0,0x1c8d7,0x0c950,0x0d4a0,0x1d8a6,0x0b550,0x056a0,0x1a5b4,0x025d0,0x092d0,0x0d2b2,0x0a950,0x0b557,0x06ca0,0x0b550,0x15355,0x04da0,0x0a5d0,0x14573,0x052d0,0x0a9a8,0x0e950,0x06aa0,0x0aea6,0x0ab50,0x04b60,0x0aae4,0x0a570,0x05260,0x0f263,0x0d950,0x05b57,0x056a0,0x096d0,0x04dd5,0x04ad0,0x0a4d0,0x0d4d4,0x0d250,0x0d558,0x0b540,0x0b5a0,0x195a6,0x095b0,0x049b0,0x0a974,0x0a4b0,0x0b27a,0x06a50,0x06d40,0x0af46,0x0ab60,0x09570,0x04af5,0x04970,0x064b0,0x074a3,0x0ea50,0x06b58,0x055c0,0x0ab60,0x096d5,0x092e0,0x0c960,0x0d954,0x0d4a0,0x0da50,0x07552,0x056a0,0x0abb7,0x025d0,0x092d0,0x0cab5,0x0a950,0x0b4a0,0x0baa4,0x0ad50,0x055d9,0x04ba0,0x0a5b0,0x15176,0x052b0,0x0a930,0x07954,0x06aa0,0x0ad50,0x05b52,0x04b60,0x0a6e6,0x0a4e0,0x0d260,0x0ea65,0x0d530,0x05aa0,0x076a3,0x096d0,0x04afb,0x04ad0,0x0a4d0,0x1d0b6,0x0d250,0x0d520,0x0dd45,0x0b5a0,0x056d0,0x055b2,0x049b0,0x0a577,0x0a4b0,0x0aa50,0x1b255,0x06d20,0x0ada0,0x14b63];
        function lunarToSolar(y, m, d) {
            if(y < 1900 || y > 2049) return null;
            let offset = 0;
            for(let i = 1900; i < y; i++) { offset += getLunarYearDays(i); }
            for(let i = 1; i < m; i++) { offset += getLunarMonthDays(y, i); }
            offset += d - 1;
            const base = new Date(1900, 0, 31);
            return new Date(base.getTime() + offset * 86400000);
        }
        function getLunarYearDays(y) { let sum = 348; for(let i = 0x8000; i > 0x8; i >>= 1) sum += (lunarData[y-1900] & i) ? 1 : 0; return sum + getLeapDays(y); }
        function getLeapDays(y) { if(getLeapMonth(y)) return (lunarData[y-1900] & 0x10000) ? 30 : 29; return 0; }
        function getLeapMonth(y) { return lunarData[y-1900] & 0xf; }
        function getLunarMonthDays(y, m) { return (lunarData[y-1900] & (0x10000 >> m)) ? 30 : 29; }

        function calcAge() {
            const birthStr = document.getElementById('age-birth').value;
            if(!birthStr) return;
            const isLunar = document.querySelector('input[name="age-type"]:checked').value === 'lunar';
            let birth;
            if(isLunar) {
                const [y, m, d] = birthStr.split('-').map(Number);
                birth = lunarToSolar(y, m, d);
                if(birth) {
                    document.getElementById('age-lunar-info').style.display = 'block';
                    document.getElementById('age-solar-date').textContent = birth.toLocaleDateString('ko-KR');
                }
            } else {
                birth = new Date(birthStr);
                document.getElementById('age-lunar-info').style.display = 'none';
            }
            if(!birth) return;
            const today = new Date();
            const koreanAge = today.getFullYear() - birth.getFullYear() + 1;
            let fullAge = today.getFullYear() - birth.getFullYear();
            if(today.getMonth() < birth.getMonth() || (today.getMonth() === birth.getMonth() && today.getDate() < birth.getDate())) fullAge--;
            const days = Math.floor((today - birth) / 86400000);
            document.getElementById('age-korean').textContent = koreanAge;
            document.getElementById('age-full').textContent = fullAge;
            document.getElementById('age-days').textContent = days.toLocaleString();
        }

        // Pomodoro
        let pomoTime = 25*60, pomoInterval = null, pomoRunning = false;
        function updatePomoDisplay() { const m = Math.floor(pomoTime/60), s = pomoTime%60; document.getElementById('pomo-display').textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`; }
        function startPomodoro() {
            if(pomoRunning) { clearInterval(pomoInterval); pomoRunning = false; document.getElementById('pomo-start').textContent = '시작'; return; }
            pomoRunning = true; document.getElementById('pomo-start').textContent = '정지';
            pomoInterval = setInterval(() => { if(pomoTime > 0) { pomoTime--; updatePomoDisplay(); } else { clearInterval(pomoInterval); pomoRunning = false; alert('시간 종료!'); } }, 1000);
        }
        function resetPomodoro() { clearInterval(pomoInterval); pomoRunning = false; pomoTime = 25*60; updatePomoDisplay(); document.getElementById('pomo-start').textContent = '시작'; }
        function setPomoTime(min) { clearInterval(pomoInterval); pomoRunning = false; pomoTime = min*60; updatePomoDisplay(); document.getElementById('pomo-start').textContent = '시작'; }

        // Stopwatch
        let swTime = 0, swInterval = null, swRunning = false, swLaps = [];
        function updateSwDisplay() { const m = Math.floor(swTime/6000), s = Math.floor((swTime%6000)/100), ms = swTime%100; document.getElementById('sw-display').textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}.${String(ms).padStart(2,'0')}`; }
        function toggleStopwatch() {
            if(swRunning) { clearInterval(swInterval); swRunning = false; document.getElementById('sw-start').textContent = '시작'; return; }
            swRunning = true; document.getElementById('sw-start').textContent = '정지';
            swInterval = setInterval(() => { swTime++; updateSwDisplay(); }, 10);
        }
        function lapStopwatch() { if(swRunning) { swLaps.push(document.getElementById('sw-display').textContent); document.getElementById('sw-laps').innerHTML = swLaps.map((l,i) => `<div style="color:#666;font-size:0.85rem;">랩 ${i+1}: ${l}</div>`).join(''); } }
        function resetStopwatch() { clearInterval(swInterval); swRunning = false; swTime = 0; swLaps = []; updateSwDisplay(); document.getElementById('sw-start').textContent = '시작'; document.getElementById('sw-laps').innerHTML = ''; }

        // Password Strength
        function checkPwStrength() {
            const pw = document.getElementById('pwcheck-input').value;
            let score = 0, tips = [];
            if(pw.length >= 8) score += 20; else tips.push('8자 이상 권장');
            if(pw.length >= 12) score += 10;
            if(/[a-z]/.test(pw)) score += 15; else tips.push('소문자 추가');
            if(/[A-Z]/.test(pw)) score += 15; else tips.push('대문자 추가');
            if(/[0-9]/.test(pw)) score += 15; else tips.push('숫자 추가');
            if(/[^a-zA-Z0-9]/.test(pw)) score += 25; else tips.push('특수문자 추가');
            const fill = document.getElementById('pw-strength-fill');
            fill.style.width = score + '%';
            if(score < 30) { fill.style.background = '#c55'; document.getElementById('pw-strength-text').innerHTML = '<span style="color:#c55;">약함</span>'; }
            else if(score < 60) { fill.style.background = '#ca5'; document.getElementById('pw-strength-text').innerHTML = '<span style="color:#ca5;">보통</span>'; }
            else if(score < 80) { fill.style.background = '#5a5'; document.getElementById('pw-strength-text').innerHTML = '<span style="color:#5a5;">강함</span>'; }
            else { fill.style.background = '#5c5'; document.getElementById('pw-strength-text').innerHTML = '<span style="color:#5c5;">매우 강함</span>'; }
            document.getElementById('pw-strength-tips').innerHTML = tips.length ? '개선 팁: ' + tips.join(', ') : '좋은 비밀번호입니다!';
        }

        // Placeholder Image
        function generatePlaceholder() {
            const w = +document.getElementById('ph-width').value || 400;
            const h = +document.getElementById('ph-height').value || 300;
            const bg = document.getElementById('ph-bg').value;
            const textColor = document.getElementById('ph-text').value;
            const label = document.getElementById('ph-label').value || `${w}×${h}`;
            const canvas = document.getElementById('ph-canvas');
            canvas.width = w; canvas.height = h;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = bg;
            ctx.fillRect(0, 0, w, h);
            ctx.fillStyle = textColor;
            ctx.font = `${Math.min(w, h) / 8}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(label, w/2, h/2);
            const dataUrl = canvas.toDataURL('image/png');
            document.getElementById('ph-preview').src = dataUrl;
            document.getElementById('ph-preview').style.display = 'block';
            const link = document.getElementById('ph-download');
            link.href = dataUrl; link.download = `placeholder-${w}x${h}.png`; link.style.display = 'inline-block';
        }

        // CSS Unit
        function convertCssUnit() {
            const val = +document.getElementById('css-value').value;
            const from = document.getElementById('css-from').value;
            const base = +document.getElementById('css-base').value || 16;
            if(isNaN(val)) { document.getElementById('css-unit-result').innerHTML = '-'; return; }
            let px;
            if(from === 'px') px = val;
            else if(from === 'rem' || from === 'em') px = val * base;
            else if(from === 'pt') px = val * 1.333;
            else if(from === 'vw') px = val * window.innerWidth / 100;
            else if(from === 'vh') px = val * window.innerHeight / 100;
            const results = {
                px: px.toFixed(2),
                rem: (px / base).toFixed(4),
                em: (px / base).toFixed(4),
                pt: (px / 1.333).toFixed(2),
                vw: (px / window.innerWidth * 100).toFixed(4),
                vh: (px / window.innerHeight * 100).toFixed(4)
            };
            document.getElementById('css-unit-result').innerHTML = Object.entries(results).map(([k,v]) => `<div style="margin:5px 0;"><span style="color:#6a9fb5;">${k}:</span> ${v}</div>`).join('');
        }

        // HTTP Status
        const httpCodes = {100:'Continue',101:'Switching Protocols',200:'OK',201:'Created',202:'Accepted',204:'No Content',301:'Moved Permanently',302:'Found',304:'Not Modified',307:'Temporary Redirect',308:'Permanent Redirect',400:'Bad Request',401:'Unauthorized',403:'Forbidden',404:'Not Found',405:'Method Not Allowed',408:'Request Timeout',409:'Conflict',410:'Gone',413:'Payload Too Large',414:'URI Too Long',415:'Unsupported Media Type',422:'Unprocessable Entity',429:'Too Many Requests',500:'Internal Server Error',501:'Not Implemented',502:'Bad Gateway',503:'Service Unavailable',504:'Gateway Timeout'};
        function lookupHttpStatus() {
            const code = document.getElementById('http-code').value;
            const status = httpCodes[code];
            if(status) {
                document.getElementById('http-status-result').innerHTML = `<div style="font-size:1.2rem;color:#ddd;margin-bottom:10px;"><strong>${code}</strong> ${status}</div><div style="color:#666;">${getHttpDesc(code)}</div>`;
            } else {
                document.getElementById('http-status-result').textContent = code ? '알 수 없는 코드' : '-';
            }
        }
        function getHttpDesc(code) {
            const descs = {200:'요청 성공',201:'리소스 생성됨',301:'영구 이동 (SEO 권장)',302:'임시 이동',400:'잘못된 요청',401:'인증 필요',403:'접근 금지',404:'리소스 없음',500:'서버 오류',502:'게이트웨이 오류',503:'서비스 불가',504:'게이트웨이 타임아웃'};
            return descs[code] || '';
        }

        // IP Info
        async function getMyIP() {
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const data = await res.json();
                document.getElementById('ip-address').textContent = data.ip;
            } catch(e) {
                document.getElementById('ip-address').textContent = '조회 실패';
            }
        }

        // User Agent
        function parseUserAgent() {
            const ua = navigator.userAgent;
            document.getElementById('ua-string').textContent = ua;
            let browser = 'Unknown', os = 'Unknown', device = 'Desktop';
            if(ua.includes('Firefox')) browser = 'Firefox';
            else if(ua.includes('Edg')) browser = 'Edge';
            else if(ua.includes('Chrome')) browser = 'Chrome';
            else if(ua.includes('Safari')) browser = 'Safari';
            if(ua.includes('Windows')) os = 'Windows';
            else if(ua.includes('Mac')) os = 'macOS';
            else if(ua.includes('Linux')) os = 'Linux';
            else if(ua.includes('Android')) os = 'Android';
            else if(ua.includes('iOS') || ua.includes('iPhone')) os = 'iOS';
            if(ua.includes('Mobile')) device = 'Mobile';
            else if(ua.includes('Tablet')) device = 'Tablet';
            document.getElementById('ua-browser').textContent = browser;
            document.getElementById('ua-os').textContent = os;
            document.getElementById('ua-device').textContent = device;
        }
        parseUserAgent();

        // Slug
        function generateSlug() {
            let text = document.getElementById('slug-input').value;
            const lower = document.getElementById('slug-lower').checked;
            const keepKorean = document.getElementById('slug-korean').checked;
            if(lower) text = text.toLowerCase();
            if(!keepKorean) text = text.normalize('NFD').replace(/[\u0300-\u036f]/g, '').replace(/[가-힣]/g, '');
            text = text.replace(/[^\w\s가-힣-]/g, '').replace(/\s+/g, '-').replace(/-+/g, '-').replace(/^-|-$/g, '');
            document.getElementById('slug-result').textContent = text || '-';
        }

        // BMI
        function calcBMI() {
            const h = +document.getElementById('bmi-height').value / 100;
            const w = +document.getElementById('bmi-weight').value;
            if(!h || !w) return;
            const bmi = w / (h * h);
            document.getElementById('bmi-value').textContent = bmi.toFixed(1);
            let status = '';
            if(bmi < 18.5) status = '저체중';
            else if(bmi < 23) status = '정상';
            else if(bmi < 25) status = '과체중';
            else if(bmi < 30) status = '비만';
            else status = '고도비만';
            document.getElementById('bmi-status').textContent = status;
        }

        // Loan
        function calcLoan() {
            const p = +document.getElementById('loan-amount').value;
            const r = +document.getElementById('loan-rate').value / 100 / 12;
            const n = +document.getElementById('loan-months').value;
            const type = document.getElementById('loan-type').value;
            if(!p || !r || !n) return;
            let monthly, total;
            if(type === 'equal') {
                monthly = p * r * Math.pow(1 + r, n) / (Math.pow(1 + r, n) - 1);
                total = monthly * n;
            } else {
                const principal = p / n;
                monthly = principal + p * r;
                total = p + (p * r * (n + 1) / 2);
            }
            document.getElementById('loan-monthly').textContent = Math.round(monthly).toLocaleString() + '원';
            document.getElementById('loan-total').textContent = Math.round(total).toLocaleString() + '원';
            document.getElementById('loan-interest').textContent = Math.round(total - p).toLocaleString() + '원';
        }

        // Discount
        function calcDiscount() {
            const original = +document.getElementById('disc-original').value;
            const rate = +document.getElementById('disc-rate').value;
            if(!original) return;
            const discount = original * rate / 100;
            const price = original - discount;
            document.getElementById('disc-price').textContent = Math.round(price).toLocaleString() + '원';
            document.getElementById('disc-save').textContent = Math.round(discount).toLocaleString() + '원';
        }

        // Tip
        function calcTip() {
            const amount = +document.getElementById('tip-amount').value;
            const rate = +document.getElementById('tip-rate').value;
            const people = +document.getElementById('tip-people').value || 1;
            if(!amount) return;
            const tip = amount * rate / 100;
            const total = amount + tip;
            const each = total / people;
            document.getElementById('tip-total').textContent = Math.round(total).toLocaleString() + '원';
            document.getElementById('tip-each').textContent = Math.round(each).toLocaleString() + '원';
            document.getElementById('tip-tipamt').textContent = Math.round(tip).toLocaleString() + '원';
        }

        // VAT
        function calcVAT() {
            const amount = +document.getElementById('vat-amount').value;
            const rate = +document.getElementById('vat-rate').value;
            const type = document.querySelector('input[name="vat-type"]:checked').value;
            if(!amount) return;
            let supply, tax, total;
            if(type === 'exclude') {
                supply = amount;
                tax = amount * rate / 100;
                total = supply + tax;
            } else {
                total = amount;
                supply = amount / (1 + rate / 100);
                tax = total - supply;
            }
            document.getElementById('vat-supply').textContent = Math.round(supply).toLocaleString() + '원';
            document.getElementById('vat-tax').textContent = Math.round(tax).toLocaleString() + '원';
            document.getElementById('vat-total').textContent = Math.round(total).toLocaleString() + '원';
        }

        // Countdown
        let cdTime = 300, cdInterval = null, cdRunning = false;
        function updateCdDisplay() { const h = Math.floor(cdTime/3600), m = Math.floor((cdTime%3600)/60), s = cdTime%60; document.getElementById('cd-display').textContent = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`; }
        function toggleCountdown() {
            if(cdRunning) { clearInterval(cdInterval); cdRunning = false; document.getElementById('cd-start').textContent = '시작'; return; }
            cdTime = (+document.getElementById('cd-hours').value||0)*3600 + (+document.getElementById('cd-minutes').value||0)*60 + (+document.getElementById('cd-seconds').value||0);
            if(cdTime <= 0) return;
            cdRunning = true; document.getElementById('cd-start').textContent = '정지';
            cdInterval = setInterval(() => { if(cdTime > 0) { cdTime--; updateCdDisplay(); } else { clearInterval(cdInterval); cdRunning = false; alert('시간 종료!'); document.getElementById('cd-start').textContent = '시작'; } }, 1000);
        }
        function resetCountdown() { clearInterval(cdInterval); cdRunning = false; cdTime = (+document.getElementById('cd-hours').value||0)*3600 + (+document.getElementById('cd-minutes').value||0)*60 + (+document.getElementById('cd-seconds').value||0); updateCdDisplay(); document.getElementById('cd-start').textContent = '시작'; }

        // World Clock
        const worldTimezones = [{city:'서울',tz:'Asia/Seoul'},{city:'도쿄',tz:'Asia/Tokyo'},{city:'베이징',tz:'Asia/Shanghai'},{city:'싱가포르',tz:'Asia/Singapore'},{city:'두바이',tz:'Asia/Dubai'},{city:'런던',tz:'Europe/London'},{city:'파리',tz:'Europe/Paris'},{city:'뉴욕',tz:'America/New_York'},{city:'LA',tz:'America/Los_Angeles'},{city:'시드니',tz:'Australia/Sydney'}];
        function updateWorldClocks() {
            const html = worldTimezones.map(({city, tz}) => {
                const time = new Date().toLocaleTimeString('ko-KR', {timeZone: tz, hour: '2-digit', minute: '2-digit'});
                const date = new Date().toLocaleDateString('ko-KR', {timeZone: tz, month: 'short', day: 'numeric'});
                return `<div class="stat-box"><div class="number" style="font-size:1.1rem;">${time}</div><div class="label">${city}<br><span style="font-size:0.65rem;">${date}</span></div></div>`;
            }).join('');
            document.getElementById('world-clocks').innerHTML = html;
        }
        setInterval(updateWorldClocks, 1000);
        updateWorldClocks();

        // Notepad
        function loadNotepad() { document.getElementById('notepad-input').value = localStorage.getItem('notepad') || ''; }
        function saveNotepad() { localStorage.setItem('notepad', document.getElementById('notepad-input').value); document.getElementById('notepad-status').textContent = '저장됨 ' + new Date().toLocaleTimeString(); }
        function clearNotepad() { if(confirm('정말 삭제하시겠습니까?')) { localStorage.removeItem('notepad'); document.getElementById('notepad-input').value = ''; } }
        loadNotepad();

        // Palette
        function hexToHsl(hex) {
            let r = parseInt(hex.slice(1,3),16)/255, g = parseInt(hex.slice(3,5),16)/255, b = parseInt(hex.slice(5,7),16)/255;
            const max = Math.max(r,g,b), min = Math.min(r,g,b), l = (max+min)/2;
            let h = 0, s = 0;
            if(max !== min) {
                const d = max - min;
                s = l > 0.5 ? d/(2-max-min) : d/(max+min);
                if(max === r) h = ((g-b)/d + (g<b?6:0))/6;
                else if(max === g) h = ((b-r)/d + 2)/6;
                else h = ((r-g)/d + 4)/6;
            }
            return [h*360, s*100, l*100];
        }
        function hslToHex(h, s, l) {
            h /= 360; s /= 100; l /= 100;
            let r, g, b;
            if(s === 0) { r = g = b = l; }
            else {
                const hue2rgb = (p, q, t) => { if(t<0)t+=1; if(t>1)t-=1; if(t<1/6)return p+(q-p)*6*t; if(t<1/2)return q; if(t<2/3)return p+(q-p)*(2/3-t)*6; return p; };
                const q = l < 0.5 ? l*(1+s) : l+s-l*s, p = 2*l-q;
                r = hue2rgb(p,q,h+1/3); g = hue2rgb(p,q,h); b = hue2rgb(p,q,h-1/3);
            }
            return '#' + [r,g,b].map(x => Math.round(x*255).toString(16).padStart(2,'0')).join('');
        }
        function generatePalette() {
            const base = document.getElementById('palette-base').value;
            const type = document.querySelector('input[name="palette-type"]:checked').value;
            const [h, s, l] = hexToHsl(base);
            let colors = [];
            if(type === 'analogous') colors = [hslToHex((h-30+360)%360,s,l), base, hslToHex((h+30)%360,s,l), hslToHex((h-15+360)%360,s,l), hslToHex((h+15)%360,s,l)];
            else if(type === 'complementary') colors = [base, hslToHex((h+180)%360,s,l), hslToHex((h+180)%360,s,Math.min(l+20,100)), hslToHex(h,s,Math.min(l+20,100)), hslToHex(h,s,Math.max(l-20,0))];
            else if(type === 'triadic') colors = [base, hslToHex((h+120)%360,s,l), hslToHex((h+240)%360,s,l), hslToHex((h+60)%360,s,l), hslToHex((h+180)%360,s,l)];
            else colors = [hslToHex(h,s,Math.max(l-40,0)), hslToHex(h,s,Math.max(l-20,0)), base, hslToHex(h,s,Math.min(l+20,100)), hslToHex(h,s,Math.min(l+40,100))];
            document.getElementById('palette-result').innerHTML = colors.map(c => `<div style="width:60px;height:60px;background:${c};border-radius:8px;cursor:pointer;display:flex;align-items:flex-end;justify-content:center;" onclick="navigator.clipboard.writeText('${c}');alert('복사됨: ${c}')"><span style="font-size:0.65rem;color:#fff;text-shadow:0 0 3px #000;padding:3px;">${c}</span></div>`).join('');
        }
        generatePalette();

        // Emoji
        const emojiData = {smile:['😀','😃','😄','😁','😆','😅','🤣','😂','🙂','😊','😇','🥰','😍','🤩'],heart:['❤️','🧡','💛','💚','💙','💜','🖤','🤍','🤎','💕','💞','💓','💗','💖','💝','💘'],hand:['👍','👎','👏','🙌','🤝','🙏','✌️','🤞','🤟','🤘','👌','🤏','👈','👉','👆','👇'],fire:['🔥','💥','✨','⭐','🌟','💫','⚡','☀️','🌈','🌙'],animal:['🐶','🐱','🐭','🐹','🐰','🦊','🐻','🐼','🐨','🐯','🦁','🐮','🐷','🐸'],food:['🍎','🍐','🍊','🍋','🍌','🍉','🍇','🍓','🫐','🍒','🍑','🥭','🍍','🥥','🥝','🍅'],work:['💼','📁','📂','📅','📆','📊','📈','📉','💻','🖥️','⌨️','🖱️','🖨️'],weather:['☀️','🌤️','⛅','🌥️','☁️','🌦️','🌧️','⛈️','🌩️','🌨️','❄️','💨','🌪️'],travel:['✈️','🚗','🚕','🚌','🚎','🏎️','🚓','🚑','🚒','🚐','🛻','🚚','🚛','🚜'],flag:['🇰🇷','🇺🇸','🇯🇵','🇨🇳','🇬🇧','🇫🇷','🇩🇪','🇮🇹','🇪🇸','🇦🇺','🇨🇦','🇧🇷']};
        function searchEmoji() {
            const q = document.getElementById('emoji-search').value.toLowerCase();
            if(!q) { document.getElementById('emoji-result').innerHTML = Object.values(emojiData).flat().slice(0,50).map(e => `<span style="cursor:pointer;padding:5px;" onclick="copyEmoji('${e}')">${e}</span>`).join(''); return; }
            const results = [];
            for(const [key, emojis] of Object.entries(emojiData)) {
                if(key.includes(q)) results.push(...emojis);
            }
            document.getElementById('emoji-result').innerHTML = results.length ? results.map(e => `<span style="cursor:pointer;padding:5px;" onclick="copyEmoji('${e}')">${e}</span>`).join('') : '결과 없음';
        }
        function copyEmoji(e) { navigator.clipboard.writeText(e); document.getElementById('emoji-copied').style.display = 'block'; setTimeout(() => document.getElementById('emoji-copied').style.display = 'none', 1500); }
        searchEmoji();

        // Eng-Kor conversion
        const engToKor = {'a':'ㅁ','b':'ㅠ','c':'ㅊ','d':'ㅇ','e':'ㄷ','f':'ㄹ','g':'ㅎ','h':'ㅗ','i':'ㅑ','j':'ㅓ','k':'ㅏ','l':'ㅣ','m':'ㅡ','n':'ㅜ','o':'ㅐ','p':'ㅔ','q':'ㅂ','r':'ㄱ','s':'ㄴ','t':'ㅅ','u':'ㅕ','v':'ㅍ','w':'ㅈ','x':'ㅌ','y':'ㅛ','z':'ㅋ','Q':'ㅃ','W':'ㅉ','E':'ㄸ','R':'ㄲ','T':'ㅆ','O':'ㅒ','P':'ㅖ'};
        const korToEng = {};
        for(const [e, k] of Object.entries(engToKor)) korToEng[k] = e.toLowerCase();
        function convertEngToKor() {
            const input = document.getElementById('engkor-input').value;
            let result = '';
            for(const c of input) result += engToKor[c] || c;
            document.getElementById('engkor-result').textContent = composeHangul(result);
        }
        function convertKorToEng() {
            const input = decomposeHangul(document.getElementById('engkor-input').value);
            let result = '';
            for(const c of input) result += korToEng[c] || c;
            document.getElementById('engkor-result').textContent = result;
        }
        function composeHangul(str) {
            const cho = ['ㄱ','ㄲ','ㄴ','ㄷ','ㄸ','ㄹ','ㅁ','ㅂ','ㅃ','ㅅ','ㅆ','ㅇ','ㅈ','ㅉ','ㅊ','ㅋ','ㅌ','ㅍ','ㅎ'];
            const jung = ['ㅏ','ㅐ','ㅑ','ㅒ','ㅓ','ㅔ','ㅕ','ㅖ','ㅗ','ㅘ','ㅙ','ㅚ','ㅛ','ㅜ','ㅝ','ㅞ','ㅟ','ㅠ','ㅡ','ㅢ','ㅣ'];
            const jong = ['','ㄱ','ㄲ','ㄳ','ㄴ','ㄵ','ㄶ','ㄷ','ㄹ','ㄺ','ㄻ','ㄼ','ㄽ','ㄾ','ㄿ','ㅀ','ㅁ','ㅂ','ㅄ','ㅅ','ㅆ','ㅇ','ㅈ','ㅊ','ㅋ','ㅌ','ㅍ','ㅎ'];
            let result = '', i = 0;
            while(i < str.length) {
                const c = str[i];
                if(cho.includes(c) && i+1 < str.length && jung.includes(str[i+1])) {
                    const choIdx = cho.indexOf(c);
                    const jungIdx = jung.indexOf(str[i+1]);
                    let jongIdx = 0;
                    if(i+2 < str.length && jong.includes(str[i+2])) {
                        if(i+3 < str.length && jung.includes(str[i+3])) {
                            result += String.fromCharCode(0xAC00 + choIdx*588 + jungIdx*28);
                            i += 2;
                            continue;
                        }
                        jongIdx = jong.indexOf(str[i+2]);
                        i++;
                    }
                    result += String.fromCharCode(0xAC00 + choIdx*588 + jungIdx*28 + jongIdx);
                    i += 2;
                } else { result += c; i++; }
            }
            return result;
        }
        function decomposeHangul(str) {
            const cho = ['ㄱ','ㄲ','ㄴ','ㄷ','ㄸ','ㄹ','ㅁ','ㅂ','ㅃ','ㅅ','ㅆ','ㅇ','ㅈ','ㅉ','ㅊ','ㅋ','ㅌ','ㅍ','ㅎ'];
            const jung = ['ㅏ','ㅐ','ㅑ','ㅒ','ㅓ','ㅔ','ㅕ','ㅖ','ㅗ','ㅘ','ㅙ','ㅚ','ㅛ','ㅜ','ㅝ','ㅞ','ㅟ','ㅠ','ㅡ','ㅢ','ㅣ'];
            const jong = ['','ㄱ','ㄲ','ㄳ','ㄴ','ㄵ','ㄶ','ㄷ','ㄹ','ㄺ','ㄻ','ㄼ','ㄽ','ㄾ','ㄿ','ㅀ','ㅁ','ㅂ','ㅄ','ㅅ','ㅆ','ㅇ','ㅈ','ㅊ','ㅋ','ㅌ','ㅍ','ㅎ'];
            let result = '';
            for(const c of str) {
                const code = c.charCodeAt(0);
                if(code >= 0xAC00 && code <= 0xD7A3) {
                    const idx = code - 0xAC00;
                    result += cho[Math.floor(idx/588)] + jung[Math.floor((idx%588)/28)] + jong[idx%28];
                } else { result += c; }
            }
            return result;
        }

        // Background Remove (using Canvas-based approach as fallback)
        let bgRemoveImg = null;
        function loadBgRemoveImage(input) {
            const file = input.files[0]; if(!file) return;
            const reader = new FileReader();
            reader.onload = e => {
                bgRemoveImg = new Image();
                bgRemoveImg.src = e.target.result;
                document.getElementById('bgremove-preview').src = e.target.result;
                document.getElementById('bgremove-preview').style.display = 'block';
                document.getElementById('bgremove-result').style.display = 'none';
                document.getElementById('bgremove-download').style.display = 'none';
                document.getElementById('bgremove-status').textContent = '';
            };
            reader.readAsDataURL(file);
        }
        async function removeBackground() {
            if(!bgRemoveImg) return;
            const status = document.getElementById('bgremove-status');
            const btn = document.getElementById('bgremove-btn');
            btn.disabled = true;
            status.innerHTML = '처리 중... (AI 모델 로딩 중)<br><small style="color:#555;">처음 실행시 모델 다운로드로 시간이 걸릴 수 있습니다.</small>';
            try {
                const { removeBackground } = await import('https://cdn.jsdelivr.net/npm/@imgly/background-removal@1.4.5/+esm');
                const blob = await fetch(bgRemoveImg.src).then(r => r.blob());
                const result = await removeBackground(blob, { progress: (key, current, total) => { status.textContent = `처리 중... ${key} ${Math.round(current/total*100)}%`; } });
                const url = URL.createObjectURL(result);
                document.getElementById('bgremove-result').src = url;
                document.getElementById('bgremove-result').style.display = 'block';
                const link = document.getElementById('bgremove-download');
                link.href = url; link.download = 'removed-bg.png'; link.style.display = 'inline-block';
                status.textContent = '완료!';
            } catch(e) {
                status.innerHTML = `오류: ${e.message}<br><small>브라우저가 WebGPU/WASM을 지원하지 않을 수 있습니다.</small>`;
            }
            btn.disabled = false;
        }

        // Copy
        function copyText(id){navigator.clipboard.writeText(document.getElementById(id).textContent).then(()=>alert('복사됨'));}
    </script>
</body>
</html>